# שלב 20 - חיבור לפונקציות API בצד שרת

קבצים אלו מדמים התחברות לשרת לצורך:
- קבלת פרטי משתמש
- טעינת פרקי תהילים
- סנכרון נתונים

יש להשתמש בנתיבים `/api/...` או לשנות בהתאם לשרת שלך.תודה שהעלית את הקובץ README.md. אני רואה שאתה נמצא כעת בשלב 20 של הפרויקט שמתמקד בחיבור לפונקציות API בצד השרת.

על פי הקובץ, אתה מתכנן לממש חיבור לשרת עבור:
1. קבלת פרטי משתמש
2. טעינת פרקי תהילים
3. סנכרון נתונים

הקובץ גם מציין שיש להשתמש בנתיבים המתחילים ב-`/api/...` או לשנות בהתאם לשרת שלך.

לגבי השאלה הקודמת על "שם ה' ברוסית" - האם זה קשור לתרגום של תוכן האפליקציה לרוסית במסגרת הפיתוח הרב-לשוני שעליו עבדת? או אולי זה קשור לאופן הצגת שם ה' בפרקי התהילים בגרסה הרוסית של האפליקציה?

אשמח לדעת איך אוכל לעזור לך עם חיבור ה-API או כל נושא אחר הקשור לשלב זה של הפרויקט.רעיון מצוין! זהו פיצ'ר בעל משמעות רוחנית שיכול להוסיף ערך רב למשתמשים. בוא נפתח את הקונספט של פרקי תהילים לפי אותיות השם:

### פיצ'ר "תהילים לפי אותיות השם"

אפשר לממש זאת כך:

1. **מסך הזנת שם**:
   - שדה להזנת שם באותיות עבריות
   - אפשרות להזין שם פרטי ושם משפחה
   - אפשרות להזין שם האם (לפי מנהג מסוים)

2. **מנגנון המרה**:
   - המערכת תפרק את השם לאותיות
   - לכל אות תתאים מספר פרק:
     - י' → פרק י' (פרק 10)
     - ו' → פרק ו' (פרק 6)
     - ס' → פרק ס' (פרק 60)
     - ף' → פרק פ' (פרק 80) - לאותיות סופיות יש להתאים את האות הרגילה

3. **תצוגת הפרקים**:
   - רשימה מסודרת של הפרקים המתאימים לשם
   - הצגת הקשר בין כל אות בשם לפרק המתאים
   - אפשרות לכפתור "התחל קריאה" שיעבור דרך כל הפרקים ברצף

4. **שמירה ושיתוף**:
   - שמירת השם והפרקים בפרופיל המשתמש
   - אפשרות להוסיף מספר שמות (בני משפחה, חברים)
   - אפשרות לשיתוף רשימת הפרקים עם אחרים

5. **הרחבות אפשריות**:
   - אפשרות להוסיף פרקים לפי מנהגים שונים (למשל, הוספת פרקים 119 לפי אותיות - אשרי תמימי דרך)
   - תזכורות לקריאת הפרקים באזכרות או בימי זיכרון אישיים
   - אפשרות לקבוע קריאה קבוצתית לפי שם של אדם מסוים

6. **מימוש טכני**:
   - הוספת נתיב API חדש: `/api/psalms-by-name/{name}`
   - יצירת קומפוננטה חדשה בממשק המשתמש
   - שמירת היסטוריית שמות בנתוני המשתמש

האם תרצה שאפרט עוד על מימוש ספציפי של הפיצ'ר הזה? למשל, אוכל להציע מבנה JSON לתשובת ה-API או לפרט על הלוגיקה של התאמת האותיות לפרקים./api/users/profile - קבלת פרטי המשתמש
/api/users/preferences - העדפות משתמש (גודל טקסט, ערכת נושא, וכו')
/api/users/names - שמירת שמות לתפילה ופרקים לפי אותיות
/api/users/sync - סנכרון נתונים בין מכשירים/api/psalms/chapter/{id} - קבלת פרק תהילים ספציפי
/api/psalms/range/{from}/{to} - קבלת מספר פרקים ברצף
/api/psalms/by-name/{name} - קבלת פרקים לפי אותיות השם
/api/psalms/special/{category} - פרקים מיוחדים (רפואה, פרנסה וכו')/api/reading/history - היסטוריית קריאה
/api/reading/progress - התקדמות כללית
/api/reading/goals - מטרות קריאה ועמידה בהן
/api/reading/notes - הערות אישיות לפרקים/api/community/groups - קבוצות קריאה משותפות
/api/community/events - אירועי קריאה מתוכננים
/api/community/prayer-requests - בקשות תפילה
/api/community/notifications - התראות קהילתיות/api/content/commentaries/{chapter} - פירושים לפרק ספציפי
/api/content/audio/{chapter} - הקלטות שמע לפרק 
/api/content/meditations/{chapter} - מדיטציות מונחות לפרק
/api/content/stories/{chapter} - סיפורים הקשורים לפרק// דוגמה לבקשה: GET /api/psalms/by-name/יוסף

// מבנה תשובה:
{
  "name": "יוסף",
  "letterMapping": [
    { "letter": "י", "chapter": 10, "title": "למנצח בצרות לעתות" },
    { "letter": "ו", "chapter": 6, "title": "למנצח בנגינות על השמינית" },
    { "letter": "ס", "chapter": 60, "title": "למנצח על שושן עדות" },
    { "letter": "ף", "chapter": 80, "title": "למנצח אל שושנים" }
  ],
  "recommendedReadingOrder": [10, 6, 60, 80],
  "pdfUrl": "/api/export/pdf/name/יוסף",
  "specialNotes": "קריאת פרקים אלו מסוגלת לפי המסורת לסייע בהצלחה ושמירה"
}/api/export/pdf/name/{name} - יצירת PDF עם פרקים לפי השם
/api/export/pdf/custom/{chapters} - יצירת PDF עם פרקים מותאמים אישית
/api/export/pdf/special/{category} - יצירת PDF לפי קטגוריה (רפואה, פרנסה)שלב הבא: שילוב תצוגה רב-לשונית מלאה

בשלב זה נבצע את הדברים הבאים:
1. נייצר קובץ HTML חדש שבו ניתן לבחור שפה (עברית/רוסית/דו-לשוני).
2. נוסיף תפריט ניווט דינמי עם כפתורי בחירת שפה.
3. נטמיע תצוגת פסוקים בעברית וברוסית - כולל שם ה׳ בפורמט נבחר.
4. נוסיף אפשרות מעבר בין פרקים והצגה מותאמת אישית לפי משתמש.

יש להתחיל מטעינת הקבצים מתוך JavaScript ולשמור את הבחירה בלוקאל סטורג׳.<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>תהילים בקדושה - תצוגה רב-לשונית</title>
    <style>
        /* עיצוב בסיסי */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #3a7bd5;
            color: white;
            padding: 1rem;
            text-align: center;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            background-color: #f0f4f8;
            padding: 10px;
            border-radius: 0 0 8px 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .nav-item {
            background-color: white;
            border: 1px solid #ddd;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-item:hover {
            background-color: #e9f0f8;
        }
        
        .nav-item.active {
            background-color: #3a7bd5;
            color: white;
            border-color: #3a7bd5;
        }
        
        .language-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
        }
        
        .language-btn {
            background-color: white;
            border: 1px solid #ddd;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .language-btn.active {
            background-color: #3a7bd5;
            color: white;
            border-color: #3a7bd5;
        }
        
        .psalm-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .psalm-title {
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #3a7bd5;
            font-weight: bold;
        }
        
        .psalm-content {
            font-size: 1.1rem;
        }
        
        .verse {
            margin-bottom: 10px;
            position: relative;
        }
        
        .verse-number {
            font-weight: bold;
            color: #3a7bd5;
            margin-left: 5px;
        }
        
        .bilingual .verse {
            display: flex;
            flex-direction: column;
            gap: 5px;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .russian-text {
            color: #666;
            font-style: italic;
        }
        
        .psalm-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .nav-button {
            padding: 8px 15px;
            background-color: #f0f4f8;
            border: 1px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-button:hover {
            background-color: #e9f0f8;
        }
        
        /* מעברים חלקים */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* התאמה למובייל */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            nav {
                flex-direction: column;
                gap: 10px;
            }
            
            .language-selector {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>תהילים בקדושה</h1>
            <p>קריאת תהילים בקדושה ובטהרה</p>
        </header>
        
        <nav id="main-nav">
            <div class="nav-item active" data-page="home">דף הבית</div>
            <div class="nav-item" data-page="psalms">פרקי תהילים</div>
            <div class="nav-item" data-page="favorites">מועדפים</div>
            <div class="nav-item" data-page="settings">הגדרות</div>
        </nav>
        
        <main id="content-area">
            <!-- כאן יוצג התוכן הדינמי -->
            <div id="psalms-page" class="fade-in">
                <div class="language-selector">
                    <div class="language-btn active" data-lang="hebrew">עברית</div>
                    <div class="language-btn" data-lang="russian">רוסית</div>
                    <div class="language-btn" data-lang="bilingual">דו-לשוני</div>
                </div>
                
                <div class="psalm-container">
                    <div class="psalm-title">
                        <span class="hebrew-title">מזמור א - אשרי האיש</span>
                        <span class="russian-title" style="display: none;">Псалом 1 - Блажен человек</span>
                    </div>
                    
                    <div class="psalm-content hebrew">
                        <div class="verse"><span class="verse-number">א</span> אַשְׁרֵי הָאִישׁ אֲשֶׁר לֹא הָלַךְ בַּעֲצַת רְשָׁעִים וּבְדֶרֶךְ חַטָּאִים לֹא עָמָד וּבְמוֹשַׁב לֵצִים לֹא יָשָׁב:</div>
                        <div class="verse"><span class="verse-number">ב</span> כִּי אִם בְּתוֹרַת ה' חֶפְצוֹ וּבְתוֹרָתוֹ יֶהְגֶּה יוֹמָם וָלָיְלָה:</div>
                        <div class="verse"><span class="verse-number">ג</span> וְהָיָה כְּעֵץ שָׁתוּל עַל פַּלְגֵי מָיִם אֲשֶׁר פִּרְיוֹ יִתֵּן בְּעִתּוֹ וְעָלֵהוּ לֹא יִבּוֹל וְכֹל אֲשֶׁר יַעֲשֶׂה יַצְלִיחַ:</div>
                    </div>
                    
                    <div class="psalm-content russian" style="display: none;">
                        <div class="verse"><span class="verse-number">1</span> <span class="russian-text">Блажен человек, который не ходит по совету нечестивых, и не стоит на пути грешников, и не сидит в собрании развратителей;</span></div>
                        <div class="verse"><span class="verse-number">2</span> <span class="russian-text">Но в законе Г-спода воля его, и о законе Его размышляет он день и ночь.</span></div>
                        <div class="verse"><span class="verse-number">3</span> <span class="russian-text">И будет он как дерево, посаженное при потоках вод, которое приносит плод свой во время свое, и лист которого не вянет; и во всем, что он ни делает, успеет.</span></div>
                    </div>
                    
                    <div class="psalm-content bilingual" style="display: none;">
                        <div class="verse">
                            <div><span class="verse-number">א</span> אַשְׁרֵי הָאִישׁ אֲשֶׁר לֹא הָלַךְ בַּעֲצַת רְשָׁעִים וּבְדֶרֶךְ חַטָּאִים לֹא עָמָד וּבְמוֹשַׁב לֵצִים לֹא יָשָׁב:</div>
                            <div class="russian-text"><span class="verse-number">1</span> Блажен человек, который не ходит по совету нечестивых, и не стоит на пути грешников, и не сидит в собрании развратителей;</div>
                        </div>
                        <div class="verse">
                            <div><span class="verse-number">ב</span> כִּי אִם בְּתוֹרַת ה' חֶפְצוֹ וּבְתוֹרָתוֹ יֶהְגֶּה יוֹמָם וָלָיְלָה:</div>
                            <div class="russian-text"><span class="verse-number">2</span> Но в законе Г-спода воля его, и о законе Его размышляет он день и ночь.</div>
                        </div>
                        <div class="verse">
                            <div><span class="verse-number">ג</span> וְהָיָה כְּעֵץ שָׁתוּל עַל פַּלְגֵי מָיִם אֲשֶׁר פִּרְיוֹ יִתֵּן בְּעִתּוֹ וְעָלֵהוּ לֹא יִבּוֹל וְכֹל אֲשֶׁר יַעֲשֶׂה יַצְלִיחַ:</div>
                            <div class="russian-text"><span class="verse-number">3</span> И будет он как дерево, посаженное при потоках вод, которое приносит плод свой во время свое, и лист которого не вянет; и во всем, что он ни делает, успеет.</div>
                        </div>
                    </div>
                    
                    <div class="psalm-navigation">
                        <button class="nav-button" id="prev-psalm" disabled>הקודם</button>
                        <div>
                            <select id="psalm-selector">
                                <option value="1" selected>פרק א</option>
                                <option value="2">פרק ב</option>
                                <option value="3">פרק ג</option>
                                <option value="23">פרק כג</option>
                                <option value="121">פרק קכא</option>
                                <option value="150">פרק קנ</option>
                            </select>
                        </div>
                        <button class="nav-button" id="next-psalm">הבא</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // בחירת שפה
        document.querySelectorAll('.language-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // הסרת האקטיב מכל הכפתורים
                document.querySelectorAll('.language-btn').forEach(b => b.classList.remove('active'));
                
                // הוספת אקטיב לכפתור הנוכחי
                this.classList.add('active');
                
                // עדכון התצוגה בהתאם לשפה
                const lang = this.getAttribute('data-lang');
                updateLanguageDisplay(lang);
                
                // שמירה בלוקאל סטורג׳
                localStorage.setItem('preferredLanguage', lang);
            });
        });
        
        // עדכון תצוגת שפה
        function updateLanguageDisplay(lang) {
            // הסתרת כל התוכן
            document.querySelector('.psalm-content.hebrew').style.display = 'none';
            document.querySelector('.psalm-content.russian').style.display = 'none';
            document.querySelector('.psalm-content.bilingual').style.display = 'none';
            
            // הצגת התוכן לפי השפה שנבחרה
            document.querySelector(`.psalm-content.${lang}`).style.display = 'block';
            
            // עדכון כותרת
            if (lang === 'hebrew' || lang === 'bilingual') {
                document.querySelector('.hebrew-title').style.display = 'block';
                document.querySelector('.russian-title').style.display = 'none';
            } else if (lang === 'russian') {
                document.querySelector('.hebrew-title').style.display = 'none';
                document.querySelector('.russian-title').style.display = 'block';
            }
        }
        
        // ניווט בתפריט
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                // הסרת האקטיב מכל הפריטים
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                
                // הוספת אקטיב לפריט הנוכחי
                this.classList.add('active');
                
                // בעתיד נוכל לטעון תוכן דינמי בהתאם לדף שנבחר
            });
        });
        
        // בחירת פרק
        document.getElementById('psalm-selector').addEventListener('change', function() {
            const selectedPsalm = this.value;
            console.log(`נבחר פרק ${selectedPsalm}`);
            
            // בעתיד נוכל לטעון את הפרק הנבחר מה-API
            // loadPsalm(selectedPsalm);
            
            // עדכון כפתורי הניווט
            updateNavigationButtons(parseInt(selectedPsalm));
        });
        
        // ניווט בין פרקים
        document.getElementById('next-psalm').addEventListener('click', function() {
            const selector = document.getElementById('psalm-selector');
            const currentIndex = selector.selectedIndex;
            
            if (currentIndex < selector.options.length - 1) {
                selector.selectedIndex = currentIndex + 1;
                selector.dispatchEvent(new Event('change'));
            }
        });
        
        document.getElementById('prev-psalm').addEventListener('click', function() {
            const selector = document.getElementById('psalm-selector');
            const currentIndex = selector.selectedIndex;
            
            if (currentIndex > 0) {
                selector.selectedIndex = currentIndex - 1;
                selector.dispatchEvent(new Event('change'));
            }
        });
        
        // עדכון כפתורי ניווט
        function updateNavigationButtons(psalmNumber) {
            const prevButton = document.getElementById('prev-psalm');
            const nextButton = document.getElementById('next-psalm');
            
            prevButton.disabled = psalmNumber <= 1;
            nextButton.disabled = psalmNumber >= 150;
        }
        
        // טעינה ראשונית
        function initializeApp() {
            // טעינת העדפת שפה מהלוקאל סטורג׳
            const preferredLanguage = localStorage.getItem('preferredLanguage') || 'hebrew';
            
            // בחירת כפתור השפה המתאים
            document.querySelector(`.language-btn[data-lang="${preferredLanguage}"]`).click();
            
            // עדכון כפתורי ניווט
            updateNavigationButtons(1);
        }
        
        // הפעלת האפליקציה
        initializeApp();
    </script>
</body>
</html>// psalmsService.js - שירות לניהול פרקי תהילים וחיבור ל-API

class PsalmsService {
    constructor() {
        this.apiBaseUrl = '/api'; // בסיס ה-URL של ה-API
        this.cachedPsalms = {}; // מטמון פרקים שכבר נטענו
        this.currentLanguage = localStorage.getItem('preferredLanguage') || 'hebrew';
    }

    /**
     * טעינת פרק תהילים מה-API
     * @param {number} chapterNumber - מספר הפרק לטעינה
     * @returns {Promise} - Promise המחזיר את נתוני הפרק
     */
    async loadPsalm(chapterNumber) {
        // בדיקה אם הפרק כבר במטמון
        if (this.cachedPsalms[chapterNumber]) {
            console.log(`טוען פרק ${chapterNumber} מהמטמון המקומי`);
            return this.cachedPsalms[chapterNumber];
        }

        try {
            console.log(`טוען פרק ${chapterNumber} מה-API`);
            
            // בדוגמה זו אנחנו מדמים תשובה מה-API באמצעות נתונים סטטיים
            // במימוש אמיתי זה יהיה fetch לשרת
            const psalmData = await this.mockApiRequest(chapterNumber);
            
            // שמירה במטמון
            this.cachedPsalms[chapterNumber] = psalmData;
            
            return psalmData;
        } catch (error) {
            console.error(`שגיאה בטעינת פרק ${chapterNumber}:`, error);
            throw error;
        }
    }

    /**
     * טעינת פרקים לפי אותיות השם
     * @param {string} name - השם שעבורו יש לטעון פרקים
     * @returns {Promise} - Promise המחזיר רשימת פרקים מתאימים
     */
    async loadPsalmsByName(name) {
        try {
            console.log(`טוען פרקים לפי השם: ${name}`);
            
            // בדוגמה זו אנחנו מדמים תשובה מה-API באמצעות נתונים סטטיים
            const nameMapping = {
                'א': 1, 'ב': 2, 'ג': 3, 'ד': 4, 'ה': 5,
                'ו': 6, 'ז': 7, 'ח': 8, 'ט': 9, 'י': 10,
                'כ': 20, 'ל': 30, 'מ': 40, 'נ': 50, 'ס': 60,
                'ע': 70, 'פ': 80, 'צ': 90, 'ק': 100, 'ר': 200,
                'ש': 300, 'ת': 400
            };
            
            const chapterNumbers = [];
            
            // המרה של כל אות בשם למספר פרק
            for (const letter of name) {
                if (nameMapping[letter]) {
                    chapterNumbers.push(nameMapping[letter]);
                }
            }
            
            // טעינת כל הפרקים המתאימים
            const psalmsPromises = chapterNumbers.map(num => {
                // טיפול בפרקים שמספרם גדול מ-150
                const adjustedNum = num > 150 ? (num % 150 || 150) : num;
                return this.loadPsalm(adjustedNum);
            });
            
            const psalms = await Promise.all(psalmsPromises);
            
            return {
                name,
                chapters: psalms,
                chapterNumbers: chapterNumbers.map(num => {
                    // טיפול בפרקים שמספרם גדול מ-150
                    return num > 150 ? (num % 150 || 150) : num;
                })
            };
        } catch (error) {
            console.error(`שגיאה בטעינת פרקים לפי שם ${name}:`, error);
            throw error;
        }
    }

    /**
     * שמירת היסטוריית קריאה
     * @param {number} chapterNumber - מספר הפרק שנקרא
     */
    saveReadingHistory(chapterNumber) {
        let history = JSON.parse(localStorage.getItem('readingHistory') || '[]');
        
        // הוספת הפרק להיסטוריה רק אם הוא לא קיים כבר
        if (!history.includes(chapterNumber)) {
            history.push(chapterNumber);
            localStorage.setItem('readingHistory', JSON.stringify(history));
        }
        
        // עדכון תאריך קריאה אחרון
        const now = new Date();
        localStorage.setItem('lastReadingDate', now.toISOString());
        localStorage.setItem(`lastRead_${chapterNumber}`, now.toISOString());
    }

    /**
     * קבלת היסטוריית קריאה
     * @returns {Array} - מערך של מספרי פרקים שנקראו
     */
    getReadingHistory() {
        return JSON.parse(localStorage.getItem('readingHistory') || '[]');
    }

    /**
     * קבלת ההתקדמות הכללית
     * @returns {Object} - אובייקט עם מידע על ההתקדמות
     */
    getReadingProgress() {
        const history = this.getReadingHistory();
        const totalPsalms = 150;
        const lastReadingDate = localStorage.getItem('lastReadingDate');
        
        return {
            chaptersRead: history.length,
            totalChapters: totalPsalms,
            percentage: (history.length / totalPsalms) * 100,
            lastReadingDate: lastReadingDate ? new Date(lastReadingDate) : null
        };
    }
    
    /**
     * עדכון שפה מועדפת
     * @param {string} language - השפה המועדפת ('hebrew', 'russian', 'bilingual')
     */
    setPreferredLanguage(language) {
        this.currentLanguage = language;
        localStorage.setItem('preferredLanguage', language);
    }
    
    /**
     * קבלת שפה מועדפת
     * @returns {string} - השפה המועדפת
     */
    getPreferredLanguage() {
        return this.currentLanguage;
    }
    
    /**
     * פונקציה לדימוי בקשת API - במימוש אמיתי זה יהיה fetch אמיתי
     * @param {number} chapterNumber - מספר הפרק
     * @returns {Promise} - Promise המחזיר נתוני פרק
     */
    async mockApiRequest(chapterNumber) {
        // דימוי של זמן תגובה מהשרת
        await new Promise(resolve => setTimeout(resolve, 300));
        
        // מידע בסיסי על פרקים לצורך הדגמה
        const mockPsalmsInfo = {
            1: {
                number: 1,
                title: {
                    hebrew: 'אַשְׁרֵי הָאִישׁ',
                    russian: 'Блажен человек'
                },
                verses: [
                    {
                        number: 1,
                        hebrew: 'אַשְׁרֵי הָאִישׁ אֲשֶׁר לֹא הָלַךְ בַּעֲצַת רְשָׁעִים וּבְדֶרֶךְ חַטָּאִים לֹא עָמָד וּבְמוֹשַׁב לֵצִים לֹא יָשָׁב:',
                        russian: 'Блажен человек, который не ходит по совету нечестивых, и не стоит на пути грешников, и не сидит в собрании развратителей;'
                    },
                    {
                        number: 2,
                        hebrew: 'כִּי אִם בְּתוֹרַת ה\' חֶפְצוֹ וּבְתוֹרָתוֹ יֶהְגֶּה יוֹמָם וָלָיְלָה:',
                        russian: 'Но в законе Г-спода воля его, и о законе Его размышляет он день и ночь.'
                    },
                    {
                        number: 3,
                        hebrew: 'וְהָיָה כְּעֵץ שָׁתוּל עַל פַּלְגֵי מָיִם אֲשֶׁר פִּרְיוֹ יִתֵּן בְּעִתּוֹ וְעָלֵהוּ לֹא יִבּוֹל וְכֹל אֲשֶׁר יַעֲשֶׂה יַצְלִיחַ:',
                        russian: 'И будет он как дерево, посаженное при потоках вод, которое приносит плод свой во время свое, и лист которого не вянет; и во всем, что он ни делает, успеет.'
                    }
                ]
            },
            23: {
                number: 23,
                title: {
                    hebrew: 'מִזְמוֹר לְדָוִד ה\' רֹעִי לֹא אֶחְסָר',
                    russian: 'Псалом Давида. Г-сподь – мой пастырь'
                },
                verses: [
                    {
                        number: 1,
                        hebrew: 'מִזְמוֹר לְדָוִד ה\' רֹעִי לֹא אֶחְסָר:',
                        russian: 'Псалом Давида. Г-сподь – мой пастырь, [и] не будет у меня нехватки.'
                    },
                    {
                        number: 2,
                        hebrew: 'בִּנְאוֹת דֶּשֶׁא יַרְבִּיצֵנִי עַל מֵי מְנֻחוֹת יְנַהֲלֵנִי:',# פרויקט תהילים קדוש
## מיזם דיגיטלי לשמירת קדושת שם ה׳ בתרגומי תהילים ברוסית

---

### הצורך# פרויקט "תהילים בקדושה"
## חזון ומפת דרכים לפיתוח

### מהות הפרויקט

**"תהילים בקדושה"** הוא מיזם דיגיטלי שמטרתו לאפשר לדוברי רוסית לקרוא תהילים ותפילות עם שם ה' כתוב בצורה הלכתית ומכובדת. הפרויקט נועד לפתור בעיה נפוצה באתרים קיימים, שבהם שם ה' מופיע בצורה שעלולה לגרום לקריאה שגויה והפרת הלכה.

---

### החזון החווייתי

#### רושם ראשוני (3 שניות ראשונות)
- **מסך פתיחה** חלק ונושם – עם תנועת עננים קלה או נצנוץ של אותיות עבריות מתעופפות ברקע
- **מוזיקה עדינה** של ניגון חסידי שקט או צליל אחד נעים של פתיחה
- **אנימציה קטנה** של האותיות י-ה-ו-ה שנכתבות בכתב סת"ם ואז מתפרקות ל"ה׳"

#### חוויית משתמש
1. **ניווט אינטואיטיבי (UX)**
   - פשטות אלוקית - כפתורים גדולים וברורים
   - נגישות מקסימלית - "ילד בן 5 ורב בן 90 יסתדרו כאן יחד"
   - דרך אחת ברורה להגיע לכל יעד

2. **מראה שכולו נשמה (UI)**
   - **צבעים:** שמים תכלת / קלף בהיר / זהב קדוש (מעט)
   - **פונט:** עברית עגולה ונעימה, רוסית ברורה וקלילה
   - מינימליזם טהור - רק מה שנחוץ

3. **מרכיבי תוכן מרכזיים**
   - מצב קריאה מותאם אישית (עברית/רוסית, עם/בלי ניקוד)
   - הפעלה קולית של פרקים נבחרים
   - בוט תיקון לטקסטים חיצוניים
   - "בועות השם" - אנימציה של תיקוני שם ה' בזמן אמת

4. **קהילה בצורת גן עדן**
   - חדר לימוד וירטואלי במקום פורום רגיל
   - "שערים" לנושאים שונים (שאלות על שם ה', תרגום, פיוטים)
   - אפשרות לשליחת טקסטים לבדיקה קהילתית

---

### שלבי פיתוח הפרויקט

| שלב | כותרת | משימה | פירוט |
|------|---------|---------|---------|
| 1 | מחקר והגדרת חזון | כתיבת אפיון מלא | מגדירים מטרות, קהל יעד (בעיקר דוברי רוסית), בעיה (שם ה׳ נכתב לא נכון), ופתרון (פלטפורמה נקייה ומדויקת) |
| 2 | השראה וחזות | איסוף השראות חזותיות | בוחרים אתרים עם עיצוב טהור, שקט, מכבד. קובעים פלטת צבעים (תכלת, זהב בהיר, קלף) וסגנון פונט |
| 3 | UX – מבנה חוויית משתמש | תרשים ניווט ראשי | משרטטים איך המשתמש יגיע לעמודים: דף בית > פרק תהילים / תיקון / קהילה / תרומה |
| 4 | UI – עיצוב ויזואלי | יצירת סקיצות לעמודים | עיצוב ראשוני ב-Figma או דומיו: דף הבית, קריאת תהילים, תיקון טקסט, הצטרפות לקהילה |
| 5 | שלד האתר | בניית בסיס HTML+CSS | קבצי index.html, style.css, כולל גרסה מינימלית לקריאה נוחה מכל מכשיר |
| 6 | מנוע קריאת תהילים | מבנה לפי פרקים | יצירת עמוד לכל פרק (1–150), כולל תרגום רוסי + שם ה׳ מתוקן (י-ה-ו-ה, ה׳) |
| 7 | בוט תיקון שם ה׳ | אזור הדבקה > פלט מתוקן | JavaScript פשוט או Python שמחליף מילים כמו "Господь" ל"ה׳" לפי כללים (ניתן לפיתוח נפרד) |
| 8 | מערכת העלאת טקסטים | אזור למשתמשים לשלוח טקסטים | טופס שבו מעלים טקסט והמערכת/אתה מתקנים – בהמשך ניתן להפוך לאוטומטי עם AI |
| 9 | קהילה פעילה | דף התחברות + קבוצת טלגרם | הצטרפות פשוטה + חיבור לקהילה קיימת (טלגרם, ווצאפ, דיסקורד) |
| 10 | פיד חי / בועות קדושה | אנימציה של תיקוני שם ה׳ | תוספת בהמשך: כל תיקון מוצג כבועה עולה עם שם ה׳ – חוויה חיה ומרגשת |
| 11 | שילוב קול ותוכן נגיש | קריאה קולית / ניגון רקע | אופציה לשמוע תהילים בקול אדם, עם ניגון שקט (כשר, מבוקר), כולל מצב לילה |
| 12 | קישור לתרומות | כפתור תרומה | קישור ל-PayPal / פייבוקס עם הסבר מרגש ("עזרו לנו לתקן את העולם, שם אחר שם") |
| 13 | בדיקה הלכתית | פגישה עם רב מלווה | לוודא שהמונחים והכתיבה תקינים לפי ההלכה, כולל אישור שימוש בשם ה׳ בצורות מסוימות |
| 14 | השקה ראשונית | פתיחת האתר לציבור | גרסה ראשונה פתוחה – עם תהילים ראשוני + בוט תיקון + קהילה קטנה |
| 15 | פיתוח המשך והכנסות | שדרוגים ומודלים עסקיים | הכנסת אפשרות למנוי, הדפסת סידורים, שירותים מיוחדים לארגונים, API לתיקון שם ה׳ |

---

### מודל עסקי פוטנציאלי

1. **שירותים בתשלום**
   - תרגומים מותאמים אישית
   - הדפסת סידורים וחוברות תהילים מתוקנות
   - API לארגונים שרוצים לתקן טקסטים בהיקף גדול

2. **תמיכה קהילתית**
   - תרומות חד-פעמיות
   - מנויים חודשיים תומכים
   - שותפויות עם קהילות וארגונים דתיים

3. **הרחבות עתידיות**
   - תרגום לשפות נוספות (אנגלית, צרפתית, ספרדית)
   - הרחבה לתפילות נוספות מלבד תהילים
   - אפליקציה ייעודית למובייל

---

### דוגמה לקוד בסיסי: index.html

```html
<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>תהילים בקדושה</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>תהילים ברוסית – שם ה׳ בכבוד</h1>
    <nav>
      <a href="tehilim.html">קריאת פרקים</a>
      <a href="bot.html">תיקון שם ה׳</a>
      <a href="community.html">קהילה</a>
    </nav>
  </header>
  <main>
    <p>ברוכים הבאים לאתר תהילים ברוסית. כאן תוכלו לקרוא כל פרק כשהשם כתוב בצורה הלכתית.</p>
  </main>
  <footer>
    <p>&copy; 2025 – תהילים בקדושה</p>
  </footer>
</body>
</html>
```

### דוגמה לעיצוב בסיסי (style.css)

```css
body {
  font-family: 'Arial';
  background: #f4f4f4;
  color: #333;
  direction: rtl;
  text-align: center;
}
header {
  background: #fff;
  padding: 20px;
  box-shadow: 0 2px 5px #ccc;
}
nav a {
  margin: 0 10px;
  color: darkblue;
  text-decoration: none;
}
main {
  padding: 40px;
}
footer {
  background: #eee;
  padding: 10px;
  font-size: 0.9em;
}
```

---

### הצעות לשם הפרויקט

- "תהילים בקדושה"
- "שם קדוש – תהילים ברוסית"
- "TehilimClean"
- "קדושת השם ברוסית"

---

### מילות מפתח וערכי ליבה

- **קדושה** - שמירה על כבוד שם ה'
- **נגישות** - הנגשת תהילים לדוברי רוסית בצורה הלכתית
- **קהילה** - יצירת מרחב רוחני משותף
- **דיוק** - תיקון והקפדה על תרגום מדויק ומכבד
- **חוויה** - יצירת חיבור רגשי ורוחני לתהילים

---

"כדי שכל אדם, בכל שפה, יוכל לקרוא תהילים כמו שצריך – עם שם ה׳ כפי שראוי."// בוט תיקון שם ה' - דוגמה בסיסית
// קוד זה מציג את הלוגיקה של תיקון שם ה' בטקסט רוסי

/**
 * פונקציה לתיקון שם ה' בטקסט רוסי
 * @param {string} text - הטקסט שיש לתקן
 * @param {string} replacementType - סוג ההחלפה: 'hebrew' (ה'), 'dashes' (י-ה-ו-ה), 'hashem' (השם)
 * @returns {string} - הטקסט המתוקן
 */
function correctDivineNameInRussian(text, replacementType = 'hebrew') {
  // מילון מילים לזיהוי והחלפה
  const divineNamesInRussian = [
    'Господь',     // הנפוץ ביותר - לורד/אדון
    'Бог',         // אלוהים
    'Всевышний',   // עליון
    'Иегова',      // יהוה בתעתיק רוסי
    'ЙХВХ',        // יהוה בכתיב אחר
    'Яхве',        // יהוה בגרסה אחרת
    'Адонай',      // אדני בתעתיק
    'Элохим',      // אלוהים בתעתיק
    'Саваоф',      // צבאות
    'Шаддай',      // שדי
    // הוסף כאן עוד שמות וכינויים לפי הצורך
  ];

  // הטיות אפשריות (מקרים דקדוקיים ברוסית)
  const possibleInflections = word => {
    const base = word.toLowerCase();
    // חלק מההטיות האפשריות ברוסית (לא מושלם, אבל מכסה מקרים נפוצים)
    return [
      word,             // המילה המקורית
      word + 'а',       // יחסת גניטיב
      word + 'у',       // יחסת דטיב
      word + 'ом',      // יחסת אינסטרומנטלית
      word + 'е',       // יחסת לוקטיב
    ];
  };

  // יצירת רשימה מורחבת של כל ההטיות האפשריות
  let allNames = [];
  divineNamesInRussian.forEach(name => {
    const inflections = possibleInflections(name);
    allNames = [...allNames, ...inflections];
  });

  // מיון לפי אורך - מהארוך לקצר (כדי שלא תהיה החלפה חלקית)
  allNames.sort((a, b) => b.length - a.length);

  // בוחר איזה תחליף להשתמש
  let replacement;
  switch (replacementType) {
    case 'hebrew':
      replacement = 'ה\'';
      break;
    case 'dashes':
      replacement = 'י-ה-ו-ה';
      break;
    case 'hashem':
      replacement = 'השם';
      break;
    default:
      replacement = 'ה\'';
  }

  // החלפת כל המופעים בטקסט
  let correctedText = text;
  
  // מעבר על כל השמות האפשריים
  allNames.forEach(name => {
    // יצירת ביטוי רגולרי כדי לזהות את המילה כמילה שלמה
    // ומתחשב באותיות גדולות/קטנות
    const regExp = new RegExp(`\\b${name}\\b`, 'gi');
    
    // החלפת כל המופעים של המילה הנוכחית
    correctedText = correctedText.replace(regExp, replacement);
  });

  // סימון מיוחד של ההחלפות (אופציונלי, לצורך הדגמה)
  correctedText = correctedText.replace(new RegExp(replacement, 'g'), `<span class="divine-name">${replacement}</span>`);

  return correctedText;
}

// פונקציה להצגת התוצאה בדף
function processText() {
  const inputText = document.getElementById('inputText').value;
  const replacementType = document.querySelector('input[name="replacementType"]:checked').value;
  
  // תיקון הטקסט
  const correctedText = correctDivineNameInRussian(inputText, replacementType);
  
  // הצגת התוצאה
  document.getElementById('outputText').innerHTML = correctedText;
  
  // הצגת סטטיסטיקה בסיסית
  const originalNameCount = countDivineNames(inputText);
  const correctedNameCount = (correctedText.match(/<span class="divine-name">/g) || []).length;
  
  document.getElementById('stats').innerHTML = 
    `<p>נמצאו ${originalNameCount} מופעים פוטנציאליים של שם ה'</p>` +
    `<p>בוצעו ${correctedNameCount} תיקונים</p>`;
}

// פונקציית עזר לספירת מופעים פוטנציאליים
function countDivineNames(text) {
  const commonNames = ['Бог', 'Господь', 'Всевышний', 'Иегова', 'Яхве'];
  let count = 0;
  
  commonNames.forEach(name => {
    const regex = new RegExp(`\\b${name}\\b`, 'gi');
    const matches = text.match(regex);
    if (matches) count += matches.length;
  });
  
  return count;
}

// HTML לעמוד תיקון הטקסט (להעתיק לקובץ bot.html)
/*
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>תיקון שם ה' - תהילים בקדושה</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f8f9fa;
      color: #333;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }
    
    h1 {
      color: #2c3e50;
      margin-bottom: 30px;
    }
    
    .container {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    textarea {
      width: 100%;
      min-height: 150px;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
      direction: ltr;
      text-align: left;
    }
    
    button {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
      margin: 10px 0;
    }
    
    button:hover {
      background-color: #2980b9;
    }
    
    .output {
      margin-top: 20px;
      padding: 15px;
      background-color: #f5f5f5;
      border-radius: 4px;
      text-align: left;
      direction: ltr;
    }
    
    .divine-name {
      color: #e74c3c;
      font-weight: bold;
    }
    
    .options {
      margin: 15px 0;
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    
    .stats {
      margin-top: 15px;
      font-size: 14px;
      color: #7f8c8d;
    }
  </style>
</head>
<body>
  <h1>תיקון שם ה' בטקסט רוסי</h1>
  
  <div class="container">
    <p>הדבק את הטקסט הרוסי כאן ונתקן את שם ה' לפי ההלכה:</p>
    
    <textarea id="inputText" placeholder="הדבק כאן טקסט ברוסית..."></textarea>
    
    <div class="options">
      <label>
        <input type="radio" name="replacementType" value="hebrew" checked> 
        ה'
      </label>
      <label>
        <input type="radio" name="replacementType" value="dashes"> 
        י-ה-ו-ה
      </label>
      <label>
        <input type="radio" name="replacementType" value="hashem"> 
        השם
      </label>
    </div>
    
    <button onclick="processText()">תקן את הטקסט</button>
    
    <div class="output">
      <p>טקסט מתוקן:</p>
      <div id="outputText"></div>
    </div>
    
    <div class="stats" id="stats"></div>
  </div>
  
  <script src="script.js"></script>
</body>
</html>
*/<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>תהילים בקדושה - שמירת קדושת שם ה' בתרגום רוסי</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700&display=swap');
    
    :root {
      --color-sky: #e6f3ff;
      --color-parchment: #f7f2e4;
      --color-gold: #d4af37;
      --color-text: #1a2639;
      --color-accent: #4a6fa5;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Assistant', sans-serif;
      background: var(--color-sky);
      color: var(--color-text);
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    .bg-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.3;
      background: linear-gradient(120deg, #ffffff, var(--color-sky));
    }
    
    .floating-letter {
      position: absolute;
      font-family: serif;
      color: var(--color-accent);
      opacity: 0.1;
      animation: float 15s infinite ease-in-out;
    }
    
    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); opacity: 0; }
      20% { opacity: 0.1; }
      80% { opacity: 0.1; }
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
    }
    
    header {
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: rgba(255, 255, 255, 0.8);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .logo {
      display: flex;
      align-items: center;
      font-weight: bold;
      font-size: 1.5rem;
      color: var(--color-accent);
    }
    
    .logo img {
      height: 40px;
      margin-left: 10px;
    }
    
    nav ul {
      display: flex;
      list-style: none;
    }
    
    nav li {
      margin: 0 15px;
    }
    
    nav a {
      text-decoration: none;
      color: var(--color-text);
      font-weight: 600;
      transition: color 0.3s;
    }
    
    nav a:hover {
      color: var(--color-gold);
    }
    
    .hero {
      height: 80vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
      position: relative;
      overflow: hidden;
    }
    
    .divine-name-animation {
      margin-bottom: 30px;
    }
    
    .divine-letter {
      display: inline-block;
      font-size: 3rem;
      font-weight: bold;
      color: var(--color-gold);
      opacity: 0;
      animation: appear 4s forwards;
    }
    
    @keyframes appear {
      0% { opacity: 0; transform: translateY(20px); }
      20% { opacity: 1; transform: translateY(0); }
      80% { opacity: 1; transform: translateY(0); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    .divine-letter:nth-child(1) { animation-delay: 0.5s; }
    .divine-letter:nth-child(2) { animation-delay: 1s; }
    .divine-letter:nth-child(3) { animation-delay: 1.5s; }
    .divine-letter:nth-child(4) { animation-delay: 2s; }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--color-text);
    }
    
    .subtitle {
      font-size: 1.3rem;
      max-width: 800px;
      margin-bottom: 2rem;
      color: var(--color-accent);
    }
    
    .cta-buttons {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }
    
    .btn {
      padding: 15px 30px;
      border-radius: 30px;
      font-size: 1.1rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s;
      border: none;<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>תהילים בקדושה - שמירת קדושת שם ה' בתרגום רוסי</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700&display=swap');
    
    :root {
      --color-sky: #e6f3ff;
      --color-parchment: #f7f2e4;
      --color-gold: #d4af37;
      --color-text: #1a2639;
      --color-accent: #4a6fa5;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Assistant', sans-serif;
      background: var(--color-sky);
      color: var(--color-text);
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    .bg-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.3;
      background: linear-gradient(120deg, #ffffff, var(--color-sky));
    }
    
    .floating-letter {
      position: absolute;
      font-family: serif;
      color: var(--color-accent);
      opacity: 0.1;
      animation: float 15s infinite ease-in-out;
    }
    
    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); opacity: 0; }
      20% { opacity: 0.1; }
      80% { opacity: 0.1; }
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
    }
    
    header {
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: rgba(255, 255, 255, 0.8);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .logo {
      display: flex;
      align-items: center;
      font-weight: bold;
      font-size: 1.5rem;
      color: var(--color-accent);
    }
    
    .logo img {
      height: 40px;
      margin-left: 10px;
    }
    
    nav ul {
      display: flex;
      list-style: none;
    }
    
    nav li {
      margin: 0 15px;
    }
    
    nav a {
      text-decoration: none;
      color: var(--color-text);
      font-weight: 600;
      transition: color 0.3s;
    }
    
    nav a:hover {
      color: var(--color-gold);
    }
    
    .hero {
      height: 80vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
      position: relative;
      overflow: hidden;
    }
    
    .divine-name-animation {
      margin-bottom: 30px;
    }
    
    .divine-letter {
      display: inline-block;
      font-size: 3rem;
      font-weight: bold;
      color: var(--color-gold);
      opacity: 0;
      animation: appear 4s forwards;
    }
    
    @keyframes appear {
      0% { opacity: 0; transform: translateY(20px); }
      20% { opacity: 1; transform: translateY(0); }
      80% { opacity: 1; transform: translateY(0); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    .divine-letter:nth-child(1) { animation-delay: 0.5s; }
    .divine-letter:nth-child(2) { animation-delay: 1s; }
    .divine-letter:nth-child(3) { animation-delay: 1.5s; }
    .divine-letter:nth-child(4) { animation-delay: 2s; }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--color-text);
    }
    
    .subtitle {
      font-size: 1.3rem;
      max-width: 800px;
      margin-bottom: 2rem;
      color: var(--color-accent);
    }
    
    .cta-buttons {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }
    
    .btn {
      padding: 15px 30px;
      border-radius: 30px;
      font-size: 1.1rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s;
      border: none;
      cursor: pointer;
    }
    
    .btn-primary {
      background-color: var(--color-accent);
      color: white;
      box-shadow: 0 4px 6px rgba(74, 111, 165, 0.2);
    }
    
    .btn-primary:hover {
      background-color: #3a5a8c;
      transform: translateY(-2px);
    }
    
    .btn-secondary {
      background-color: white;
      color: var(--color-accent);
      border: 2px solid var(--color-accent);
    }
    
    .btn-secondary:hover {
      background-color: var(--color-parchment);
      transform: translateY(-2px);
    }
    
    .features {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 30px;
      padding: 4rem 2rem;
      background-color: var(--color-parchment);
    }
    
    .feature-card {
      flex: 1;
      min-width: 300px;
      max-width: 400px;
      background: white;
      border-radius: 10px;
      padding: 2rem;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      transition: transform 0.3s;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
    }
    
    .feature-icon {
      font-size: 2.5rem;
      color: var(--color-gold);
      margin-bottom: 1rem;
    }
    
    .feature-title {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: var(--color-text);
    }
    
    .divine-bubbles {
      position: fixed;
      bottom: 0;
      width: 100%;
      height: 100px;
      pointer-events: none;
    }
    
    .bubble {
      position: absolute;
      background: rgba(212, 175, 55, 0.1);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      color: var(--color-gold);
      animation: bubble 8s ease-in forwards;
    }
    
    @keyframes bubble {
      0% { transform: translateY(0) scale(1); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
    }
    
    footer {
      background: white;
      padding: 2rem;
      text-align: center;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
    }
    
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 1rem 0;
    }
    
    .footer-links a {
      color: var(--color-accent);
      text-decoration: none;
    }
    
    .footer-links a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="bg-animation"></div>
  
  <!-- Floating Hebrew letters background animation -->
  <div id="floating-letters"></div>
  
  <header>
    <div class="logo">
      <img src="/api/placeholder/40/40" alt="לוגו תהילים בקדושה">
      <span>תהילים בקדושה</span>
    </div>
    <nav>
      <ul>
        <li><a href="#">דף הבית</a></li>
        <li><a href="#">פרקי תהילים</a></li>
        <li><a href="#">בוט תיקון שם ה'</a></li>
        <li><a href="#">הצטרף לקהילה</a></li>
        <li><a href="#">תרומה</a></li>
      </ul>
    </nav>
  </header>
  
  <section class="hero">
    <div class="divine-name-animation">
      <span class="divine-letter">י</span>
      <span class="divine-letter">-</span>
      <span class="divine-letter">ה</span>
      <span class="divine-letter">-</span>
      <span class="divine-letter">ו</span>
      <span class="divine-letter">-</span>
      <span class="divine-letter">ה</span>
    </div>
    
    <h1>תהילים ברוסית - עם שם ה' כתוב כהלכה</h1>
    <p class="subtitle">פלטפורמה המאפשרת לכל אדם לקרוא תהילים בתרגום מדויק ובקדושה, תוך שמירה על כבוד שם ה'</p>
    
    <div class="cta-buttons">
      <a href="#" class="btn btn-primary">התחל לקרוא תהילים</a>
      <a href="#" class="btn btn-secondary">תקן טקסט שלך</a>
    </div>
  </section>
  
  <section class="features">
    <div class="feature-card">
      <div class="feature-icon">📖</div>
      <h3 class="feature-title">תהילים ברוסית עם שם ה' מתוקן</h3>
      <p>כל 150 פרקי תהילים בתרגום מדויק לרוסית, כאשר שם ה' מופיע בצורה הלכתית ומכובדת.</p>
    </div>
    
    <div class="feature-card">
      <div class="feature-icon">🔄</div>
      <h3 class="feature-title">בוט תיקון שם ה'</h3>
      <p>הדביקו טקסט רוסי עם שם ה' שגוי, וקבלו אותו מתוקן במיידית. פתרון פשוט למתרגמים ולקוראים.</p>
    </div>
    
    <div class="feature-card">
      <div class="feature-icon">👨‍👩‍👧‍👦</div>
      <h3 class="feature-title">קהילה תומכת</h3>
      <p>הצטרפו לקהילה של אנשים השומרים על קדושת שם ה'. שלחו טקסטים לבדיקה, שאלו שאלות, ותרמו לפרויקט.</p>
    </div>
  </section>
  
  <div class="divine-bubbles" id="bubbles-container"></div>
  
  <footer>
    <p>כדי שכל אדם, בכל שפה, יוכל לקרוא תהילים כמו שצריך – עם שם ה׳ כפי שראוי.</p>
    <div class="footer-links">
      <a href="#">אודות</a>
      <a href="#">שאל את הרב</a>
      <a href="#">צור קשר</a>
      <a href="#">תרומה</a>
    </div>
    <p>&copy; 2025 תהילים בקדושה - כל הזכויות שמורות</p>
  </footer>
  
  <script>
    // Creating floating Hebrew letters in background
    function createFloatingLetters() {
      const container = document.getElementById('floating-letters');
      const letters = ['א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט', 'י', 'כ', 'ל', 'מ', 'נ', 'ס', 'ע', 'פ', 'צ', 'ק', 'ר', 'ש', 'ת'];
      
      for (let i = 0; i < 30; i++) {
        const letter = document.createElement('div');
        letter.classList.add('floating-letter');
        letter.textContent = letters[Math.floor(Math.random() * letters.length)];
        
        // Random positioning
        letter.style.left = `${Math.random() * 100}%`;
        letter.style.top = `${Math.random() * 100}%`;
        letter.style.fontSize = `${Math.random() * 20 + 10}px`;
        
        // Random animation duration and delay
        const duration = Math.random() * 10 + 10;
        const delay = Math.random() * 10;
        letter.style.animationDuration = `${duration}s`;
        letter.style.animationDelay = `${delay}s`;
        
        container.appendChild(letter);
      }
    }
    
    // Create divine name bubbles animation
    function createBubbles() {
      const container = document.getElementById('bubbles-container');
      
      // Create a new bubble every 3 seconds
      setInterval(() => {
        const bubble = document.createElement('div');
        bubble.classList.add('bubble');
        
        const size = Math.random() * 40 + 30;
        bubble.style.width = `${size}px`;
        bubble.style.height = `${size}px`;
        
        // Place at random horizontal position
        bubble.style.left = `${Math.random() * 100}%`;
        
        // Set content to divine name
        bubble.textContent = 'ה\'';
        
        // Random animation duration
        const duration = Math.random() * 3 + 5;
        bubble.style.animationDuration = `${duration}s`;
        
        container.appendChild(bubble);
        
        // Remove bubble after animation completes
        setTimeout(() => {
          bubble.remove();
        }, duration * 1000);
      }, 3000);
    }
    
    // Initialize animations
    document.addEventListener('DOMContentLoaded', () => {
      createFloatingLetters();
      createBubbles();
    });
  </script>
</body>
</html><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>תהילים פרק כ״ג - תהילים בקדושה</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700&family=Frank+Ruhl+Libre:wght@400;700&display=swap');
    
    :root {
      --color-sky: #e6f3ff;
      --color-parchment: #f7f2e4;
      --color-gold: #d4af37;
      --color-text: #1a2639;
      --color-accent: #4a6fa5;
      --color-divine: #b38728;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Assistant', sans-serif;
      background: var(--color-parchment);
      color: var(--color-text);
      line-height: 1.6;
    }
    
    header {
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .logo {
      display: flex;
      align-items: center;
      font-weight: bold;
      font-size: 1.2rem;
      color: var(--color-accent);
    }
    
    .logo img {
      height: 30px;
      margin-left: 10px;
    }
    
    .reading-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    
    .chapter-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    
    .chapter-title {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--color-accent);
    }
    
    .chapter-controls {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    
    .chapter-select {
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
      font-size: 1rem;
      background: white;
    }
    
    .nav-button {
      background: var(--color-accent);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s;
    }
    
    .nav-button:hover {
      background: #3a5a8c;
    }
    
    .reading-options {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .option-button {
      background: white;
      border: 1px solid #ddd;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s;
    }
    
    .option-button.active {
      background: var(--color-accent);
      color: white;
      border-color: var(--color-accent);
    }
    
    .option-button:hover {
      background: #f0f0f0;
    }
    
    .option-button.active:hover {
      background: #3a5a8c;
    }
    
    .tehilim-content {
      display: flex;
      background: white;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.05);
      overflow: hidden;
    }
    
    .hebrew-text, .russian-text {
      flex: 1;
      padding: 30px;
    }
    
    .hebrew-text {
      font-family: 'Frank Ruhl Libre', serif;
      font-size: 1.3rem;
      line-height: 1.8;
      background: var(--color-parchment);
      border-left: 1px solid #eee;
    }
    
    .russian-text {
      font-size: 1.2rem;
      line-height: 1.8;
    }
    
    .verse {
      margin-bottom: 20px;
      position: relative;
    }
    
    .verse-number {
      font-weight: bold;
      color: var(--color-accent);
      margin-left: 5px;
      font-size: 0.8em;
      vertical-align: super;
    }
    
    .divine-name {
      color: var(--color-divine);
      font-weight: bold;
    }
    
    .audio-controls {
      margin-top: 30px;
      text-align: center;
      padding: 15px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    
    .audio-button {
      background: var(--color-gold);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 30px;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 0 auto;
    }
    
    .audio-button:hover {
      background: #aa8c2c;
    }
    
    .dedication-section {
      margin-top: 30px;
      text-align: center;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    
    .dedication-section h3 {
      margin-bottom: 15px;
      color: var(--color-accent);
    }
    
    .dedication-input {
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
      width: 100%;
      max-width: 400px;
      margin-bottom: 10px;
    }
    
    .dedication-button {
      background: var(--color-accent);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    
    @media (max-width: 768px) {
      .tehilim-content {
        flex-direction: column;
      }
      
      .hebrew-text, .russian-text {
        padding: 20px;
      }
      
      .hebrew-text {
        border-left: none;
        border-bottom: 1px solid #eee;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="/api/placeholder/30/30" alt="לוגו תהילים בקדושה">
      <span>תהילים בקדושה</span>
    </div>
    <nav>
      <button id="menu-toggle" class="nav-button">תפריט</button>
    </nav>
  </header>
  
  <div class="reading-container">
    <div class="chapter-navigation">
      <h1 class="chapter-title">תהילים פרק כ״ג</h1>
      <div class="chapter-controls">
        <select class="chapter-select" id="chapter-select">
          <option value="1">פרק א׳</option>
          <option value="2">פרק ב׳</option>
          <!-- יתר הפרקים כאן -->
          <option value="23" selected>פרק כ״ג</option>
          <option value="24">פרק כ״ד</option>
          <!-- יתר הפרקים כאן -->
          <option value="150">פרק ק״נ</option>
        </select>
        <button class="nav-button" id="prev-chapter">הקודם</button>
        <button class="nav-button" id="next-chapter">הבא</button>
      </div>
    </div>
    
    <div class="reading-options">
      <button class="option-button active" id="both-langs">עברית + רוסית</button>
      <button class="option-button" id="heb-only">עברית בלבד</button>
      <button class="option-button" id="rus-only">רוסית בלבד</button>
      <button class="option-button" id="toggle-nikud">ניקוד</button>
      <button class="option-button" id="increase-font">הגדל טקסט</button>
      <button class="option-button" id="decrease-font">הקטן טקסט</button>
      <button class="option-button" id="night-mode">מצב לילה</button>
    </div>
    
    <div class="tehilim-content">
      <div class="hebrew-text">
        <div class="verse">
          <span class="verse-number">א</span>
          <span>מִזְמוֹר לְדָוִד <span class="divine-name">ה׳</span> רֹעִי לֹא אֶחְסָר:</span>
        </div>
        <div class="verse">
          <span class="verse-number">ב</span>
          <span>בִּנְאוֹת דֶּשֶׁא יַרְבִּיצֵנִי עַל־מֵי מְנֻחוֹת יְנַהֲלֵנִי:</span>
        </div>
        <div class="verse">
          <span class="verse-number">ג</span>
          <span>נַפְשִׁי יְשׁוֹבֵב יַנְחֵנִי בְמַעְגְּלֵי־צֶדֶק לְמַעַן שְׁמוֹ:</span>
        </div>
        <div class="verse">
          <span class="verse-number">ד</span>
          <span>גַּם כִּי־אֵלֵךְ בְּגֵיא צַלְמָוֶת לֹא־אִירָא רָע כִּי־אַתָּה עִמָּדִי שִׁבְטְךָ וּמִשְׁעַנְתֶּךָ הֵמָּה יְנַחֲמֻנִי:</span>
        </div>
        <div class="verse">
          <span class="verse-number">ה</span>
          <span>תַּעֲרֹךְ לְפָנַי שֻׁלְחָן נֶגֶד צֹרְרָי דִּשַּׁנְתָּ בַשֶּׁמֶן רֹאשִׁי כּוֹסִי רְוָיָה:</span>
        </div>
        <div class="verse">
          <span class="verse-number">ו</span>
          <span>אַךְ טוֹב וָחֶסֶד יִרְדְּפוּנִי כָּל־יְמֵי חַיָּי וְשַׁבְתִּי בְּבֵית־<span class="divine-name">ה׳</span> לְאֹרֶךְ יָמִים:</span>
        </div>
      </div>
      
      <div class="russian-text">
        <div class="verse">
          <span class="verse-number">1</span>
          <span>Псалом Давида. <span class="divine-name">ה׳</span> — Пастырь мой; я ни в чем не буду нуждаться:</span>
        </div>
        <div class="verse">
          <span class="verse-number">2</span>
          <span>Он покоит меня на злачных пажитях и водит меня к водам тихим,</span>
        </div>
        <div class="verse">
          <span class="verse-number">3</span>
          <span>Подкрепляет душу мою, направляет меня на стези правды ради имени Своего.</span>
        </div>
        <div class="verse">
          <span class="verse-number">4</span>
          <span>Если я пойду и долиною смертной тени, не убоюсь зла, потому что Ты со мной; Твой жезл и Твой посох — они успокаивают меня.</span>
        </div>
        <div class="verse">
          <span class="verse-number">5</span>
          <span>Ты приготовил предо мною трапезу в виду врагов моих; умастил елеем голову мою; чаша моя преисполнена.</span>
        </div>
        <div class="verse">
          <span class="verse-number">6</span>
          <span>Так, благость и милость да сопровождают меня во все дни жизни моей, и я пребуду в доме <span class="divine-name">ה׳</span> многие дни.</span>
        </div>
      </div>
    </div>
    
    <div class="audio-controls">
      <button class="audio-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
        השמע את הפרק בקול
      </button>
    </div>
    
    <div class="dedication-section">
      <h3>הקדשת הקריאה</h3>
      <p>ניתן להקדיש את קריאת פרק זה לרפואה, לעילוי נשמת, להצלחה או לכל מטרה אחרת</p>
      <input type="text" class="dedication-input" placeholder="הזן שם להקדשה (לדוגמה: לרפואת שרה בת רחל)">
      <button class="dedication-button">הקדש</button>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Toggle language display
      document.getElementById('both-langs').addEventListener('click', () => {
        document.querySelector('.hebrew-text').style.display = 'block';
        document.querySelector('.russian-text').style.display = 'block';
        setActiveButton('both-langs');
      });
      
      document.getElementById('heb-only').addEventListener('click', () => {
        document.querySelector('.hebrew-text').style.display = 'block';
        document.querySelector('.russian-text').style.display = 'none';
        setActiveButton('heb-only');
      });
      
      document.getElementById('rus-only').addEventListener('click', () => {
        document.querySelector('.hebrew-text').style.display = 'none';
        document.querySelector('.russian-text').style.display = 'block';
        setActiveButton('rus-only');
      });
      
      // Night mode toggle
      document.getElementById('night-mode').addEventListener('click', () => {
        document.body.classList.toggle('night-mode');
        if (document.body.classList.contains('night-mode')) {
          document.body.style.background = '#1a2639';
          document.body.style.color = '#f4f4f4';
          document.querySelector('.hebrew-text').style.background = '#2a3649';
          document.querySelectorAll('.tehilim-content, .audio-controls, .dedication-section, .chapter-navigation').forEach(el => {
            el.style.background = '#2a3649';
            el.style.color = '#f4f4f4';
          });
        } else {
          document.body.style.background = var(--color-parchment);
          document.body.style.color = var(--color-text);
          document.querySelector('.hebrew-text').style.background = var(--color-parchment);
          document.querySelectorAll('.tehilim-content, .audio-controls, .dedication-section, .chapter-navigation').forEach(el => {
            el.style.background = 'white';
            el.style.color = var(--color-text);
          });
        }
      });
      
      // Font size controls
      let fontSize = 1.2;
      document.getElementById('increase-font').addEventListener('click', () => {
        if (fontSize < 2) {
          fontSize += 0.1;
          document.querySelector('.hebrew-text').style.fontSize = `${fontSize + 0.1}rem`;
          document.querySelector('.russian-text').style.fontSize = `${fontSize}rem`;
        }
      });
      
      document.getElementById('decrease-font').addEventListener('click', () => {
        if (fontSize > 0.8) {
          fontSize -= 0.1;
          document.querySelector('.hebrew-text').style.fontSize = `${fontSize + 0.1}rem`;
          document.querySelector('.russian-text').style.fontSize = `${fontSize}rem`;
        }
      });
      
      // Toggle nikud (would require actual implementation with both versions)
      document.getElementById('toggle-nikud').addEventListener('click', function() {
        this.classList.toggle('active');
        // Implementation would switch between nikud and non-nikud versions
      });
      
      // Helper function to manage active state of option buttons
      function setActiveButton(id) {
        document.querySelectorAll('#both-langs, #heb-only, #rus-only').forEach(button => {
          button.classList.remove('active');
        });
        document.getElementById(id).classList.add('active');
      }
      
      // Chapter navigation (placeholder functionality)
      document.getElementById('chapter-select').addEventListener('change', (e) => {
        const chapter = e.target.value;
        alert(`עוברים לפרק ${chapter}`);
        // Here would be actual navigation logic
      });
      
      document.getElementById('prev-chapter').addEventListener('click', () => {
        alert('עוברים לפרק הקודם');
        // Here would be actual navigation logic
      });
      
      document.getElementById('next-chapter').addEventListener('click', () => {
        alert('עוברים לפרק הבא');
        // Here would be actual navigation logic
      });
      
      // Dedication feature
      document.querySelector('.dedication-button').addEventListener('click', () => {
        const dedication = document.querySelector('.dedication-input').value;
        if (dedication) {
          alert(`פרק זה הוקדש עבור: ${dedication}`);
          // Here would save dedication to user history or database
        } else {
          alert('נא להזין שם להקדשה');
        }
      });
    });
  </script>
</body>
</html><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>תהילים בקדושה - חווית משתמש מודרנית</title>
  <style>
    /* Import modern clean fonts */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&family=Rubik:wght@400;500;700&display=swap');
    
    :root {
      --primary: #3B82F6;
      --primary-light: #93C5FD;
      --primary-dark: #1D4ED8;
      --background: #F8FAFC;
      --card-bg: #FFFFFF;
      --text: #1E293B;
      --text-light: #64748B;
      --divine: #B45309;
      --accent: #F59E0B;
      --border: #E2E8F0;
      --success: #10B981;
      --border-radius: 12px;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Heebo', sans-serif;
    }
    
    body {
      background-color: var(--background);
      color: var(--text);
      padding-bottom: 80px;
    }
    
    /* Modern Header */
    .app-header {
      background-color: var(--card-bg);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      color: var(--primary);
      font-size: 18px;
    }
    
    .primary-nav {
      display: flex;
      gap: 10px;
    }
    
    .nav-item {
      color: var(--text);
      text-decoration: none;
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    
    .nav-item:hover {
      background-color: var(--primary-light);
      color: white;
    }
    
    .nav-item.active {
      background-color: var(--primary);
      color: white;
    }
    
    /* Main content */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Card Components */
    .card {
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      margin-bottom: 24px;
    }
    
    .card-header {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .card-title {
      font-weight: 700;
      font-size: 18px;
      color: var(--text);
    }
    
    .card-body {
      padding: 20px;
    }
    
    /* Chapter Grid */
    .chapter-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 12px;
    }
    
    .chapter-item {
      background-color: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }
    
    .chapter-item:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    .chapter-item.read {
      position: relative;
    }
    
    .chapter-item.read::after {
      content: "✓";
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: var(--success);
      color: white;
      font-size: 12px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .chapter-name {
      font-weight: 500;
      color: var(--text);
    }
    
    /* Recently Viewed */
    .horizontal-scroll {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      padding: 10px 0;
      scrollbar-width: thin;
    }
    
    .horizontal-scroll::-webkit-scrollbar {
      height: 8px;
    }
    
    .horizontal-scroll::-webkit-scrollbar-track {
      background: var(--border);
      border-radius: 8px;
    }
    
    .horizontal-scroll::-webkit-scrollbar-thumb {
      background: var(--primary-light);
      border-radius: 8px;
    }
    
    .recent-item {
      flex: 0 0 auto;
      width: 150px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s ease;
    }
    
    .recent-item:hover {
      transform: translateY(-5px);
    }
    
    .recent-image {
      height: 80px;
      background-color: var(--primary-light);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 24px;
    }
    
    .recent-info {
      padding: 10px;
      background: white;
    }
    
    .recent-title {
      font-weight: 500;
      font-size: 14px;
      margin-bottom: 4px;
    }
    
    .recent-subtitle {
      color: var(--text-light);
      font-size: 12px;
    }
    
    /* Quick Tools */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
    }
    
    .tool-card {
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: transform 0.2s ease;
    }
    
    .tool-card:hover {
      transform: translateY(-5px);
    }
    
    .tool-icon {
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--primary-light);
      color: white;
      font-size: 24px;
    }
    
    .tool-content {
      padding: 16px;
    }
    
    .tool-title {
      font-weight: 700;
      margin-bottom: 8px;
    }
    
    .tool-description {
      color: var(--text-light);
      font-size: 14px;
      margin-bottom: 12px;
    }
    
    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: white;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-around;
      padding: 12px 0;
      z-index: 100;
    }
    
    .bottom-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: var(--text-light);
      text-decoration: none;
      font-size: 12px;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 20px;
      margin-bottom: 4px;
    }
    
    /* Buttons */
    .btn {
      display: inline-block;
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s ease;
      text-decoration: none;
      text-align: center;
    }
    
    .btn:hover {
      background: var(--primary-dark);
    }
    
    .btn-sm {
      padding: 6px 12px;
      font-size: 14px;
    }
    
    .btn-outline {
      background: transparent;
      border: 1px solid var(--primary);
      color: var(--primary);
    }
    
    .btn-outline:hover {
      background: var(--primary);
      color: white;
    }
    
    .btn-success {
      background: var(--success);
    }
    
    .btn-success:hover {
      background: #0B9669;
    }
    
    /* Reading View */
    .reading-view {
      padding: 20px;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .reading-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }
    
    .chapter-nav {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    
    .reading-options {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    
    .reading-option {
      background-color: white;
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .reading-option.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    .text-content {
      background-color: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }
    
    .verse {
      margin-bottom: 16px;
      line-height: 1.8;
    }
    
    .verse-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 26px;
      height: 26px;
      background-color: var(--primary-light);
      color: white;
      border-radius: 50%;
      margin-left: 8px;
      font-size: 12px;
      font-weight: 700;
    }
    
    .divine-name {
      color: var(--divine);
      font-weight: 700;
    }
    
    .verse-text {
      font-family: 'Rubik', sans-serif;
      font-size: 18px;
    }
    
    .verse-russian {
      font-size: 16px;
      margin-top: 6px;
      color: var(--text-light);
    }
    
    .reading-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 30px;
    }
    
    .action-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 20px;
      border-radius: 25px;
      font-weight: 500;
      cursor: pointer;
    }
    
    .search-container {
      position: relative;
      margin-bottom: 20px;
    }
    
    .search-input {
      width: 100%;
      padding: 14px 20px;
      padding-right: 50px;
      border-radius: 30px;
      border: 1px solid var(--border);
      font-size: 16px;
      transition: all 0.2s ease;
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px var(--primary-light);
    }
    
    .search-icon {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-light);
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .primary-nav {
        display: none;
      }
      
      .chapter-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
      }
      
      .tools-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
      
      .reading-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="app-header">
    <div class="logo">
      <img src="/api/placeholder/30/30" alt="לוגו" />
      <span>תהילים בקדושה</span>
    </div>
    <nav class="primary-nav">
      <a href="#" class="nav-item active">ראשי</a>
      <a href="#" class="nav-item">פרקי תהילים</a>
      <a href="#" class="nav-item">בוט תיקון</a>
      <a href="#" class="nav-item">הקהילה</a>
    </nav>
  </header>
  
  <!-- Main Content - Home Page -->
  <div class="container">
    <!-- Search Bar -->
    <div class="search-container">
      <input type="text" class="search-input" placeholder="חפש פרק או מילת מפתח..." />
      <div class="search-icon">🔍</div>
    </div>
    
    <!-- Recently Viewed -->
    <div class="card">
      <div class="card-header">
        <span class="card-title">קראת לאחרונה</span>
        <a href="#" class="btn btn-sm btn-outline">כל ההיסטוריה</a>
      </div>
      <div class="card-body">
        <div class="horizontal-scroll">
          <div class="recent-item">
            <div class="recent-image">כ״ג</div>
            <div class="recent-info">
              <div class="recent-title">פרק כ״ג</div>
              <div class="recent-subtitle">נקרא לפני 3 שעות</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">צ׳</div>
            <div class="recent-info">
              <div class="recent-title">פרק צ'</div>
              <div class="recent-subtitle">נקרא לפני יומיים</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">קי״ט</div>
            <div class="recent-info">
              <div class="recent-title">פרק קי״ט</div>
              <div class="recent-subtitle">נקרא לפני 3 ימים</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">קכ״א</div>
            <div class="recent-info">
              <div class="recent-title">פרק קכ״א</div>
              <div class="recent-subtitle">נקרא לפני שבוע</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">א׳</div>
            <div class="recent-info">
              <div class="recent-title">פרק א'</div>
              <div class="recent-subtitle">נקרא לפני שבוע</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Quick Tools -->
    <div class="card">
      <div class="card-header">
        <span class="card-title">כלים מהירים</span>
      </div>
      <div class="card-body">
        <div class="tools-grid">
          <div class="tool-card">
            <div class="tool-icon">🔄</div>
            <div class="tool-content">
              <h3 class="tool-title">תיקון שם ה'</h3>
              <p class="tool-description">הדבק טקסט עם שם ה' בצורה לא תקינה וקבל את התיקון המיידי</p>
              <a href="#" class="btn btn-sm">התחל</a>
            </div>
          </div>
          
          <div class="tool-card">
            <div class="tool-icon">🔊</div>
            <div class="tool-content">
              <h3 class="tool-title">הקראת תהילים</h3>
              <p class="tool-description">האזן לפרקי תהילים בקריאה מקצועית עם כבוד לשם ה'</p>
              <a href="#" class="btn btn-sm">האזן</a>
            </div>
          </div>
          
          <div class="tool-card">
            <div class="tool-icon">📱</div>
            <div class="tool-content">
              <h3 class="tool-title">תהילים לדרך</h3>
              <p class="tool-description">הורד פרקי תהילים לקריאה ללא אינטרנט</p>
              <a href="#" class="btn btn-sm">הורד</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- All Chapters -->
    <div class="card">
      <div class="card-header">
        <span class="card-title">כל פרקי תהילים</span>
        <a href="#reading-view" class="btn btn-sm btn-success">התחל לקרוא</a>
      </div>
      <div class="card-body">
        <div class="chapter-grid">
          <!-- Only showing first 30 chapters for simplicity -->
          <div class="chapter-item read">
            <div class="chapter-name">פרק א'</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק ב'</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק ג'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ד'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ה'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ו'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ז'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ח'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ט'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״א</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ב</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ג</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ד</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ט״ו</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק ט״ז</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ז</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ח</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ט</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ״א</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ״ב</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק כ״ג</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ״ד</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reading View (Second Screen) -->
  <div id="reading-view" class="reading-view" style="display: none;">
    <div class="reading-header">
      <h1>פרק כ״ג</h1>
      <div class="chapter-nav">
        <button class="btn btn-outline">הקודם</button>
        <select class="chapter-select">
          <option value="1">פרק א'</option>
          <option value="23" selected>פרק כ״ג</option>
          <option value="24">פרק כ״ד</option>
          <!-- Other chapters would be here -->
        </select>
        <button class="btn">הבא</button>
      </div>
    </div>
    
    <div class="reading-options">
      <div class="reading-option active">דו-לשוני</div>
      <div class="reading-option">עברית בלבד</div>
      <div class="reading-option">רוסית בלבד</div>
      <div class="reading-option">ניקוד</div>
      <div class="reading-option">מצב לילה</div>
      <div class="reading-option">הגדל טקסט</div>
    </div>
    
    <div class="text-content">
      <div class="verse">
        <span class="verse-number">א</span>
        <span class="verse-text">מִזְמוֹר לְדָוִד <span class="divine-name">ה׳</span> רֹעִי לֹא אֶחְסָר:</span>
        <div class="verse-russian">Псалом Давида. <span class="divine-name">ה׳</span> — Пастырь мой; я ни в чем не буду нуждаться:</div>
      </div>
      <div class="verse">
        <span class="verse-number">ב</span>
        <span class="verse-text">בִּנְאוֹת דֶּשֶׁא יַרְבִּיצֵנִי עַל־מֵי מְנֻחוֹת יְנַהֲלֵנִי:</span>
        <div class="verse-russian">Он покоит меня на злачных пажитях и водит меня к водам тихим,</div>
      </div>
      <div class="verse">
        <span class="verse-number">ג</span>
        <span class="verse-text">נַפְשִׁי יְשׁוֹבֵב יַנְחֵנִי בְמַעְגְּלֵי־צֶדֶק לְמַעַן שְׁמוֹ:</span>
        <div class="verse-russian">Подкрепляет душу мою, направляет меня на стези правды ради имени Своего.</div>
      </div>
      <div class="verse">
        <span class="verse-number">ד</span>
        <span class="verse-text">גַּם כִּי־אֵלֵךְ בְּגֵיא צַלְמָוֶת לֹא־אִירָא רָע כִּי־אַתָּה עִמָּדִי שִׁבְטְךָ וּמִשְׁעַנְתֶּךָ הֵמָּה יְנַחֲמֻנִי:</span>
        <div class="verse-russian">Если я пойду и долиною смертной тени, не убоюсь зла, потому что Ты со мной; Твой жезл и Твой посох — они успокаивают меня.</div>
      </div>
      <div class="verse">
        <span class="verse-number">ה</span>
        <span class="verse-text">תַּעֲרֹךְ לְפָנַי שֻׁלְחָן נֶגֶד צֹרְרָי דִּשַּׁנְתָּ בַשֶּׁמֶן רֹאשִׁי כּוֹסִי רְוָיָה:</span>
        <div class="verse-russian">Ты приготовил предо мною трапезу в виду врагов моих; умастил елеем голову мою; чаша моя преисполнена.</div>
      </div>
      <div class="verse">
        <span class="verse-number">ו</span>
        <span class="verse-text">אַךְ טוֹב וָחֶסֶד יִרְדְּפוּנִי כָּל־יְמֵי חַיָּי וְשַׁבְתִּי בְּבֵית־<span class="divine-name">ה׳</span> לְאֹרֶךְ יָמִים:</span>
        <div class="verse-russian">Так, благость и милость да сопровождают меня во все дни жизни моей, и я пребуду в доме <span class="divine-name">ה׳</span> многие дни.</div>
      </div>
    </div>
    
    <div class="reading-actions">
      <button class="btn action-btn">
        <span>🔊</span>
        <span>השמע פרק</span>
      </button>
      <button class="btn action-btn btn-outline">
        <span>🔖</span>
        <span>הקדש קריאה</span>
      </button>
      <button class="btn action-btn btn-outline">
        <span>⬇️</span>
        <span>הורד פרק</span>
      </button>
    </div>
  </div>
  
  <!-- Bottom Navigation - Mobile Focused -->
  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item active">
      <div class="bottom-nav-icon">🏠</div>
      <span>ראשי</span>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">📖</div>
      <span>תהילים</span>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🔄</div>
      <span>תיקון</span>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">👨‍👩‍👧‍👦</div>
      <span>קהילה</span>
    </a>
  </nav>
  
  <script>
    // This script would toggle between home page and reading view
    document.addEventListener('DOMContentLoaded', () => {
      // Just for demonstration, show reading view when clicking "התחל לקרוא"<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>תהילים בקדושה - חווית משתמש מודרנית</title>
  <style>
    /* Import modern clean fonts */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&family=Rubik:wght@400;500;700&display=swap');
    
    :root {
      --primary: #3B82F6;
      --primary-light: #93C5FD;
      --primary-dark: #1D4ED8;
      --background: #F8FAFC;
      --card-bg: #FFFFFF;
      --text: #1E293B;
      --text-light: #64748B;
      --divine: #B45309;
      --accent: #F59E0B;
      --border: #E2E8F0;
      --success: #10B981;
      --border-radius: 12px;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Heebo', sans-serif;
    }
    
    body {
      background-color: var(--background);
      color: var(--text);
      padding-bottom: 80px;
    }
    
    /* Modern Header */
    .app-header {
      background-color: var(--card-bg);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      color: var(--primary);
      font-size: 18px;
    }
    
    .primary-nav {
      display: flex;
      gap: 10px;
    }
    
    .nav-item {
      color: var(--text);
      text-decoration: none;
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    
    .nav-item:hover {
      background-color: var(--primary-light);
      color: white;
    }
    
    .nav-item.active {
      background-color: var(--primary);
      color: white;
    }
    
    /* Main content */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Card Components */
    .card {
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      margin-bottom: 24px;
    }
    
    .card-header {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .card-title {
      font-weight: 700;
      font-size: 18px;
      color: var(--text);
    }
    
    .card-body {
      padding: 20px;
    }
    
    /* Chapter Grid */
    .chapter-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 12px;
    }
    
    .chapter-item {
      background-color: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }
    
    .chapter-item:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    .chapter-item.read {
      position: relative;
    }
    
    .chapter-item.read::after {
      content: "✓";
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: var(--success);
      color: white;
      font-size: 12px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .chapter-name {
      font-weight: 500;
      color: var(--text);
    }
    
    /* Recently Viewed */
    .horizontal-scroll {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      padding: 10px 0;
      scrollbar-width: thin;
    }
    
    .horizontal-scroll::-webkit-scrollbar {
      height: 8px;
    }
    
    .horizontal-scroll::-webkit-scrollbar-track {
      background: var(--border);
      border-radius: 8px;
    }
    
    .horizontal-scroll::-webkit-scrollbar-thumb {
      background: var(--primary-light);
      border-radius: 8px;
    }
    
    .recent-item {
      flex: 0 0 auto;
      width: 150px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s ease;
    }
    
    .recent-item:hover {
      transform: translateY(-5px);
    }
    
    .recent-image {
      height: 80px;
      background-color: var(--primary-light);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 24px;
    }
    
    .recent-info {
      padding: 10px;
      background: white;
    }
    
    .recent-title {
      font-weight: 500;
      font-size: 14px;
      margin-bottom: 4px;
    }
    
    .recent-subtitle {
      color: var(--text-light);
      font-size: 12px;
    }
    
    /* Quick Tools */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
    }
    
    .tool-card {
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: transform 0.2s ease;
    }
    
    .tool-card:hover {
      transform: translateY(-5px);
    }
    
    .tool-icon {
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--primary-light);
      color: white;
      font-size: 24px;
    }
    
    .tool-content {
      padding: 16px;
    }
    
    .tool-title {
      font-weight: 700;
      margin-bottom: 8px;
    }
    
    .tool-description {
      color: var(--text-light);
      font-size: 14px;
      margin-bottom: 12px;
    }
    
    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: white;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-around;
      padding: 12px 0;
      z-index: 100;
    }
    
    .bottom-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: var(--text-light);
      text-decoration: none;
      font-size: 12px;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 20px;
      margin-bottom: 4px;
    }
    
    /* Buttons */
    .btn {
      display: inline-block;
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s ease;
      text-decoration: none;
      text-align: center;
    }
    
    .btn:hover {
      background: var(--primary-dark);
    }
    
    .btn-sm {
      padding: 6px 12px;
      font-size: 14px;
    }
    
    .btn-outline {
      background: transparent;
      border: 1px solid var(--primary);
      color: var(--primary);
    }
    
    .btn-outline:hover {
      background: var(--primary);
      color: white;
    }
    
    .btn-success {
      background: var(--success);
    }
    
    .btn-success:hover {
      background: #0B9669;
    }
    
    /* Reading View */
    .reading-view {
      padding: 20px;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .reading-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }
    
    .chapter-nav {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    
    .reading-options {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    
    .reading-option {
      background-color: white;
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .reading-option.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    .text-content {
      background-color: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }
    
    .verse {
      margin-bottom: 16px;
      line-height: 1.8;
    }
    
    .verse-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 26px;
      height: 26px;
      background-color: var(--primary-light);
      color: white;
      border-radius: 50%;
      margin-left: 8px;
      font-size: 12px;
      font-weight: 700;
    }
    
    .divine-name {
      color: var(--divine);
      font-weight: 700;
    }
    
    .verse-text {
      font-family: 'Rubik', sans-serif;
      font-size: 18px;
    }
    
    .verse-russian {
      font-size: 16px;
      margin-top: 6px;
      color: var(--text-light);
    }
    
    .reading-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 30px;
    }
    
    .action-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 20px;
      border-radius: 25px;
      font-weight: 500;
      cursor: pointer;
    }
    
    .search-container {
      position: relative;
      margin-bottom: 20px;
    }
    
    .search-input {
      width: 100%;
      padding: 14px 20px;
      padding-right: 50px;
      border-radius: 30px;
      border: 1px solid var(--border);
      font-size: 16px;
      transition: all 0.2s ease;
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px var(--primary-light);
    }
    
    .search-icon {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-light);
    }
    
    /* Text corrector tool styles */
    .text-corrector {
      padding: 20px;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .text-corrector-card {
      background-color: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }
    
    .text-area-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }
    
    @media (min-width: 768px) {
      .text-area-container {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .text-area-box {
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }
    
    .text-area-header {
      padding: 12px;
      background-color: var(--primary-light);
      color: white;
      font-weight: 500;
    }
    
    .text-area {
      width: 100%;
      min-height: 200px;
      padding: 16px;
      border: none;
      resize: none;
      font-size: 16px;
    }
    
    .text-area:focus {
      outline: none;
    }
    
    .result-container {
      padding: 16px;
      font-size: 16px;
      min-height: 200px;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .corrector-options {
      display: flex;
      gap: 10px;
      margin: 20px 0;
    }
    
    .corrector-option {
      background-color: white;
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .corrector-option.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    /* Night mode styles */
    .night-mode {
      --background: #0F172A;
      --card-bg: #1E293B;
      --text: #F8FAFC;
      --text-light: #CBD5E1;
      --border: #334155;
    }
    
    .night-mode .app-header,
    .night-mode .bottom-nav,
    .night-mode .card,
    .night-mode .text-content,
    .night-mode .tool-card,
    .night-mode .chapter-item,
    .night-mode .recent-info,
    .night-mode .text-corrector-card,
    .night-mode .text-area-box {
      background-color: var(--card-bg);
    }
    
    .night-mode .text-area {
      background-color: var(--card-bg);
      color: var(--text);
    }
    
    .night-mode .search-input {
      background-color: var(--card-bg);
      color: var(--text);
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .primary-nav {
        display: none;
      }
      
      .chapter-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
      }
      
      .tools-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
      
      .reading-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }
      
      .reading-actions {
        flex-direction: column;
      }
      
      .action-btn {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="app-header">
    <div class="logo">
      <img src="/api/placeholder/30/30" alt="לוגו" />
      <span>תהילים בקדושה</span>
    </div>
    <nav class="primary-nav">
      <a href="#" class="nav-item active">ראשי</a>
      <a href="#" class="nav-item">פרקי תהילים</a>
      <a href="#" class="nav-item">בוט תיקון</a>
      <a href="#" class="nav-item">הקהילה</a>
    </nav>
  </header>
  
  <!-- Main Content - Home Page -->
  <div class="container">
    <!-- Search Bar -->
    <div class="search-container">
      <input type="text" class="search-input" placeholder="חפש פרק או מילת מפתח..." />
      <div class="search-icon">🔍</div>
    </div>
    
    <!-- Recently Viewed -->
    <div class="card">
      <div class="card-header">
        <span class="card-title">קראת לאחרונה</span>
        <a href="#" class="btn btn-sm btn-outline">כל ההיסטוריה</a>
      </div>
      <div class="card-body">
        <div class="horizontal-scroll">
          <div class="recent-item">
            <div class="recent-image">כ״ג</div>
            <div class="recent-info">
              <div class="recent-title">פרק כ״ג</div>
              <div class="recent-subtitle">נקרא לפני 3 שעות</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">צ׳</div>
            <div class="recent-info">
              <div class="recent-title">פרק צ'</div>
              <div class="recent-subtitle">נקרא לפני יומיים</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">קי״ט</div>
            <div class="recent-info">
              <div class="recent-title">פרק קי״ט</div>
              <div class="recent-subtitle">נקרא לפני 3 ימים</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">קכ״א</div>
            <div class="recent-info">
              <div class="recent-title">פרק קכ״א</div>
              <div class="recent-subtitle">נקרא לפני שבוע</div>
            </div>
          </div>
          
          <div class="recent-item">
            <div class="recent-image">א׳</div>
            <div class="recent-info">
              <div class="recent-title">פרק א'</div>
              <div class="recent-subtitle">נקרא לפני שבוע</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Quick Tools -->
    <div class="card">
      <div class="card-header">
        <span class="card-title">כלים מהירים</span>
      </div>
      <div class="card-body">
        <div class="tools-grid">
          <div class="tool-card">
            <div class="tool-icon">🔄</div>
            <div class="tool-content">
              <h3 class="tool-title">תיקון שם ה'</h3>
              <p class="tool-description">הדבק טקסט עם שם ה' בצורה לא תקינה וקבל את התיקון המיידי</p>
              <a href="#corrector-tool" class="btn btn-sm">התחל</a>
            </div>
          </div>
          
          <div class="tool-card">
            <div class="tool-icon">🔊</div>
            <div class="tool-content">
              <h3 class="tool-title">הקראת תהילים</h3>
              <p class="tool-description">האזן לפרקי תהילים בקריאה מקצועית עם כבוד לשם ה'</p>
              <a href="#" class="btn btn-sm">האזן</a>
            </div>
          </div>
          
          <div class="tool-card">
            <div class="tool-icon">📱</div>
            <div class="tool-content">
              <h3 class="tool-title">תהילים לדרך</h3>
              <p class="tool-description">הורד פרקי תהילים לקריאה ללא אינטרנט</p>
              <a href="#" class="btn btn-sm">הורד</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- All Chapters -->
    <div class="card">
      <div class="card-header">
        <span class="card-title">כל פרקי תהילים</span>
        <a href="#reading-view" class="btn btn-sm btn-success">התחל לקרוא</a>
      </div>
      <div class="card-body">
        <div class="chapter-grid">
          <!-- Only showing first 30 chapters for simplicity -->
          <div class="chapter-item read">
            <div class="chapter-name">פרק א'</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק ב'</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק ג'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ד'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ה'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ו'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ז'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ח'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ט'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״א</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ב</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ג</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ד</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק ט״ו</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק ט״ז</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ז</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ח</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק י״ט</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ'</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ״א</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ״ב</div>
          </div>
          <div class="chapter-item read">
            <div class="chapter-name">פרק כ״ג</div>
          </div>
          <div class="chapter-item">
            <div class="chapter-name">פרק כ״ד</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reading View (Second Screen) -->
  <div id="reading-view" class="reading-view" style="display: none;">
    <div class="reading-header">
      <h1>פרק כ״ג</h1>
      <div class="chapter-nav">
        <button class="btn btn-outline">הקודם</button>
        <select class="chapter-select">
          <option value="1">פרק א'</option>
          <option value="23" selected>פרק כ״ג</option>
          <option value="24">פרק כ״ד</option>
          <!-- Other chapters would be here -->
        </select>
        <button class="btn">הבא</button>
      </div>
    </div>
    
    <div class="reading-options">
      <div class="reading-option active">דו-לשוני</div>
      <div class="reading-option">עברית בלבד</div>
      <div class="reading-option">רוסית בלבד</div>
      <div class="reading-option">ניקוד</div>
      <div class="reading-option">מצב לילה</div>
      <div class="reading-option">הגדל טקסט</div>
    </div>
    
    <div class="text-content">
      <div class="verse">
        <span class="verse-number">א</span>
        <span class="verse-text">מִזְמוֹר לְדָוִד <span class="divine-name">ה׳</span> רֹעִי לֹא אֶחְסָר:</span>
        <div class="verse-russian">Псалом Давида. <span class="divine-name">ה׳</span> — Пастырь мой; я ни в чем не буду нуждаться:</div>
      </div>
      <div class="verse">
        <span class="verse-number">ב</span>
        <span class="verse-text">בִּנְאוֹת דֶּשֶׁא יַרְבִּיצֵנִי עַל־מֵי מְנֻחוֹת יְנַהֲלֵנִי:</span>
        <div class="verse-russian">Он покоит меня на злачных пажитях и водит меня к водам тихим,</div>
      </div>
      <div class="verse">
        <span class="verse-number">ג</span>
        <span class="verse-text">נַפְשִׁי יְשׁוֹבֵב יַנְחֵנִי בְמַעְגְּלֵי־צֶדֶק לְמַעַן שְׁמוֹ:</span>
        <div class="verse-russian">Подкрепляет душу мою, направляет меня на стези правды ради имени Своего.</div>
      </div>
      <div class="verse">
        <span class="verse-number">ד</span>
        <span class="verse-text">גַּם כִּי־אֵלֵךְ בְּגֵיא צַלְמָוֶת לֹא־אִירָא רָע כִּי־אַתָּה עִמָּדִי שִׁבְטְךָ וּמִשְׁעַנְתֶּךָ הֵמָּה יְנַחֲמֻנִי:</span>
        <div class="verse-russian">Если я пойду и долиною смертной тени, не убоюсь зла, потому что Ты со мной; Твой жез<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>תהילים בקדושה</title>
  <style>
    /* === בסיס === */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --primary-dark: #3f37c9;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --text-lighter: #adb5bd;
      --accent: #fca311;
      --divine: #d4a017;
      --success: #4cc9a6;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius-sm: 8px;
      --radius: 12px;
      --radius-lg: 20px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      line-height: 1.3;
    }
    
    a {
      text-decoration: none;
      color: inherit;
    }
    
    button {
      font-family: inherit;
    }
    
    /* === כותרת === */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      font-size: 18px;
      color: var(--primary);
    }
    
    .logo-icon {
      width: 32px;
      height: 32px;
      background-color: var(--primary);
      color: white;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .header-actions {
      display: flex;
      gap: 8px;
    }
    
    .icon-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: transparent;
      border: none;
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .icon-btn:active {
      background-color: var(--border);
    }
    
    /* === תוכן === */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* === חיפוש === */
    .search-bar {
      margin-bottom: 20px;
      position: relative;
    }
    
    .search-input {
      width: 100%;
      height: 48px;
      background-color: var(--card);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 0 48px 0 16px;
      font-size: 16px;
      color: var(--text);
      box-shadow: var(--shadow-sm);
      outline: none;
      transition: all 0.2s;
    }
    
    .search-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }
    
    .search-icon {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      color: var(--text-light);
      pointer-events: none;
    }
    
    /* === כרטיסיות === */
    .card {
      background-color: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      margin-bottom: 20px;
    }
    
    .card-header {
      padding: 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--border);
    }
    
    .card-title {
      font-weight: 700;
      font-size: 16px;
      color: var(--text);
    }
    
    .card-action {
      color: var(--primary);
      font-weight: 500;
      font-size: 14px;
    }
    
    .card-body {
      padding: 16px;
    }
    
    /* === פרקים אחרונים === */
    .chapters-scroller {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding: 4px 0 16px;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */
      scroll-snap-type: x mandatory;
    }
    
    .chapters-scroller::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }
    
    .chapter-item {
      flex: 0 0 auto;
      width: 90px;
      background-color: var(--primary-light);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      scroll-snap-align: start;
      position: relative;
    }
    
    .chapter-number {
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--primary-light);
      font-size: 28px;
      font-weight: 700;
      color: white;
    }
    
    .chapter-info {
      background-color: var(--card);
      padding: 10px;
      border-top: 1px solid rgba(0,0,0,0.05);
    }
    
    .chapter-name {
      font-weight: 500;
      font-size: 14px;
      margin-bottom: 2px;
    }
    
    .chapter-meta {
      font-size: 12px;
      color: var(--text-light);
    }
    
    .badge {
      position: absolute;
      top: 8px;
      right: 8px;
      background-color: var(--success);
      color: white;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 500;
    }
    
    /* === כלים === */
    .tools-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }
    
    .tool-item {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      display: flex;
      align-items: center;
      position: relative;
      height: 80px;
    }
    
    .tool-icon {
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      background-color: var(--primary-light);
      color: white;
      border-radius: var(--radius-sm);
      margin: 0 10px;
    }
    
    .tool-content {
      flex: 1;
    }
    
    .tool-title {
      font-weight: 600;
      font-size: 16px;
      margin-bottom: 4px;
    }
    
    .tool-description {
      font-size: 13px;
      color: var(--text-light);
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .tool-arrow {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 10px;
      color: var(--text-light);
    }
    
    /* === רשת פרקים === */
    .chapters-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    
    .grid-chapter {
      aspect-ratio: 1/1;
      border-radius: var(--radius-sm);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      font-size: 16px;
      box-shadow: var(--shadow-sm);
      position: relative;
      border: 1px solid var(--border);
    }
    
    .grid-chapter.read {
      border-color: var(--primary);
    }
    
    .grid-chapter.read::after {
      content: "✓";
      position: absolute;
      top: -5px;
      right: -5px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background-color: var(--success);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    
    /* === ניווט תחתון === */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: var(--bottom-nav-height);
      background-color: var(--card);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
      z-index: 100;
    }
    
    .bottom-nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      color: var(--text-light);
      transition: color 0.2s;
      padding: 8px 0;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 22px;
    }
    
    .bottom-nav-label {
      font-size: 12px;
      font-weight: 500;
    }
    
    /* === כפתורים === */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 36px;
      padding: 0 16px;
      background-color: var(--primary);
      color: white;
      border-radius: 18px;
      font-weight: 500;
      font-size: 14px;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: var(--shadow-sm);
    }
    
    .btn:active {
      transform: translateY(1px);
      box-shadow: none;
    }
  </style>
</head>
<body>
  <!-- כותרת -->
  <header class="header">
    <div class="logo">
      <div class="logo-icon">ת</div>
      <span>תהילים בקדושה</span>
    </div>
    <div class="header-actions">
      <button class="icon-btn">⚙️</button>
    </div>
  </header>
  
  <!-- תוכן הדף -->
  <div class="container">
    <!-- חיפוש -->
    <div class="search-bar">
      <input type="text" class="search-input" placeholder="חפש פרק או מילת מפתח...">
      <div class="search-icon">🔍</div>
    </div>
    
    <!-- פרקים אחרונים -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">קראת לאחרונה</div>
        <a href="#" class="card-action">הכל</a>
      </div>
      <div class="card-body">
        <div class="chapters-scroller">
          <div class="chapter-item">
            <div class="chapter-number">כ״ג</div>
            <div class="chapter-info">
              <div class="chapter-name">פרק כ״ג</div>
              <div class="chapter-meta">לפני 3 שעות</div>
            </div>
            <div class="badge">✓</div>
          </div>
          
          <div class="chapter-item">
            <div class="chapter-number">צ׳</div>
            <div class="chapter-info">
              <div class="chapter-name">פרק צ׳</div>
              <div class="chapter-meta">לפני יומיים</div>
            </div>
          </div>
          
          <div class="chapter-item">
            <div class="chapter-number">קי״ט</div>
            <div class="chapter-info">
              <div class="chapter-name">פרק קי״ט</div>
              <div class="chapter-meta">לפני 3 ימים</div>
            </div>
          </div>
          
          <div class="chapter-item">
            <div class="chapter-number">א׳</div>
            <div class="chapter-info">
              <div class="chapter-name">פרק א׳</div>
              <div class="chapter-meta">לפני שבוע</div>
            </div>
            <div class="badge">✓</div>
          </div>
          
          <div class="chapter-item">
            <div class="chapter-number">ב׳</div>
            <div class="chapter-info">
              <div class="chapter-name">פרק ב׳</div>
              <div class="chapter-meta">לפני שבוע</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- כלים מהירים -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">כלים מהירים</div>
      </div>
      <div class="card-body">
        <div class="tools-grid">
          <a href="#" class="tool-item">
            <div class="tool-icon">🔄</div>
            <div class="tool-content">
              <div class="tool-title">תיקון שם ה׳</div>
              <div class="tool-description">להחליף את שם ה׳ בטקסט רוסי בצורה נכונה והלכתית</div>
            </div>
            <div class="tool-arrow">›</div>
          </a>
          
          <a href="#" class="tool-item">
            <div class="tool-icon">🔊</div>
            <div class="tool-content">
              <div class="tool-title">הקראת תהילים</div>
              <div class="tool-description">להאזין לפרקי תהילים בהגייה נכונה עם כבוד לשם ה׳</div>
            </div>
            <div class="tool-arrow">›</div>
          </a>
          
          <a href="#" class="tool-item">
            <div class="tool-icon">⬇️</div>
            <div class="tool-content">
              <div class="tool-title">הורד לקריאה</div>
              <div class="tool-description">שמירת פרקים לקריאה ללא אינטרנט</div>
            </div>
            <div class="tool-arrow">›</div>
          </a>
        </div>
      </div>
    </div>
    
    <!-- רשת הפרקים -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">פרקי תהילים</div>
        <a href="#" class="card-action">הכל</a>
      </div>
      <div class="card-body">
        <div class="chapters-grid">
          <a href="#" class="grid-chapter read">א׳</a>
          <a href="#" class="grid-chapter read">ב׳</a>
          <a href="#" class="grid-chapter read">ג׳</a>
          <a href="#" class="grid-chapter">ד׳</a>
          <a href="#" class="grid-chapter">ה׳</a>
          <a href="#" class="grid-chapter">ו׳</a>
          <a href="#" class="grid-chapter">ז׳</a>
          <a href="#" class="grid-chapter">ח׳</a>
          <a href="#" class="grid-chapter">ט׳</a>
          <a href="#" class="grid-chapter">י׳</a>
          <a href="#" class="grid-chapter">י״א</a>
          <a href="#" class="grid-chapter">י״ב</a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ניווט תחתון -->
  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item active">
      <div class="bottom-nav-icon">🏠</div>
      <div class="bottom-nav-label">בית</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">📖</div>
      <div class="bottom-nav-label">תהילים</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🔄</div>
      <div class="bottom-nav-label">תיקון</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">👥</div>
      <div class="bottom-nav-label">קהילה</div>
    </a>
  </nav>
  
  <script>
    // כאן אפשר להוסיף קוד JavaScript בהמשך
    document.addEventListener('DOMContentLoaded', function() {
      // קוד להתחלת האפליקציה
    });
  </script>
</body>
</html><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>פרק כ״ג - תהילים בקדושה</title>
  <style>
    /* === בסיס === */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&family=Frank+Ruhl+Libre:wght@400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --primary-dark: #3f37c9;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --text-lighter: #adb5bd;
      --accent: #fca311;
      --divine: #d4a017;
      --success: #4cc9a6;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius-sm: 8px;
      --radius: 12px;
      --radius-lg: 20px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      line-height: 1.3;
    }
    
    a {
      text-decoration: none;
      color: inherit;
    }
    
    button {
      font-family: inherit;
      border: none;
      background: none;
      cursor: pointer;
    }
    
    /* === כותרת === */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .header-title {
      font-weight: 700;
      font-size: 18px;
    }
    
    .back-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      font-size: 18px;
      background-color: transparent;
      border: none;
    }
    
    .back-button:active {
      background-color: var(--border);
    }
    
    .chapter-actions {
      display: flex;
      gap: 8px;
    }
    
    .icon-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: transparent;
      border: none;
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    
    .icon-btn:active {
      background-color: var(--border);
    }
    
    /* === תוכן === */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* === ניווט פרקים === */
    .chapter-navigation {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--border);
    }
    
    .nav-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      border: none;
      box-shadow: var(--shadow-sm);
    }
    
    .nav-btn:disabled {
      background-color: var(--text-lighter);
      opacity: 0.5;
    }
    
    .chapter-select {
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      height: 40px;
      padding: 0 16px;
      font-weight: 500;
      font-size: 16px;
      box-shadow: var(--shadow-sm);
    }
    
    .chapter-select-text {
      margin-left: 8px;
    }
    
    /* === אפשרויות === */
    .reading-options {
      overflow-x: auto;
      white-space: nowrap;
      margin-bottom: 20px;
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
      scroll-snap-type: x mandatory;
      padding-bottom: 5px;
    }
    
    .reading-options::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }
    
    .options-group {
      display: inline-flex;
      gap: 8px;
    }
    
    .option {
      scroll-snap-align: start;
      padding: 8px 12px;
      background-color: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text);
      white-space: nowrap;
    }
    
    .option.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    /* === תוכן קריאה === */
    .reading-content {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 20px;
      padding: 20px;
      box-shadow: var(--shadow);
    }
    
    .chapter-heading {
      text-align: center;
      margin-bottom: 20px;
      color: var(--primary);
      font-size: 22px;
      font-weight: 700;
      border-bottom: 1px solid var(--border);
      padding-bottom: 10px;
    }
    
    .verse {
      margin-bottom: 20px;
      position: relative;
    }
    
    .verse-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 25px;
      height: 25px;
      background-color: var(--primary-light);
      color: white;
      border-radius: 50%;
      margin-left: 8px;
      font-size: 12px;
      font-weight: 700;
      vertical-align: top;
    }
    
    .verse-text-heb {
      font-family: 'Frank Ruhl Libre', serif;
      font-size: 18px;
      line-height: 1.7;
      font-weight: 500;
    }
    
    .verse-text-rus {
      font-size: 16px;
      color: var(--text-light);
      line-height: 1.6;
      margin-top: 8px;
      padding-right: 33px;
    }
    
    .divine-name {
      color: var(--divine);
      font-weight: 700;
    }
    
    /* === כפתורי פעולה === */
    .action-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      overflow-x: auto;
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
      padding-bottom: 5px;
    }
    
    .action-buttons::-webkit-scrollbar {
      display: none; /* Chrome, Safari,<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>פרק כ״ג - תהילים בקדושה</title>
  <style>
    /* === בסיס === */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&family=Frank+Ruhl+Libre:wght@400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --primary-dark: #3f37c9;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --text-lighter: #adb5bd;
      --accent: #fca311;
      --divine: #d4a017;
      --success: #4cc9a6;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius-sm: 8px;
      --radius: 12px;
      --radius-lg: 20px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      line-height: 1.3;
    }
    
    a {
      text-decoration: none;
      color: inherit;
    }
    
    button {
      font-family: inherit;
      border: none;
      background: none;
      cursor: pointer;
    }
    
    /* === כותרת === */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .header-title {
      font-weight: 700;
      font-size: 18px;
    }
    
    .back-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      font-size: 18px;
      background-color: transparent;
      border: none;
    }
    
    .back-button:active {
      background-color: var(--border);
    }
    
    .chapter-actions {
      display: flex;
      gap: 8px;
    }
    
    .icon-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: transparent;
      border: none;
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    
    .icon-btn:active {
      background-color: var(--border);
    }
    
    /* === תוכן === */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* === ניווט פרקים === */
    .chapter-navigation {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--border);
    }
    
    .nav-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      border: none;
      box-shadow: var(--shadow-sm);
    }
    
    .nav-btn:disabled {
      background-color: var(--text-lighter);
      opacity: 0.5;
    }
    
    .chapter-select {
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      height: 40px;
      padding: 0 16px;
      font-weight: 500;
      font-size: 16px;
      box-shadow: var(--shadow-sm);
    }
    
    .chapter-select-text {
      margin-left: 8px;
    }
    
    /* === אפשרויות === */
    .reading-options {
      overflow-x: auto;
      white-space: nowrap;
      margin-bottom: 20px;
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
      scroll-snap-type: x mandatory;
      padding-bottom: 5px;
    }
    
    .reading-options::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }
    
    .options-group {
      display: inline-flex;
      gap: 8px;
    }
    
    .option {
      scroll-snap-align: start;
      padding: 8px 12px;
      background-color: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text);
      white-space: nowrap;
    }
    
    .option.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    /* === תוכן קריאה === */
    .reading-content {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 20px;
      padding: 20px;
      box-shadow: var(--shadow);
    }
    
    .chapter-heading {
      text-align: center;
      margin-bottom: 20px;
      color: var(--primary);
      font-size: 22px;
      font-weight: 700;
      border-bottom: 1px solid var(--border);
      padding-bottom: 10px;
    }
    
    .verse {
      margin-bottom: 20px;
      position: relative;
    }
    
    .verse-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 25px;
      height: 25px;
      background-color: var(--primary-light);
      color: white;
      border-radius: 50%;
      margin-left: 8px;
      font-size: 12px;
      font-weight: 700;
      vertical-align: top;
    }
    
    .verse-text-heb {
      font-family: 'Frank Ruhl Libre', serif;
      font-size: 18px;
      line-height: 1.7;
      font-weight: 500;
    }
    
    .verse-text-rus {
      font-size: 16px;
      color: var(--text-light);
      line-height: 1.6;
      margin-top: 8px;
      padding-right: 33px;
    }
    
    .divine-name {
      color: var(--divine);
      font-weight: 700;
    }
    
    /* === כפתורי פעולה === */
    .action-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      overflow-x: auto;
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
      padding-bottom: 5px;
    }
    
    .action-buttons::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }
    
    .action-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 5px;
      min-width: 80px;
      padding: 10px;
      background-color: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
      white-space: nowrap;
    }
    
    .action-btn-icon {
      font-size: 24px;
    }
    
    .action-btn-text {
      font-size: 12px;
      font-weight: 500;
    }
    
    .action-btn.primary {
      background-color: var(--primary);
      color: white;
    }
    
    /* === תחתית העמוד === */
    .page-footer {
      margin: 30px 0;
      text-align: center;
      color: var(--text-light);
      font-size: 14px;
    }
    
    .dedication-card {
      background-color: var(--card);
      border-radius: var(--radius);
      padding: 15px;
      box-shadow: var(--shadow-sm);
      margin-bottom: 30px;
    }
    
    .dedication-title {
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 10px;
      color: var(--primary);
    }
    
    .dedication-input {
      width: 100%;
      height: 40px;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 0 12px;
      margin-bottom: 10px;
      font-size: 14px;
    }
    
    .dedication-input:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    .dedication-btn {
      background-color: var(--primary);
      color: white;
      height: 40px;
      padding: 0 16px;
      border-radius: var(--radius-sm);
      font-weight: 500;
      font-size: 14px;
      border: none;
    }
    
    /* === ניווט תחתון === */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: var(--bottom-nav-height);
      background-color: var(--card);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
      z-index: 100;
    }
    
    .bottom-nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      color: var(--text-light);
      transition: color 0.2s;
      padding: 8px 0;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 22px;
    }
    
    .bottom-nav-label {
      font-size: 12px;
      font-weight: 500;
    }
    
    /* מצב לילה */
    body.dark-mode {
      --background: #121212;
      --card: #1e1e1e;
      --text: #f8f9fa;
      --text-light: #adb5bd;
      --text-lighter: #6c757d;
      --border: #333333;
    }
  </style>
</head>
<body>
  <!-- כותרת -->
  <header class="header">
    <button class="back-button">←</button>
    <div class="header-title">פרק כ״ג</div>
    <div class="chapter-actions">
      <button class="icon-btn">🔖</button>
      <button class="icon-btn">⚙️</button>
    </div>
  </header>
  
  <!-- תוכן הדף -->
  <div class="container">
    <!-- ניווט פרקים -->
    <div class="chapter-navigation">
      <button class="nav-btn">←</button>
      <div class="chapter-select">
        <span class="chapter-select-text">פרק</span>
        <span>כ״ג</span>
      </div>
      <button class="nav-btn">→</button>
    </div>
    
    <!-- אפשרויות קריאה -->
    <div class="reading-options">
      <div class="options-group">
        <button class="option active">דו-לשוני</button>
        <button class="option">עברית בלבד</button>
        <button class="option">רוסית בלבד</button>
        <button class="option">ניקוד</button>
        <button class="option">מצב לילה</button>
        <button class="option">הגדל טקסט</button>
        <button class="option">הקטן טקסט</button>
      </div>
    </div>
    
    <!-- תוכן הפרק -->
    <div class="reading-content">
      <h2 class="chapter-heading">מזמור לדוד</h2>
      
      <div class="verse">
        <span class="verse-number">א</span>
        <span class="verse-text-heb">מִזְמוֹר לְדָוִד <span class="divine-name">ה׳</span> רֹעִי לֹא אֶחְסָר:</span>
        <div class="verse-text-rus">Псалом Давида. <span class="divine-name">ה׳</span> — Пастырь мой; я ни в чем не буду нуждаться:</div>
      </div>
      
      <div class="verse">
        <span class="verse-number">ב</span>
        <span class="verse-text-heb">בִּנְאוֹת דֶּשֶׁא יַרְבִּיצֵנִי עַל־מֵי מְנֻחוֹת יְנַהֲלֵנִי:</span>
        <div class="verse-text-rus">Он покоит меня на злачных пажитях и водит меня к водам тихим,</div>
      </div>
      
      <div class="verse">
        <span class="verse-number">ג</span>
        <span class="verse-text-heb">נַפְשִׁי יְשׁוֹבֵב יַנְחֵנִי בְמַעְגְּלֵי־צֶדֶק לְמַעַן שְׁמוֹ:</span>
        <div class="verse-text-rus">Подкрепляет душу мою, направляет меня на стези правды ради имени Своего.</div>
      </div>
      
      <div class="verse">
        <span class="verse-number">ד</span>
        <span class="verse-text-heb">גַּם כִּי־אֵלֵךְ בְּגֵיא צַלְמָוֶת לֹא־אִירָא רָע כִּי־אַתָּה עִמָּדִי שִׁבְטְךָ וּמִשְׁעַנְתֶּךָ הֵמָּה יְנַחֲמֻנִי:</span>
        <div class="verse-text-rus">Если я пойду и долиною смертной тени, не убоюсь зла, потому что Ты со мной; Твой жезл и Твой посох — они успокаивают меня.</div>
      </div>
      
      <div class="verse">
        <span class="verse-number">ה</span>
        <span class="verse-text-heb">תַּעֲרֹךְ לְפָנַי שֻׁלְחָן נֶגֶד צֹרְרָי דִּשַּׁנְתָּ בַשֶּׁמֶן רֹאשִׁי כּוֹסִי רְוָיָה:</span>
        <div class="verse-text-rus">Ты приготовил предо мною трапезу в виду врагов моих; умастил елеем голову мою; чаша моя преисполнена.</div>
      </div>
      
      <div class="verse">
        <span class="verse-number">ו</span>
        <span class="verse-text-heb">אַךְ טוֹב וָחֶסֶד יִרְדְּפוּנִי כָּל־יְמֵי חַיָּי וְשַׁבְתִּי בְּבֵית־<span class="divine-name">ה׳</span> לְאֹרֶךְ יָמִים:</span>
        <div class="verse-text-rus">Так, благость и милость да сопровождают меня во все дни жизни моей, и я пребуду в доме <span class="divine-name">ה׳</span> многие дни.</div>
      </div>
    </div>
    
    <!-- כפתורי פעולה -->
    <div class="action-buttons">
      <button class="action-btn primary">
        <div class="action-btn-icon">🔊</div>
        <div class="action-btn-text">השמע פרק</div>
      </button>
      
      <button class="action-btn">
        <div class="action-btn-icon">🔖</div>
        <div class="action-btn-text">הקדש קריאה</div>
      </button>
      
      <button class="action-btn">
        <div class="action-btn-icon">⬇️</div>
        <div class="action-btn-text">שמור פרק</div>
      </button>
      
      <button class="action-btn">
        <div class="action-btn-icon">📤</div>
        <div class="action-btn-text">שתף</div>
      </button>
    </div>
    
    <!-- הקדשה -->
    <div class="dedication-card">
      <div class="dedication-title">הקדש קריאה</div>
      <input type="text" class="dedication-input" placeholder="הזן שם להקדשה (לדוגמה: לרפואת דוד בן שרה)">
      <button class="dedication-btn">הקדש</button>
    </div>
    
    <!-- תחתית העמוד -->
    <div class="page-footer">
      &copy; 2025 תהילים בקדושה - שמירת כבוד שם ה׳
    </div>
  </div>
  
  <!-- ניווט תחתון -->
  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🏠</div>
      <div class="bottom-nav-label">בית</div>
    </a>
    <a href="#" class="bottom-nav-item active">
      <div class="bottom-nav-icon">📖</div>
      <div class="bottom-nav-label">תהילים</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🔄</div>
      <div class="bottom-nav-label">תיקון</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">👥</div>
      <div class="bottom-nav-label">קהילה</div>
    </a>
  </nav>
  
  <script>
    // קוד JavaScript לפונקציונליות האפליקציה
    document.addEventListener('DOMContentLoaded', function() {
      // מצב לילה
      document.querySelector('.option:nth-child(5)').addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');
        this.classList.toggle('active');
      });
      
      // שינוי גודל טקסט
      let fontSize = 18;
      document.querySelector('.option:nth-child(6)').addEventListener('click', function() {
        if (fontSize < 24) {
          fontSize += 2;
          updateFontSize();
        }
      });
      
      document.querySelector('.option:nth-child(7)').addEventListener('click', function() {
        if (fontSize > 14) {
          fontSize -= 2;
          updateFontSize();
        }
      });
      
      function updateFontSize() {
        document.querySelectorAll('.verse-text-heb').forEach(el => {
          el.style.fontSize = fontSize + 'px';
        });
        document.querySelectorAll('.verse-text-rus').forEach(el => {
          el.style.fontSize = (fontSize - 2) + 'px';
        });
      }
      
      // שינוי מצב שפה
      document.querySelector('.option:nth-child(1)').addEventListener('click', function() {
        showBothLanguages();
        setActiveOption(0);
      });
      
      document.querySelector('.option:nth-child(2)').addEventListener('click', function() {
        hideRussian();
        setActiveOption(1);
      });
      
      document.querySelector('.option:nth-child(3)').addEventListener('click', function() {
        hideHebrew();
        setActiveOption(2);
      });
      
      function showBothLanguages() {
        document.querySelectorAll('.verse-text-heb, .verse-text-rus').forEach(el => {
          el.style.display = 'inline-block';
        });
      }
      
      function hideRussian() {
        document.querySelectorAll('.verse-text-rus').forEach(el => {
          el.style.display = 'none';
        });
        document.querySelectorAll('.verse-text-heb').forEach(el => {
          el.style.display = 'inline-block';
        });
      }
      
      function hideHebrew() {
        document.querySelectorAll('.verse-text-heb').forEach(el => {
          el.style.display = 'none';
        });
        document.querySelectorAll('.verse-text-rus').forEach(el => {
          el.style.display = 'block';
        });
      }
      
      function setActiveOption(index) {
        document.querySelectorAll('.option').forEach((el, i) => {
          if (i === index) {
            el.classList.add('active');
          } else if (i < 3) { // רק לאפשרויות השפה
            el.classList.remove('active');
          }
        });
      }
    });
  </script>
</body>
</html><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>בוט תיקון שם ה׳ - תהילים בקדושה</title>
  <style>
    /* === בסיס === */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --primary-dark: #3f37c9;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --text-lighter: #adb5bd;
      --accent: #fca311;
      --divine: #d4a017;
      --success: #4cc9a6;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius-sm: 8px;
      --radius: 12px;
      --radius-lg: 20px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      line-height: 1.3;
    }
    
    a {
      text-decoration: none;
      color: inherit;
    }
    
    button {
      font-family: inherit;
      border: none;
      background: none;
      cursor: pointer;
    }
    
    /* === כותרת === */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .header-title {
      font-weight: 700;
      font-size: 18px;
    }
    
    .back-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      font-size: 18px;
      background-color: transparent;
      border: none;
    }
    
    .back-button:active {
      background-color: var(--border);
    }
    
    .header-actions {
      display: flex;
      gap: 8px;
    }
    
    .icon-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: transparent;
      border: none;
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    
    .icon-btn:active {
      background-color: var(--border);
    }
    
    /* === תוכן === */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* === הסבר === */
    .intro-card {
      background-color: var(--card);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
    }
    
    .intro-title {
      font-weight: 700;
      font-size: 18px;
      margin-bottom: 10px;
      color: var(--primary);
    }
    
    .intro-text {
      font-size: 15px;
      color: var(--text);
      margin-bottom: 10px;
    }
    
    .intro-example {
      display: flex;
      background-color: var(--background);
      border-radius: var(--radius-sm);
      overflow: hidden;
      margin: 10px 0;
    }
    
    .example-before, .example-after {
      flex: 1;
      padding: 10px;
    }
    
    .example-before {<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>בוט תיקון שם ה׳ - תהילים בקדושה</title>
  <style>
    /* בסיס */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --divine: #d4a017;
      --success: #4cc9a6;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --radius: 12px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    /* כותרת */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .header-title {
      font-weight: 700;
      font-size: 18px;
    }
    
    .back-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      font-size: 18px;
      background-color: transparent;
      border: none;
    }
    
    /* תוכן */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* אפשרויות */
    .options-card {
      background-color: var(--card);
      border-radius: var(--radius);
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
    }
    
    .options-title {
      font-weight: 600;
      font-size: 15px;
      margin-bottom: 15px;
    }
    
    .options-row {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding-bottom: 5px;
    }
    
    .option-btn {
      padding: 8px 15px;
      background-color: var(--background);
      border-radius: 20px;
      font-size: 14px;
      border: 1px solid var(--border);
      white-space: nowrap;
    }
    
    .option-btn.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    /* תיבות טקסט */
    .editor-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .text-box {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }
    
    .text-box-header {
      background-color: var(--primary-light);
      color: white;
      padding: 10px 15px;
      font-weight: 500;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .header-actions button {
      background: transparent;
      border: none;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }
    
    .text-box-content {
      padding: 15px;
      min-height: 150px;
    }
    
    .input-textarea {
      width: 100%;
      min-height: 150px;
      border: none;
      resize: none;
      font-size: 16px;
      font-family: inherit;
      outline: none;
      background: transparent;
    }
    
    .output-content {
      font-size: 16px;
      white-space: pre-wrap;
      min-height: 150px;
    }
    
    .divine-name {
      color: var(--divine);
      font-weight: 700;
    }
    
    /* כפתורים */
    .action-btn {
      display: block;
      width: 100%;
      height: 50px;
      background-color: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius);
      font-weight: 600;
      font-size: 16px;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
    }
    
    .action-btn:active {
      transform: translateY(2px);
    }
    
    /* סטטיסטיקה */
    .stats-card {
      background-color: var(--card);
      border-radius: var(--radius);
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
    }
    
    .stats-title {
      font-weight: 600;
      font-size: 15px;
      margin-bottom: 10px;
    }
    
    .stats-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
      font-size: 14px;
    }
    
    .stats-label {
      color: var(--text-light);
    }
    
    .stats-value {
      font-weight: 500;
    }
    
    .stats-value.highlight {
      color: var(--success);
    }
    
    /* ניווט תחתון */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: var(--bottom-nav-height);
      background-color: var(--card);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
      z-index: 100;
    }
    
    .bottom-nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      color: var(--text-light);
      transition: color 0.2s;
      padding: 8px 0;
      text-decoration: none;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 22px;
    }
    
    .bottom-nav-label {
      font-size: 12px;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <!-- כותרת -->
  <header class="header">
    <button class="back-button">←</button>
    <div class="header-title">בוט תיקון שם ה׳</div>
    <div></div>
  </header>
  
  <!-- תוכן -->
  <div class="container">
    <!-- אפשרויות תיקון -->
    <div class="options-card">
      <div class="options-title">אפשרויות תיקון שם ה'</div>
      <div class="options-row">
        <button class="option-btn active">ה'</button>
        <button class="option-btn">י-ה-ו-ה</button>
        <button class="option-btn">השם</button>
        <button class="option-btn">יי</button>
        <button class="option-btn">אדנ-י</button>
      </div>
    </div>
    
    <!-- עורך טקסט -->
    <div class="editor-container">
      <!-- תיבת טקסט מקור -->
      <div class="text-box">
        <div class="text-box-header">
          <div>טקסט מקור ברוסית</div>
          <div class="header-actions">
            <button>העתק</button>
            <button>נקה</button>
          </div>
        </div>
        <div class="text-box-content">
          <textarea class="input-textarea" placeholder="הדבק כאן טקסט ברוסית לתיקון..."></textarea>
        </div>
      </div>
      
      <!-- תיבת טקסט מתוקן -->
      <div class="text-box">
        <div class="text-box-header">
          <div>טקסט מתוקן</div>
          <div class="header-actions">
            <button>העתק</button>
          </div>
        </div>
        <div class="text-box-content">
          <div class="output-content">טקסט מתוקן יופיע כאן אחרי תיקון...</div>
        </div>
      </div>
    </div>
    
    <!-- כפתור תיקון -->
    <button class="action-btn">תקן את שם ה'</button>
    
    <!-- סטטיסטיקה -->
    <div class="stats-card">
      <div class="stats-title">סטטיסטיקה</div>
      <div class="stats-row">
        <div class="stats-label">נמצאו הופעות של שם ה':</div>
        <div class="stats-value">0</div>
      </div>
      <div class="stats-row">
        <div class="stats-label">בוצעו תיקונים:</div>
        <div class="stats-value highlight">0</div>
      </div>
      <div class="stats-row">
        <div class="stats-label">אורך טקסט מקורי:</div>
        <div class="stats-value">0 תווים</div>
      </div>
    </div>
  </div>
  
  <!-- ניווט תחתון -->
  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🏠</div>
      <div class="bottom-nav-label">בית</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">📖</div>
      <div class="bottom-nav-label">תהילים</div>
    </a>
    <a href="#" class="bottom-nav-item active">
      <div class="bottom-nav-icon">🔄</div>
      <div class="bottom-nav-label">תיקון</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">👥</div>
      <div class="bottom-nav-label">קהילה</div>
    </a>
  </nav>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // אפשרויות תיקון
      const optionBtns = document.querySelectorAll('.option-btn');
      
      optionBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          optionBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
        });
      });
      
      // כפתור נקה
      document.querySelector('.header-actions button:nth-child(2)').addEventListener('click', function() {
        document.querySelector('.input-textarea').value = '';
        updateStats();
      });
      
      // כפתורי העתקה
      const copyButtons = document.querySelectorAll('.header-actions button:nth-child(1)');
      
      copyButtons[0].addEventListener('click', function() {
        const textarea = document.querySelector('.input-textarea');
        textarea.select();
        document.execCommand('copy');
        alert('הטקסט הועתק!');
      });
      
      copyButtons[1].addEventListener('click', function() {
        const output = document.querySelector('.output-content').innerText;
        const tempInput = document.createElement('textarea');
        tempInput.value = output;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand('copy');
        document.body.removeChild(tempInput);
        alert('הטקסט המתוקן הועתק!');
      });
      
      // כפתור תיקון
      document.querySelector('.action-btn').addEventListener('click', function() {
        correctText();
      });
      
      // עדכון סטטיסטיקה בהקלדה
      document.querySelector('.input-textarea').addEventListener('input', updateStats);
      
      // פונקציה לתיקון הטקסט
      function correctText() {
        const inputText = document.querySelector('.input-textarea').value;
        if (!inputText.trim()) {
          alert('נא להזין טקסט לתיקון');
          return;
        }
        
        // קבלת סוג התיקון
        const activeOption = document.querySelector('.option-btn.active').textContent;
        
        // רשימת מילים להחלפה (בסיסי)
        const namesToReplace = [
          'Господь', 'Бог', 'Всевышний', 'Иегова', 'Яхве', 
          'ЙХВХ', 'Адонай', 'Элохим', 'Саваоф', 'Шаддай'
        ];
        
        // יצירת טקסט מתוקן
        let correctedText = inputText;
        let replacementCount = 0;
        
        namesToReplace.forEach(name => {
          // בדיקת מופעים (פשוטה)
          const regex = new RegExp('\\b' + name + '\\b', 'gi');
          const matches = correctedText.match(regex);
          if (matches) {
            replacementCount += matches.length;
          }
          
          // החלפה
          correctedText = correctedText.replace(regex, `<span class="divine-name">${activeOption}</span>`);
        });
        
        // הצגת התוצאה
        document.querySelector('.output-content').innerHTML = correctedText;
        
        // עדכון סטטיסטיקה
        document.querySelectorAll('.stats-value')[0].textContent = replacementCount;
        document.querySelectorAll('.stats-value')[1].textContent = replacementCount;
        
        // הוספת אנימציה קטנה
        const actionBtn = document.querySelector('.action-btn');
        actionBtn.textContent = 'התיקון הושלם!';
        actionBtn.style.backgroundColor = 'var(--success)';
        
        setTimeout(() => {
          actionBtn.textContent = 'תקן את שם ה\'';
          actionBtn.style.backgroundColor = 'var(--primary)';
        }, 1500);
      }
      
      // פונקציה לעדכון סטטיסטיקה
      function updateStats() {
        const inputText = document.querySelector('.input-textarea').value;
        document.querySelectorAll('.stats-value')[2].textContent = inputText.length + ' תווים';
      }
    });
  </script>
</body>
</html><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>קהילת תהילים בקדושה</title>
  <style>
    /* === בסיס === */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --primary-dark: #3f37c9;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --text-lighter: #adb5bd;
      --accent: #fca311;
      --divine: #d4a017;
      --success: #4cc9a6;
      --warning: #ffb347;
      --error: #ff6b6b;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius-sm: 8px;
      --radius: 12px;
      --radius-lg: 20px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      line-height: 1.3;
    }
    
    a {
      text-decoration: none;
      color: inherit;
    }
    
    button {
      font-family: inherit;
      border: none;
      background: none;
      cursor: pointer;
    }
    
    /* === כותרת === */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .header-title {
      font-weight: 700;
      font-size: 18px;
    }
    
    .header-actions {
      display: flex;
      gap: 8px;
    }
    
    .icon-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: transparent;
      border: none;
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    
    .icon-btn:active {
      background-color: var(--border);
    }
    
    /* === תוכן === */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* === טאבים === */
    .tabs {
      display: flex;
      align-items: center;
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
    }
    
    .tab {
      flex: 1;
      height: 46px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      font-size: 14px;
      color: var(--text-light);
      position: relative;
    }
    
    .tab.active {
      color: var(--primary);
    }
    
    .tab.active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background-color: var(--primary);
    }
    
    /* === כפתור צף === */
    .fab {
      position: fixed;
      bottom: calc(var(--bottom-nav-height) + 16px);
      right: 16px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: var(--shadow);
      z-index: 90;
    }
    
    /* === פוסטים/שאלות === */
    .post-card {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    
    .post-header {
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--primary-light);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 16px;
    }
    
    .post-user-info {
      flex: 1;
    }
    
    .user-name {
      font-weight: 500;
      font-size: 15px;
    }
    
    .post-time {
      font-size: 12px;
      color: var(--text-light);
    }
    
    .post-content {
      padding: 0 16px 16px;
    }
    
    .post-title {
      font-weight: 600;
      font-size: 16px;
      margin-bottom: 8px;
    }
    
    .post-text {
      font-size: 15px;
      margin-bottom: 12px;
    }
    
    .post-actions {
      display: flex;
      align-items: center;
      gap: 16px;
      padding-top: 12px;
      border-top: 1px solid var(--border);
      color: var(--text-light);
    }
    
    .post-action {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
    }
    
    .divine-name {
      color: var(--divine);
      font-weight: 700;
    }
    
    .tag {
      display: inline-block;
      padding: 4px 8px;
      background-color: var(--primary-light);
      color: white;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
      margin-right: 6px;
      margin-bottom: 8px;
    }
    
    /* === בקשות תיקון === */
    .correction-card {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    
    .correction-header {
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--border);
    }
    
    .correction-title {
      font-weight: 600;
      font-size: 15px;
    }
    
    .correction-status {
      font-size: 12px;
      font-weight: 500;
      padding: 3px 8px;
      border-radius: 12px;
      background-color: var(--text-lighter);
      color: white;
    }
    
    .correction-status.pending {
      background-color: var(--warning);
    }
    
    .correction-status.completed {
      background-color: var(--success);
    }
    
    .correction-content {
      padding: 12px 16px;
    }
    
    .correction-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 13px;
      color: var(--text-light);
    }
    
    .correction-preview {
      background-color: var(--background);
      padding: 10px;
      border-radius: var(--radius-sm);
      font-size: 14px;
      margin-bottom: 12px;
      max-height: 60px;
      overflow: hidden;
      position: relative;
    }
    
    .correction-preview::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 20px;
      background: linear-gradient(to top, var(--background), transparent);
    }
    
    .correction-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    
    .correction-btn {
      padding: 6px 12px;
      border-radius: 16px;
      font-size: 13px;
      font-weight: 500;
      background-color: var(--background);
    }
    
    .correction-btn.primary {
      background-color: var(--primary);
      color: white;
    }
    
    /* === ניווט תחתון === */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: var(--bottom-nav-height);
      background-color: var(--card);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
      z-index: 100;
    }
    
    .bottom-nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      color: var(--text-light);
      transition: color 0.2s;
      padding: 8px 0;
      text-decoration: none;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 22px;
    }
    
    .bottom-nav-label {
      font-size: 12px;
      font-weight: 500;
    }
    
    /* === מודל === */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 200;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .modal.visible {
      display: flex;
    }
    
    .modal-content {
      width: 100%;
      max-width: 500px;
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    
    .modal-header {
      padding: 16px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .modal-title {
      font-weight: 600;
      font-size: 18px;
    }
    
    .modal-close {
      font-size: 22px;
      color: var(--text-light);
    }
    
    .modal-body {
      padding: 16px;
    }
    
    .form-group {
      margin-bottom: 16px;
    }
    
    .form-label {
      font-weight: 500;
      font-size: 14px;
      margin-bottom: 6px;
      display: block;
    }
    
    .form-input {
      width: 100%;
      height: 40px;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 0 12px;
      font-size: 14px;
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    .form-textarea {
      width: 100%;
      height: 120px;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 12px;
      font-size: 14px;
      resize: none;
      font-family: inherit;
    }
    
    .form-textarea:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    .form-footer {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    
    .btn {
      padding: 0 16px;
      height: 40px;
      border-radius: var(--radius-sm);
      font-size: 14px;
      font-weight: 500;
    }
    
    .btn-outline {
      border: 1px solid var(--border);
      background-color: transparent;
    }
    
    .btn-primary {
      background-color: var(--primary);
      color: white;
    }
  </style>
</head>
<body>
  <!-- כותרת -->
  <header class="header">
    <div class="header-title">קהילת תהילים בקדושה</div>
    <div class="header-actions">
      <button class="icon-btn">🔔</button>
      <button class="icon-btn">👤</button>
    </div>
  </header>
  
  <!-- תוכן הדף -->
  <div class="container">
    <!-- טאבים -->
    <div class="tabs">
      <a href="#" class="tab active">שאלות ודיונים</a>
      <a href="#" class="tab">בקשות תיקון</a>
      <a href="#" class="tab">חברי קהילה</a>
    </div>
    
    <!-- תוכן טאב 1: שאלות ודיונים -->
    <div class="tab-content" id="discussions">
      <!-- פוסט 1 -->
      <div class="post-card">
        <div class="post-header">
          <div class="user-avatar">מ</div>
          <div class="post-user-info">
            <div class="user-name">מנחם כהן</div>
            <div class="post-time">לפני 20 דקות</div>
          </div>
        </div>
        <div class="post-content">
          <div class="post-title">איך לכתוב את שם ה' בסידור מתורגם?</div>
          <div class="post-text">
            אני מתרגם כעת סידור לרוסית, ולא בטוח איך נכון לכתוב את שם ה' בשפה הזרה. האם עדיף להשאיר באותיות עבריות (<span class="divine-name">ה'</span>) או שיש דרך אחרת?
          </div>
          <div class="post-tags">
            <span class="tag">תרגום</span>
            <span class="tag">שם השם</span>
            <span class="tag">רוסית</span>
          </div>
          <div class="post-actions">
            <div class="post-action">💬 3 תגובות</div>
            <div class="post-action">❤️ 5</div>
            <div class="post-action">🔄 שתף</div>
          </div>
        </div>
      </div>
      
      <!-- פוסט 2 -->
      <div class="post-card">
        <div class="post-header">
          <div class="user-avatar">ח</div>
          <div class="post-user-info">
            <div class="user-name">חיים לוי</div>
            <div class="post-time">לפני 3 שעות</div>
          </div>
        </div>
        <div class="post-content">
          <div class="post-title">שאלה בנוגע לתרגום בתהילים פרק כ״ג</div>
          <div class="post-text">
            מצאתי תרגום של פרק כ״ג שנראה לי לא מדויק. המילים "בְּגֵיא צַלְמָוֶת" מתורגמות כ"בעמק צל המוות" במקום "בגיא צלמוות". האם מישהו יכול להסביר מה התרגום הנכון?
          </div>
          <div class="post-tags">
            <span class="tag">תהילים</span>
            <span class="tag">פרק כ״ג</span>
            <span class="tag">תרגום</span>
          </div>
          <div class="post-actions">
            <div class="post-action">💬 12 תגובות</div>
            <div class="post-action">❤️ 8</div>
            <div class="post-action">🔄 שתף</div>
          </div>
        </div>
      </div>
      
      <!-- פוסט 3 -->
      <div class="post-card">
        <div class="post-header">
          <div class="user-avatar">ש</div>
          <div class="post-user-info">
            <div class="user-name">שרה אברהמי</div>
            <div class="post-time">לפני יומיים</div>
          </div>
        </div>
        <div class="post-content">
          <div class="post-title">הצעה: קבוצת לימוד מקוונת</div>
          <div class="post-text">
            חשבתי שיהיה נחמד להקים קבוצת לימוד שבועית דרך זום לדיון בנושא קדושת שם ה' בתרגומים. מישהו מעוניין להצטרף? אני מציעה יום ראשון בשעה 20:00.
          </div>
          <div class="post-tags">
            <span class="tag">לימוד</span>
            <span class="tag">קהילה</span>
            <span class="tag">זום</span>
          </div>
          <div class="post-actions">
            <div class="post-action">💬 25 תגובות</div>
            <div class="post-action">❤️ 32</div>
            <div class="post-action">🔄 שתף</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- תוכן טאב 2: בקשות תיקון (מוסתר כרגע) -->
    <div class="tab-content" id="corrections" style="display: none;">
      <!-- בקשת תיקון 1 -->
      <div class="correction-card">
        <div class="correction-header">
          <div class="correction-title">תפילת עמידה ברוסית</div>
          <div class="correction-status pending">ממתין לתיקון</div>
        </div>
        <div class="correction-content">
          <div class="correction-info">
            <div>מבקש: יעקב גולדשטיין</div>
            <div>הועלה לפני 2 שעות</div>
          </div>
          <div class="correction-preview">
            Благословен Ты, Господь, Бог наш и Бог отцов наших, Бог Авраама, Бог Ицхака и Бог Яакова...
          </div>
          <div class="correction-actions">
            <button class="correction-btn">צפייה</button>
            <button class="correction-btn primary">תיקון</button>
          </div>
        </div>
      </div>
      
      <!-- בקשת תיקון 2 -->
      <div class="correction-card">
        <div class="correction-header">
          <div class="correction-title">קידוש ליל שבת</div>
          <div class="correction-status completed">תוקן</div>
        </div>
        <div class="correction-content">
          <div class="correction-info">
            <div>מבקש: רחל לוינסון</div>
            <div>עודכן לפני 4 שעות</div>
          </div>
          <div class="correction-preview">
            И увидел Всевышний все, что Он создал, и вот, хорошо очень. И был вечер, и было утро...
          </div>
          <div class="correction-actions">
            <button class="correction-btn">צפייה</button>
            <button class="correction-btn">הורדה</button>
          </div>
        </div>
      </div>
      
      <!-- בקשת תיקון 3 -->
      <div class="correction-card">
        <div class="correction-header">
          <div class="correction-title">ברכת המזון ברוסית</div>
          <div class="correction-status completed">תוקן</div>
        </div>
        <div class="correction-content">
          <div class="correction-info">
            <div>מבקש: דוד כהן</div>
            <div>עודכן לפני 2 ימים</div>
          </div>
          <div class="correction-preview">
            Благословен Ты, Господь, Бог наш, Владыка Вселенной, питающий весь мир по доброте Своей...
          </div>
          <div class="correction-actions">
            <button class="correction-btn">צפייה</button>
            <button class="correction-btn">הורדה</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- תוכן טאב 3: חברי קהילה (מוסתר כרגע) -->
    <div class="tab-content" id="members" style="display: none;">
      <!-- יוצג תוכן חברי קהילה במימוש מלא -->
    </div>
  </div>
  
  <!-- כפתור פעולה צף -->
  <button class="fab" id="new-post-btn">+</button>
  
  <!-- מודל להוספת פוסט חדש -->
  <div class="modal" id="new-post-modal">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">פוסט חדש</div>
        <button class="modal-close" id="close-modal">×</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="post-title" class="form-label">כותרת</label>
          <input type="text" id="post-title" class="form-input" placeholder="נושא הפוסט">
        </div>
        <div class="form-group">
          <label for="post-content" class="form-label">תוכן</label>
          <textarea id="post-content" class="form-textarea" placeholder="על מה תרצה לדבר?"></textarea>
        </div>
        <div class="form-group">
          <label for="post-tags" class="form-label">תגיות (הפרדה בפסיקים)</label>
          <input type="text" id="post-tags" class="form-input" placeholder="לדוגמה: תרגום, שם השם, רוסית">
        </div>
        <div class="form-footer">
          <button class="btn btn-outline" id="cancel-post">ביטול</button>
          <button class="btn btn-primary" id="submit-post">פרסום</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ניווט תחתון -->
  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🏠</div>
      <div class="bottom-nav-label">בית</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">📖</div>
      <div class="bottom-nav-label">תהילים</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🔄</div>
      <div class="bottom-nav-label">תיקון</div>
    </a>
    <a href="#" class="bottom-nav-item active">
      <div class="bottom-nav-icon">👥</div>
      <div class="bottom-nav-label">קהילה</div>
    </a>
  </nav>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // טיפול בטאבים
      const tabs = document.querySelectorAll('.tab');
      const tabContents = document.querySelectorAll('.tab-content');
      
      tabs.forEach((tab, index) => {
        tab.addEventListener('click', function(e) {
          e.preventDefault();
          
          // הסרת הקלאס אקטיבי מכל הטאבים
          tabs.forEach(t => t.classList.remove('active'));
          
          // הוספת הקלאס אקטיבי לטאב הנוכחי
          this.classList.add('active');
          
          // הסתרת כל התוכן
          tabContents.forEach(content => {
            content.style.display = 'none';
          });
          
          // הצגת התוכן הרלוונטי
          tabContents[index].style.display = 'block';
        });
      });
      
      // טיפול במודל
      const modal = document.getElementById('new-post-modal');
      const newPostBtn = document.getElementById('new-post-btn');
      const closeModal = document.getElementById('close-modal');
      const cancelPost = document.getElementById('cancel-post');
      const submitPost = document.getElementById('submit-post');
      
      newPostBtn.addEventListener('click', function() {
        modal.classList.add('visible');
      });
      
      function closeModalFunc() {
        modal.classList.remove('visible');
      }
      
      closeModal.addEventListener('click', closeModalFunc);
      cancelPost.addEventListener('click', closeModalFunc);
      
      submitPost.addEventListener('click', function() {
        const title = document.getElementById('post-title').value;
        const content = document.getElementById('post-content').value;
        const tags = document.getElementById('post-tags').value;
        
        if (!title || !content) {
          alert('נא למלא כותרת ותוכן');
          return;
        }
        
        // כאן יהיה קוד לשליחת הפוסט לשרת במימוש מלא
        
        // הצגת הודעת הצלחה
        alert('הפוסט פורסם בהצלחה!');
        
        // סגירת המודל וניקוי השדות
        closeModalFunc();
        document.getElementById('post-title').value = '';
        document.getElementById('post-content').value = '';
        document.getElementById('post-tags').value = '';
      });
    });
  </script>
</body>
</html><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>הגדרות - תהילים בקדושה</title>
  <style>
    /* בסיס */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --radius: 12px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    /* כותרת */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .header-title {
      font-weight: 700;
      font-size: 18px;
    }
    
    .back-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      font-size: 18px;
      background-color: transparent;
      border: none;
    }
    
    /* תוכן */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* קטגוריות */
    .settings-section {
      margin-bottom: 24px;
    }
    
    .section-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 12px;
      padding-bottom: 6px;
      border-bottom: 1px solid var(--border);
    }
    
    /* פריטי הגדרות */
    .settings-card {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    
    .settings-item {
      padding: 14px 16px;
      display: flex;
      align-items: center;
      border-bottom: 1px solid var(--border);
    }
    
    .settings-item:last-child {
      border-bottom: none;
    }
    
    .item-icon {
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: var(--primary);
      margin-left: 12px;
    }
    
    .item-content {
      flex: 1;
    }
    
    .item-title {
      font-weight: 500;
      margin-bottom: 4px;
    }
    
    .item-description {
      font-size: 13px;
      color: var(--text-light);
    }
    
    .item-control {
      margin-right: 12px;
    }
    
    /* טוגל סוויץ' */
    .switch {
      position: relative;
      display: inline-block;
      width: 46px;
      height: 24px;
    }
    
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .3s;
      border-radius: 24px;
    }
    
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .3s;
      border-radius: 50%;
    }
    
    input:checked + .slider {
      background-color: var(--primary);
    }
    
    input:checked + .slider:before {
      transform: translateX(22px);
    }
    
    /* בחירה */
    .select-value {
      color: var(--primary);
      font-weight: 500;
    }
    
    /* כפתור מלא */
    .full-button {
      width: 100%;
      padding: 14px;
      background-color: transparent;
      text-align: right;
      font-size: 16px;
      font-weight: 500;
      color: var(--text);
      border: none;
      cursor: pointer;
    }
    
    /* כפתור לוגאאוט */
    .logout-button {
      width: 100%;
      height: 48px;
      border-radius: var(--radius);
      background-color: #f8d7da;
      color: #842029;
      border: none;
      font-weight: 600;
      font-size: 16px;
      margin-top: 24px;
    }
    
    /* גרסה */
    .version-info {
      text-align: center;
      margin-top: 30px;
      color: var(--text-light);
      font-size: 13px;
    }
    
    /* ניווט תחתון */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: var(--bottom-nav-height);
      background-color: var(--card);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
      z-index: 100;
    }
    
    .bottom-nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      color: var(--text-light);
      transition: color 0.2s;
      padding: 8px 0;
      text-decoration: none;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 22px;
    }
    
    .bottom-nav-label {
      font-size: 12px;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <!-- כותרת -->
  <header class="header">
    <button class="back-button">←</button>
    <div class="header-title">הגדרות</div>
    <div style="width: 36px;"></div>
  </header>
  
  <!-- תוכן -->
  <div class="container">
    <!-- הגדרות תצוגה -->
    <div class="settings-section">
      <div class="section-title">הגדרות תצוגה</div>
      
      <div class="settings-card">
        <div class="settings-item">
          <div class="item-icon">🌙</div>
          <div class="item-content">
            <div class="item-title">מצב לילה</div>
            <div class="item-description">מצב כהה לקריאה נוחה יותר בחושך</div>
          </div>
          <div class="item-control">
            <label class="switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
        </div>
        
        <div class="settings-item">
          <div class="item-icon">🔤</div>
          <div class="item-content">
            <div class="item-title">גודל טקסט</div>
            <div class="item-description">שנה את גודל הטקסט לקריאה נוחה יותר</div>
          </div>
          <div class="item-control">
            <span class="select-value">בינוני</span>
          </div>
        </div>
        
        <div class="settings-item">
          <div class="item-icon">✡️</div>
          <div class="item-content">
            <div class="item-title">פונט עברית</div>
            <div class="item-description">שנה את סוג הפונט לקריאה נוחה יותר</div>
          </div>
          <div class="item-control">
            <span class="select-value">פרנק רול</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- הגדרות קריאה -->
    <div class="settings-section">
      <div class="section-title">הגדרות קריאה</div>
      
      <div class="settings-card">
        <div class="settings-item">
          <div class="item-icon">📖</div>
          <div class="item-content">
            <div class="item-title">תצוגת שפה ברירת מחדל</div>
            <div class="item-description">הגדר איזו שפה להציג כברירת מחדל</div>
          </div>
          <div class="item-control">
            <span class="select-value">דו-לשוני</span>
          </div>
        </div>
        
        <div class="settings-item">
          <div class="item-icon">💬</div>
          <div class="item-content">
            <div class="item-title">שפה להקראה</div>
            <div class="item-description">הגדר את שפת הקריאה הקולית</div>
          </div>
          <div class="item-control">
            <span class="select-value">עברית</span>
          </div>
        </div>
        
        <div class="settings-item">
          <div class="item-icon">א</div>
          <div class="item-content">
            <div class="item-title">הצג ניקוד</div>
            <div class="item-description">הצג ניקוד בטקסט העברי</div>
          </div>
          <div class="item-control">
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>
    
    <!-- הגדרות תיקון שם ה' -->
    <div class="settings-section">
      <div class="section-title">הגדרות תיקון שם ה'</div>
      
      <div class="settings-card">
        <div class="settings-item">
          <div class="item-icon">✡️</div>
          <div class="item-content">
            <div class="item-title">סגנון תיקון ברירת מחדל</div>
            <div class="item-description">הגדר את צורת שם ה' המועדפת לתיקון</div>
          </div>
          <div class="item-control">
            <span class="select-value">ה'</span>
          </div>
        </div>
        
        <div class="settings-item">
          <div class="item-icon">🔄</div>
          <div class="item-content">
            <div class="item-title">שמור היסטוריית תיקונים</div>
            <div class="item-description">שמירת תיקונים קודמים לגישה מהירה</div>
          </div>
          <div class="item-control">
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>
    
    <!-- הגדרות משתמש -->
    <div class="settings-section">
      <div class="section-title">הגדרות משתמש</div>
      
      <div class="settings-card">
        <button class="full-button">
          <div class="settings-item" style="padding: 0;">
            <div class="item-icon">👤</div>
            <div class="item-content">
              <div class="item-title">פרופיל משתמש</div>
              <div class="item-description">דוד לוי • david@example.com</div>
            </div>
          </div>
        </button>
        
        <button class="full-button">
          <div class="settings-item" style="padding: 0;">
            <div class="item-icon">🔔</div>
            <div class="item-content">
              <div class="item-title">התראות</div>
              <div class="item-description">ניהול העדפות התראות</div>
            </div>
          </div>
        </button>
        
        <button class="full-button">
          <div class="settings-item" style="padding: 0;">
            <div class="item-icon">🔐</div>
            <div class="item-content">
              <div class="item-title">פרטיות ואבטחה</div>
              <div class="item-description">הגדרות פרטיות וניהול חשבון</div>
            </div>
          </div>
        </button>
      </div>
    </div>
    
    <!-- כפתור יציאה מהחשבון -->
    <button class="logout-button">יציאה מהחשבון</button>
    
    <!-- גרסה -->
    <div class="version-info">
      תהילים בקדושה גרסה 1.0.0
    </div>
  </div>
  
  <!-- ניווט תחתון -->
  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🏠</div>
      <div class="bottom-nav-label">בית</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">📖</div>
      <div class="bottom-nav-label">תהילים</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🔄</div>
      <div class="bottom-nav-label">תיקון</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">👥</div>
      <div class="bottom-nav-label">קהילה</div>
    </a>
  </nav>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // חזרה לעמוד הקודם
      document.querySelector('.back-button').addEventListener('click', function() {
        // במימוש אמיתי נשתמש ב-history.back()
        // אבל כאן נדמה חזרה לדף הבית
        alert('חזרה לעמוד הבית');
      });
      
      // טיפול בהגדרות
      const toggleSwitches = document.querySelectorAll('.switch input');
      toggleSwitches.forEach(toggle => {
        toggle.addEventListener('change', function() {
          const settingName = this.closest('.settings-item').querySelector('.item-title').textContent;
          const status = this.checked ? 'מופעל' : 'כבוי';
          console.log(`${settingName}: ${status}`);
        });
      });
      
      // טיפול בכפתורי בחירה
      const selectValues = document.querySelectorAll('.select-value');
      selectValues.forEach(select => {
        select.addEventListener('click', function() {
          const settingName = this.closest('.settings-item').querySelector('.item-title').textContent;
          // במימוש אמיתי כאן היה נפתח חלון בחירה
          alert(`בחירת ${settingName}`);
        });
      });
      
      // טיפול בכפתור התנתקות
      document.querySelector('.logout-button').addEventListener('click', function() {
        if (confirm('האם אתה בטוח שברצונך להתנתק?')) {
          alert('התנתקת בהצלחה');
        }
      });
    });
  </script>
</body>
</html>// ===================================================
// מודל נתונים ולוגיקה עסקית - תהילים בקדושה
// ===================================================

// ================================================
// 1. מודל הנתונים - הגדרת המבנים העיקריים
// ================================================

/**
 * מבנה פרק תהילים
 * מכיל את כל הנתונים הנחוצים להצגת פרק תהילים
 */
class Chapter {
  constructor(id, number, title, verses = []) {
    this.id = id;                  // מזהה ייחודי (uuid)
    this.number = number;          // מספר הפרק (1-150)
    this.title = title;            // כותרת הפרק (למשל "מזמור לדוד")
    this.verses = verses;          // מערך של פסוקים
    this.readCount = 0;            // מספר קריאות
    this.lastRead = null;          // תאריך קריאה אחרון
  }
}

/**
 * מבנה פסוק בתהילים
 * מכיל את הטקסט העברי והרוסי של הפסוק
 */
class Verse {
  constructor(number, hebrewText, russianText) {
    this.number = number;          // מספר הפסוק
    this.hebrewText = hebrewText;  // טקסט בעברית
    this.russianText = russianText;// טקסט ברוסית
    // סימון מיקומי שם ה' בטקסט (אינדקסים)
    this.divineNamePositions = {
      hebrew: this._findDivineNamePositions(hebrewText),
      russian: this._findDivineNamePositions(russianText, true)
    };
  }
  
  /**
   * מציאת מיקומי שם ה' בטקסט
   * @param {string} text - הטקסט לחיפוש
   * @param {boolean} isRussian - האם מדובר בטקסט רוסי
   * @returns {Array} מערך של אובייקטים עם התחלה וסוף של כל מופע של שם ה'
   */
  _findDivineNamePositions(text, isRussian = false) {
    const positions = [];
    
    if (isRussian) {
      // חיפוש שמות כמו Господь, Бог וכו'
      const russianDivineNames = ['Господь', 'Бог', 'Всевышний', 'Иегова', 'ЙХВХ', 'Яхве', 'Адонай'];
      
      russianDivineNames.forEach(name => {
        let index = text.indexOf(name);
        while (index !== -1) {
          positions.push({
            start: index,
            end: index + name.length,
            original: name
          });
          index = text.indexOf(name, index + 1);
        }
      });
    } else {
      // חיפוש שם ה' בעברית (פשוט)
      const hebrewDivineNames = ['יהוה', 'ה\'', 'אלוקים', 'אלקים', 'אדני'];
      
      hebrewDivineNames.forEach(name => {
        let index = text.indexOf(name);
        while (index !== -1) {
          positions.push({
            start: index,
            end: index + name.length,
            original: name
          });
          index = text.indexOf(name, index + 1);
        }
      });
    }
    
    return positions;
  }
}

/**
 * מבנה בקשת תיקון
 * מכיל את הנתונים של בקשה לתיקון טקסט
 */
class CorrectionRequest {
  constructor(id, userId, originalText, title, status = 'pending') {
    this.id = id;                  // מזהה ייחודי
    this.userId = userId;          // מזהה המשתמש המבקש
    this.originalText = originalText; // הטקסט המקורי
    this.title = title;            // כותרת לבקשה
    this.status = status;          // מצב הבקשה: pending/completed/rejected
    this.createdAt = new Date();   // זמן יצירה
    this.completedAt = null;       // זמן השלמה
    this.correctedText = null;     // הטקסט המתוקן (אם הושלם)
    this.correctorId = null;       // מזהה המשתמש שביצע את התיקון
  }
}

/**
 * מבנה משתמש
 * מכיל את נתוני המשתמש באפליקציה
 */
class User {
  constructor(id, name, email, avatar = null) {
    this.id = id;                  // מזהה ייחודי
    this.name = name;              // שם מלא
    this.email = email;            // כתובת דוא"ל
    this.avatar = avatar;          // תמונת משתמש (URL)
    this.registeredAt = new Date(); // תאריך הרשמה
    this.preferences = {
      theme: 'light',              // ערכת נושא
      fontSize: 'medium',          // גודל טקסט
      fontFamily: 'FrankRuhl',     // פונט
      defaultLanguage: 'both',     // עברית/רוסית/שניהם
      showNikkud: true,            // הצגת ניקוד
      divineNameStyle: 'ה\'',      // סגנון מועדף להצגת שם ה'
      playbackLanguage: 'hebrew',  // שפת הקראה
      saveHistory: true            // שמירת היסטוריה
    };
    this.readHistory = [];         // היסטוריית קריאה
    this.correctionHistory = [];   // היסטוריית תיקונים
  }
  
  /**
   * הוספת פרק להיסטוריית הקריאה
   * @param {number} chapterId - מזהה הפרק
   */
  addToReadHistory(chapterId) {
    this.readHistory.unshift({
      chapterId: chapterId,
      timestamp: new Date()
    });
    
    // שמירה על היסטוריה של 20 פרקים אחרונים
    if (this.readHistory.length > 20) {
      this.readHistory = this.readHistory.slice(0, 20);
    }
  }
  
  /**
   * עדכון העדפות משתמש
   * @param {Object} newPreferences - העדפות לעדכון
   */
  updatePreferences(newPreferences) {
    this.preferences = { ...this.preferences, ...newPreferences };
  }
}

/**
 * מבנה דיון בקהילה
 * מכיל את נתוני הדיון בקהילה
 */
class Discussion {
  constructor(id, userId, title, content, tags = []) {
    this.id = id;                  // מזהה ייחודי
    this.userId = userId;          // מזהה היוצר
    this.title = title;            // כותרת
    this.content = content;        // תוכן
    this.tags = tags;              // תגיות
    this.createdAt = new Date();   // זמן יצירה
    this.comments = [];            // תגובות
    this.likes = 0;                // מספר לייקים
    this.views = 0;                // מספר צפיות
  }
  
  /**
   * הוספת תגובה
   * @param {string} userId - מזהה המגיב
   * @param {string} content - תוכן התגובה
   */
  addComment(userId, content) {
    const comment = {
      id: generateUUID(),         // פונקציה שתיצור מזהה ייחודי
      userId: userId,
      content: content,
      createdAt: new Date(),
      likes: 0
    };
    
    this.comments.push(comment);
    return comment;
  }
}

// ================================================
// 2. מנהלי נתונים - לוגיקה עסקית מרכזית
// ================================================

/**
 * מנהל פרקי תהילים
 * אחראי על הלוגיקה של טעינה, עדכון והצגה של פרקי תהילים
 */
class ChapterManager {
  constructor(dataService) {
    this.dataService = dataService;    // שירות גישה לנתונים
    this.chapters = [];                // מטמון פרקים שנטענו
  }
  
  /**
   * טעינת פרק לפי מספר
   * @param {number} chapterNumber - מספר הפרק
   * @returns {Promise<Chapter>} הפרק המבוקש
   */
  async loadChapter(chapterNumber) {
    // בדיקה אם הפרק כבר במטמון
    const cachedChapter = this.chapters.find(ch => ch.number === chapterNumber);
    if (cachedChapter) {
      return cachedChapter;
    }
    
    // טעינה מהשרת
    try {
      const chapter = await this.dataService.fetchChapter(chapterNumber);
      this.chapters.push(chapter); // הוספה למטמון
      return chapter;
    } catch (error) {
      console.error(`Error loading chapter ${chapterNumber}:`, error);
      throw new Error(`Failed to load chapter ${chapterNumber}`);
    }
  }
  
  /**
   * סימון פרק כנקרא
   * @param {number} chapterNumber - מספר הפרק
   * @param {string} userId - מזהה המשתמש
   */
  async markAsRead(chapterNumber, userId) {
    try {
      // עדכון בשרת
      await this.dataService.markChapterAsRead(chapterNumber, userId);
      
      // עדכון במטמון
      const chapter = this.chapters.find(ch => ch.number === chapterNumber);
      if (chapter) {
        chapter.readCount++;
        chapter.lastRead = new Date();
      }
      
      // עדכון בהיסטוריית המשתמש
      const userManager = new UserManager(this.dataService);
      await userManager.addToUserReadHistory(userId, chapterNumber);
      
    } catch (error) {
      console.error(`Error marking chapter ${chapterNumber} as read:`, error);
    }
  }
  
  /**
   * קבלת הפרקים שנקראו לאחרונה על ידי משתמש
   * @param {string} userId - מזהה המשתמש
   * @returns {Promise<Array>} רשימת הפרקים האחרונים
   */
  async getRecentlyReadChapters(userId) {
    try {
      const history = await this.dataService.getUserReadHistory(userId);
      
      // טעינת פרטי הפרקים המלאים
      const chapters = [];
      for (const item of history.slice(0, 5)) { // 5 אחרונים
        const chapter = await this.loadChapter(item.chapterId);
        chapters.push({
          ...chapter,
          readAt: item.timestamp
        });
      }
      
      return chapters;
    } catch (error) {
      console.error(`Error getting recently read chapters for user ${userId}:`, error);
      return [];
    }
  }
}

/**
 * מנהל תיקון שם ה'
 * אחראי על הלוגיקה של תיקון שם ה' בטקסטים
 */
class DivineNameCorrector {
  constructor() {
    // מילון של שמות השם בשפות שונות
    this.divineNamesDict = {
      russian: [
        { original: 'Господь', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Бог', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Всевышний', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Иегова', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'ЙХВХ', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Яхве', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Адонай', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Элохим', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Саваоф', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Шаддай', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } }
      ],
      english: [
        { original: 'God', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Lord', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Jehovah', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'YHWH', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } },
        { original: 'Yahweh', styles: { 'ה\'': 'ה\'', 'י-ה-ו-ה': 'י-ה-ו-ה', 'השם': 'השם', 'יי': 'יי', 'אדנ-י': 'אדנ-י' } }
      ]
    };
  }
  
  /**
   * תיקון טקסט והחלפת שמות ה' בסגנון המבוקש
   * @param {string} text - הטקסט לתיקון
   * @param {string} language - שפת הטקסט (russian/english)
   * @param {string} style - סגנון התיקון (ה'/י-ה-ו-ה/השם וכו')
   * @returns {Object} תוצאת התיקון
   */
  correctText(text, language, style) {
    if (!this.divineNamesDict[language]) {
      throw new Error(`Unsupported language: ${language}`);
    }
    
    let correctedText = text;
    let replacementCount = 0;
    const replacements = [];
    
    // החלפת כל שם במילון
    this.divineNamesDict[language].forEach(nameDict => {
      const { original, styles } = nameDict;
      const replacement = styles[style] || style; // שימוש בסגנון המבוקש
      
      // יצירת ביטוי רגולרי לזיהוי המילה השלמה
      const regex = new RegExp(`\\b${original}\\b`, 'g');
      
      // איתור כל המופעים
      let match;
      while ((match = regex.exec(text)) !== null) {
        replacements.push({
          original: original,
          replacement: replacement,
          index: match.index
        });
      }
      
      // החלפת הטקסט
      const replaced = correctedText.replace(regex, `<span class="divine-name">${replacement}</span>`);
      
      // ספירת ההחלפות שבוצעו
      const replacedCount = (replaced.match(new RegExp(`<span class="divine-name">${replacement}</span>`, 'g')) || []).length;
      replacementCount += replacedCount;
      
      correctedText = replaced;
    });
    
    return {
      originalText: text,
      correctedText: correctedText,
      replacementCount: replacementCount,
      replacements: replacements
    };
  }
  
  /**
   * שמירת תיקון בהיסטוריה
   * @param {Object} correction - תוצאת התיקון
   * @param {string} userId - מזהה המשתמש
   * @param {DataService} dataService - שירות גישה לנתונים
   */
  async saveCorrection(correction, userId, dataService) {
    try {
      const correctionData = {
        userId: userId,
        originalText: correction.originalText,
        correctedText: correction.correctedText,
        replacementCount: correction.replacementCount,
        timestamp: new Date()
      };
      
      await dataService.saveCorrectionHistory(correctionData);
    } catch (error) {
      console.error('Error saving correction history:', error);
    }
  }
}

/**
 * מנהל בקשות תיקון
 * אחראי על הלוגיקה של ניהול בקשות לתיקון טקסטים
 */
class CorrectionRequestManager {
  constructor(dataService, nameCorrector) {
    this.dataService = dataService;
    this.nameCorrector = nameCorrector;
  }
  
  /**
   * יצירת בקשת תיקון חדשה
   * @param {string} userId - מזהה המשתמש המבקש
   * @param {string} originalText - הטקסט לתיקון
   * @param {string} title - כותרת לבקשה
   * @returns {Promise<CorrectionRequest>} הבקשה שנוצרה
   */
  async createRequest(userId, originalText, title) {
    try {
      const request = new CorrectionRequest(
        generateUUID(),
        userId,
        originalText,
        title
      );
      
      // שמירה במסד הנתונים
      await this.dataService.saveNewCorrectionRequest(request);
      
      return request;
    } catch (error) {
      console.error('Error creating correction request:', error);
      throw new Error('Failed to create correction request');
    }
  }
  
  /**
   * טיפול בבקשת תיקון (ביצוע התיקון)
   * @param {string} requestId - מזהה הבקשה
   * @param {string} correctorId - מזהה המשתמש המתקן
   * @param {string} style - סגנון התיקון הרצוי
   * @returns {Promise<CorrectionRequest>} הבקשה המעודכנת
   */
  async processRequest(requestId, correctorId, style = 'ה\'') {
    try {
      // טעינת הבקשה
      const request = await this.dataService.getCorrectionRequest(requestId);
      
      if (request.status !== 'pending') {
        throw new Error('Request already processed');
      }
      
      // זיהוי שפת הטקסט בסיסי (יש לשפר בהמשך)
      const language = this._detectLanguage(request.originalText);
      
      // תיקון הטקסט
      const correctionResult = this.nameCorrector.correctText(
        request.originalText,
        language,
        style
      );
      
      // עדכון הבקשה
      request.status = 'completed';
      request.completedAt = new Date();
      request.correctorId = correctorId;
      request.correctedText = correctionResult.correctedText;
      
      // שמירת השינויים
      await this.dataService.updateCorrectionRequest(request);
      
      return request;
    } catch (error) {
      console.error(`Error processing correction request ${requestId}:`, error);
      throw new Error('Failed to process correction request');
    }
  }
  
  /**
   * זיהוי שפת הטקסט - גרסה בסיסית
   * @param {string} text - הטקסט לזיהוי
   * @returns {string} קוד השפה (russian/english)
   */
  _detectLanguage(text) {
    // זיהוי גס של אותיות קיריליות
    const cyrillicPattern = /[\u0400-\u04FF]/;
    if (cyrillicPattern.test(text)) {
      return 'russian';
    }
    
    // אחרת - מניחים שזה אנגלית
    return 'english';
  }
  
  /**
   * קבלת כל בקשות התיקון הממתינות
   * @returns {Promise<Array>} רשימת הבקשות
   */
  async getPendingRequests() {
    try {
      return await this.dataService.getPendingCorrectionRequests();
    } catch (error) {
      console.error('Error getting pending correction requests:', error);
      return [];
    }
  }
}

/**
 * מנהל משתמשים
 * אחראי על הלוגיקה של ניהול נתוני משתמשים
 */
class UserManager {
  constructor(dataService) {
    this.dataService = dataService;
    this.currentUser = null;  // משתמש נוכחי (מחובר)
  }
  
  /**
   * כניסה למערכת
   * @param {string} email - דוא"ל
   * @param {string} password - סיסמה
   * @returns {Promise<User>} המשתמש שנכנס
   */
  async login(email, password) {
    try {
      const user = await this.dataService.authenticateUser(email, password);
      this.currentUser = user;
      return user;
    } catch (error) {
      console.error('Login failed:', error);
      throw new Error('Invalid email or password');
    }
  }
  
  /**
   * יציאה מהמערכת
   */
  logout() {
    this.currentUser = null;
  }
  
  /**
   * עדכון העדפות המשתמש
   * @param {string} userId - מזהה המשתמש
   * @param {Object} preferences - העדפות לעדכון
   * @returns {Promise<User>} המשתמש המעודכן
   */
  async updateUserPreferences(userId, preferences) {
    try {
      const updatedUser = await this.dataService.updateUserPreferences(userId, preferences);
      
      // עדכון המשתמש הנוכחי אם זה הוא
      if (this.currentUser && this.currentUser.id === userId) {
        this.currentUser.preferences = { ...this.currentUser.preferences, ...preferences };
      }
      
      return updatedUser;
    } catch (error) {
      console.error(`Error updating preferences for user ${userId}:`, error);
      throw new Error('Failed to update preferences');
    }
  }
  
  /**
   * הוספת פרק להיסטוריית הקריאה
   * @param {string} userId - מזהה המשתמש
   * @param {number} chapterId - מזהה הפרק
   */
  async addToUserReadHistory(userId, chapterId) {
    try {
      await this.dataService.addToUserReadHistory(userId, chapterId);
      
      // עדכון המשתמש הנוכחי אם זה הוא
      if (this.currentUser && this.currentUser.id === userId) {
        this.currentUser.addToReadHistory(chapterId);
      }
    } catch (error) {
      console.error(`Error adding chapter ${chapterId} to user ${userId} history:`, error);
    }
  }
}

/**
 * מנהל דיונים וקהילה
 * אחראי על הלוגיקה של ניהול דיונים בקהילה
 */
class CommunityManager {
  constructor(dataService) {
    this.dataService = dataService;
  }
  
  /**
   * יצירת דיון חדש
   * @param {string} userId - מזהה היוצר
   * @param {string} title - כותרת
   * @param {string} content - תוכן
   * @param {Array} tags - תגיות
   * @returns {Promise<Discussion>} הדיון שנוצר
   */
  async createDiscussion(userId, title, content, tags = []) {
    try {
      const discussion = new Discussion(
        generateUUID(),
        userId,
        title,
        content,
        tags
      );
      
      // שמירה במסד הנתונים
      await this.dataService.saveNewDiscussion(discussion);
      
      return discussion;
    } catch (error) {
      console.error('Error creating discussion:', error);
      throw new Error('Failed to create discussion');
    }
  }
  
  /**
   * קבלת דיונים אחרונים
   * @param {number} limit - מספר הדיונים להחזיר
   * @returns {Promise<Array>} רשימת הדיונים
   */
  async getRecentDiscussions(limit = 10) {
    try {
      return await this.dataService.getRecentDiscussions(limit);
    } catch (error) {
      console.error('Error getting recent discussions:', error);
      return [];
    }
  }
  
  /**
   * הוספת תגובה לדיון
   * @param {string} discussionId - מזהה הדיון
   * @param {string} userId - מזהה המגיב
   * @param {string} content - תוכן התגובה
   * @returns {Promise<Object>} התגובה שנוספה
   */
  async addComment(discussionId, userId, content) {
    try {
      const discussion = await this.dataService.getDiscussion(discussionId);
      const comment = discussion.addComment(userId, content);
      
      // עדכון הדיון במסד הנתונים<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>האזור האישי - תהילים בקדושה</title>
  <style>
    /* בסיס */
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&family=Frank+Ruhl+Libre:wght@400;500;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #4361ee;
      --primary-light: #4895ef;
      --primary-dark: #3f37c9;
      --background: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --text-light: #6c757d;
      --text-lighter: #adb5bd;
      --accent: #fca311;
      --divine: #d4a017;
      --success: #4cc9a6;
      --warning: #ffb347;
      --error: #ff6b6b;
      --border: #dee2e6;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius-sm: 8px;
      --radius: 12px;
      --radius-lg: 20px;
      --header-height: 60px;
      --bottom-nav-height: 65px;
      --content-padding: 16px;
    }
    
    body {
      font-family: 'Heebo', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.5;
      font-size: 16px;
      padding-bottom: var(--bottom-nav-height);
      padding-top: var(--header-height);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      line-height: 1.3;
    }
    
    a {
      text-decoration: none;
      color: inherit;
    }
    
    button {
      font-family: inherit;
      border: none;
      background: none;
      cursor: pointer;
    }
    
    /* כותרת */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      height: var(--header-height);
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--content-padding);
      box-shadow: var(--shadow-sm);
      z-index: 100;
    }
    
    .header-title {
      font-weight: 700;
      font-size: 18px;
    }
    
    .back-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      font-size: 18px;
      background-color: transparent;
      border: none;
    }
    
    .header-actions {
      display: flex;
      gap: 8px;
    }
    
    .icon-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: transparent;
      border: none;
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    
    /* תוכן */
    .container {
      padding: var(--content-padding);
      max-width: 800px;
      margin: 0 auto;
    }
    
    /* טאבים */
    .tabs {
      display: flex;
      align-items: center;
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
    }
    
    .tab {
      flex: 1;
      height: 46px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      font-size: 14px;
      color: var(--text-light);
      position: relative;
    }
    
    .tab.active {
      color: var(--primary);
    }
    
    .tab.active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background-color: var(--primary);
    }
    
    /* כרטיסיות */
    .card {
      background-color: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    
    .card-header {
      padding: 16px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .card-title {
      font-weight: 600;
      font-size: 16px;
    }
    
    .card-body {
      padding: 16px;
    }
    
    /* תיקים */
    .collections-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    
    .collection-item {
      background-color: var(--background);
      border-radius: var(--radius);
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      box-shadow: var(--shadow-sm);
      transition: transform 0.2s;
    }
    
    .collection-item:hover {
      transform: translateY(-2px);
    }
    
    .collection-icon {
      width: 40px;
      height: 40px;
      background-color: var(--primary-light);
      color: white;
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      margin-bottom: 4px;
    }
    
    .collection-title {
      font-weight: 600;
      font-size: 15px;
    }
    
    .collection-info {
      font-size: 13px;
      color: var(--text-light);
      margin-top: auto;
    }
    
    /* כפתורים */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 36px;
      padding: 0 16px;
      border-radius: 18px;
      font-weight: 500;
      font-size: 14px;
      background-color: var(--primary);
      color: white;
      white-space: nowrap;
    }
    
    .btn-outline {
      background-color: transparent;
      border: 1px solid var(--border);
      color: var(--text);
    }
    
    .btn-icon {
      margin-left: 6px;
      font-size: 16px;
    }
    
    .btn-success {
      background-color: var(--success);
    }
    
    /* תיק מתוקן */
    .edited-content {
      background-color: var(--background);
      border-radius: var(--radius-sm);
      padding: 12px;
      margin-bottom: 16px;
      font-family: 'Frank Ruhl Libre', serif;
      position: relative;
    }
    
    .edit-overlay {
      position: absolute;
      top: 8px;
      left: 8px;
      display: flex;
      gap: 4px;
    }
    
    .edit-btn {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: var(--card);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      box-shadow: var(--shadow-sm);
    }
    
    .divine-name {
      color: var(--divine);
      font-weight: 700;
    }
    
    /* עריכה */
    .edit-tools {
      background-color: var(--card);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .tool-btn {
      height: 36px;
      padding: 0 12px;
      border-radius: 18px;
      font-size: 13px;
      font-weight: 500;
      border: 1px solid var(--border);
      background-color: var(--background);
      white-space: nowrap;
    }
    
    .tool-btn.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    .edit-area {
      width: 100%;
      min-height: 150px;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 12px;
      font-size: 16px;
      font-family: 'Frank Ruhl Libre', serif;
      margin-bottom: 16px;
      resize: vertical;
    }
    
    /* אפשרויות הדפסה */
    .print-options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .print-option {
      background-color: var(--background);
      border-radius: var(--radius-sm);
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      border: 1px solid var(--border);
    }
    
    .print-option.selected {
      border-color: var(--primary);
      background-color: rgba(67, 97, 238, 0.05);
    }
    
    .option-title {
      font-weight: 600;
      font-size: 15px;
      margin-bottom: 4px;
    }
    
    .option-desc {
      font-size: 13px;
      color: var(--text-light);
    }
    
    .print-settings {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 16px;
    }
    
    .setting-row {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
      padding: 8px 0;
      border-bottom: 1px solid var(--border);
    }
    
    .setting-row:last-child {
      border-bottom: none;
    }
    
    .setting-value {
      color: var(--primary);
      font-weight: 500;
    }
    
    /* ניווט תחתון */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: var(--bottom-nav-height);
      background-color: var(--card);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
      z-index: 100;
    }
    
    .bottom-nav-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      color: var(--text-light);
      transition: color 0.2s;
      padding: 8px 0;
      text-decoration: none;
    }
    
    .bottom-nav-item.active {
      color: var(--primary);
    }
    
    .bottom-nav-icon {
      font-size: 22px;
    }
    
    .bottom-nav-label {
      font-size: 12px;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <!-- כותרת -->
  <header class="header">
    <button class="back-button">←</button>
    <div class="header-title">האזור האישי שלי</div>
    <div class="header-actions">
      <button class="icon-btn">⚙️</button>
    </div>
  </header>
  
  <!-- תוכן -->
  <div class="container">
    <!-- טאבים -->
    <div class="tabs">
      <a href="#" class="tab active">התיקים שלי</a>
      <a href="#" class="tab">עריכה אישית</a>
      <a href="#" class="tab">הדפסה</a>
    </div>
    
    <!-- תוכן טאב 1: התיקים שלי -->
    <div class="tab-content" id="collections">
      <!-- כפתור הוספה -->
      <div style="display: flex; justify-content: flex-end; margin-bottom: 16px;">
        <button class="btn">
          <span class="btn-icon">+</span>
          תיק חדש
        </button>
      </div>
      
      <!-- רשימת תיקים -->
      <div class="collections-grid">
        <!-- תיק 1 -->
        <a href="#" class="collection-item">
          <div class="collection-icon">📖</div>
          <div class="collection-title">תהילים יומי</div>
          <div class="collection-info">13 פרקים • עודכן לפני 2 ימים</div>
        </a>
        
        <!-- תיק 2 -->
        <a href="#" class="collection-item">
          <div class="collection-icon">🙏</div>
          <div class="collection-title">תפילות מיוחדות</div>
          <div class="collection-info">5 תפילות • עודכן לפני שבוע</div>
        </a>
        
        <!-- תיק 3 -->
        <a href="#" class="collection-item">
          <div class="collection-icon">📝</div>
          <div class="collection-title">טקסטים שתיקנתי</div>
          <div class="collection-info">8 טקסטים • עודכן לפני 3 ימים</div>
        </a>
        
        <!-- תיק 4 -->
        <a href="#" class="collection-item">
          <div class="collection-icon">💫</div>
          <div class="collection-title">לרפואת</div>
          <div class="collection-info">3 הקדשות • עודכן אתמול</div>
        </a>
      </div>
      
      <!-- פעילות אחרונה -->
      <div class="card" style="margin-top: 24px;">
        <div class="card-header">
          <div class="card-title">פעילות אחרונה</div>
        </div>
        <div class="card-body">
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <div style="display: flex; gap: 10px;">
              <div style="width: 36px; height: 36px; background-color: var(--primary-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">✓</div>
              <div>
                <div style="font-weight: 500;">תיקנת טקסט "קידוש לשבת"</div>
                <div style="font-size: 13px; color: var(--text-light);">לפני 3 שעות</div>
              </div>
            </div>
            
            <div style="display: flex; gap: 10px;">
              <div style="width: 36px; height: 36px; background-color: var(--primary-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">📖</div>
              <div>
                <div style="font-weight: 500;">קראת פרק כ״ג בתהילים</div>
                <div style="font-size: 13px; color: var(--text-light);">לפני 5 שעות</div>
              </div>
            </div>
            
            <div style="display: flex; gap: 10px;">
              <div style="width: 36px; height: 36px; background-color: var(--primary-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">💾</div>
              <div>
                <div style="font-weight: 500;">שמרת קובץ PDF של תהילים</div>
                <div style="font-size: 13px; color: var(--text-light);">לפני יומיים</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- תוכן טאב 2: עריכה אישית (מוסתר כרגע) -->
    <div class="tab-content" id="edit" style="display: none;">
      <!-- טקסט שעובדים עליו -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">ברכת המזון ברוסית</div>
          <button class="btn btn-outline" style="font-size: 13px;">שמור</button>
        </div>
        <div class="card-body">
          <div class="edited-content">
            <div>
              Благословен Ты, <span class="divine-name">ה׳</span>, Бог наш, Владыка Вселенной, питающий весь мир по доброте Своей, по милости, по благодеянию и по милосердию. Он дает пищу всякой плоти, ибо навеки милость Его.
            </div>
            <div class="edit-overlay">
              <button class="edit-btn">✏️</button>
              <button class="edit-btn">➕</button>
            </div>
          </div>
          
          <!-- כלי עריכה -->
          <div class="edit-tools">
            <button class="tool-btn active">עברית (ה׳)</button>
            <button class="tool-btn">רוסית (ה׳)</button>
            <button class="tool-btn">י-ה-ו-ה</button>
            <button class="tool-btn">השם</button>
            <button class="tool-btn">הוסף הערה</button>
          </div>
          
          <!-- תיבת עריכה -->
          <textarea class="edit-area">Благословен Ты, ה׳, Бог наш, Владыка Вселенной, питающий весь мир по доброте Своей, по милости, по благодеянию и по милосердию. Он дает пищу всякой плоти, ибо навеки милость Его.</textarea>
          
          <!-- כפתורי פעולה -->
          <div style="display: flex; gap: 10px; justify-content: space-between;">
            <div>
              <button class="btn btn-outline">בטל</button>
              <button class="btn btn-outline">שחזר</button>
            </div>
            <div>
              <button class="btn btn-success">שמור שינויים</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- רשימת טקסטים נוספים לעריכה -->
      <div class="card" style="margin-top: 24px;">
        <div class="card-header">
          <div class="card-title">טקסטים לעריכה</div>
        </div>
        <div class="card-body">
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border);">
              <div>
                <div style="font-weight: 500;">קידוש לשבת</div>
                <div style="font-size: 13px; color: var(--text-light);">600 תווים • 4 מופעים של שם ה׳</div>
              </div>
              <button class="btn btn-outline" style="padding: 0 12px; height: 32px; font-size: 13px;">ערוך</button>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border);">
              <div>
                <div style="font-weight: 500;">תפילת העמידה</div>
                <div style="font-size: 13px; color: var(--text-light);">1200 תווים • 12 מופעים של שם ה׳</div>
              </div>
              <button class="btn btn-outline" style="padding: 0 12px; height: 32px; font-size: 13px;">ערוך</button>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
              <div>
                <div style="font-weight: 500;">תהילים פרק א׳</div>
                <div style="font-size: 13px; color: var(--text-light);">350 תווים • 2 מופעים של שם ה׳</div>
              </div>
              <button class="btn btn-outline" style="padding: 0 12px; height: 32px; font-size: 13px;">ערוך</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- תוכן טאב 3: הדפסה (מוסתר כרגע) -->
    <div class="tab-content" id="print" style="display: none;">
      <!-- בחירת פורמט -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">בחר פורמט הדפסה</div>
        </div>
        <div class="card-body">
          <div class="print-options">
            <div class="print-option selected">
              <div class="option-title">ספר כיס</div>
              <div class="option-desc">A6 • גופן בינוני</div>
            </div>
            
            <div class="print-option">
              <div class="option-title">סידור רגיל</div>
              <div class="option-desc">A5 • גופן גדול</div>
            </div>
            
            <div class="print-option">
              <div class="option-title">דף בודד</div>
              <div class="option-desc">A4 • גופן גדול מאוד</div>
            </div>
            
            <div class="print-option">
              <div class="option-title">מותאם אישית</div>
              <div class="option-desc">הגדרות מותאמות</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- הגדרות הדפסה -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <div class="card-title">הגדרות הדפסה</div>
        </div>
        <div class="card-body">
          <div class="print-settings">
            <div class="setting-row">
              <div>גודל גופן</div>
              <div class="setting-value">בינוני</div>
            </div>
            
            <div class="setting-row">
              <div>סגנון שם ה׳</div>
              <div class="setting-value">ה׳</div>
            </div>
            
            <div class="setting-row">
              <div>הוסף ניקוד</div>
              <div class="setting-value">כן</div>
            </div>
            
            <div class="setting-row">
              <div>תצוגת טקסט</div>
              <div class="setting-value">עברית + רוסית</div>
            </div>
            
            <div class="setting-row">
              <div>הוסף שער</div>
              <div class="setting-value">כן</div>
            </div>
            
            <div class="setting-row">
              <div>הוסף הקדשה</div>
              <div class="setting-value">לא</div>
            </div>
          </div>
          
          <!-- כפתורי פעולה -->
          <div style="display: flex; gap: 16px; justify-content: center; margin-top: 16px;">
            <button class="btn">
              <span class="btn-icon">⬇️</span>
              הורד PDF
            </button>
            
            <button class="btn">
              <span class="btn-icon">🖨️</span>
              הדפס עכשיו
            </button>
          </div>
        </div>
      </div>
      
      <!-- תיקים להדפסה -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <div class="card-title">בחר תיק להדפסה</div>
        </div>
        <div class="card-body">
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border);">
              <div>
                <div style="font-weight: 500;">תהילים יומי</div>
                <div style="font-size: 13px; color: var(--text-light);">13 פרקים</div>
              </div>
              <button class="btn btn-outline" style="padding: 0 12px; height: 32px; font-size: 13px;">בחר</button>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border);">
              <div>
                <div style="font-weight: 500;">תפילות מיוחדות</div>
                <div style="font-size: 13px; color: var(--text-light);">5 תפילות</div>
              </div>
              <button class="btn btn-outline" style="padding: 0 12px; height: 32px; font-size: 13px;">בחר</button>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
              <div>
                <div style="font-weight: 500;">שבת קודש</div>
                <div style="font-size: 13px; color: var(--text-light);">קידוש, זמירות, הבדלה</div>
              </div>
              <button class="btn btn-outline" style="padding: 0 12px; height: 32px; font-size: 13px;">בחר</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ניווט תחתון -->
  <nav class="bottom-nav">
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🏠</div>
      <div class="bottom-nav-label">בית</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">📖</div>
      <div class="bottom-nav-label">תהילים</div>
    </a>
    <a href="#" class="bottom-nav-item">
      <div class="bottom-nav-icon">🔄</div>
      <div class="bottom-nav-label">תיקון</div>
    </a>
    <a href="#" class="bottom-nav-item active">
      <div class="bottom-nav-icon">👤</div>
      <div class="bottom-nav-label">אישי</div>
    </a>
  </nav>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // טיפול בטאבים
      const tabs = document.querySelectorAll('.tab');
      const tabContents = document.querySelectorAll('.tab-content');
      
      tabs.forEach((tab, index) => {
        tab.addEventListener('click', function(# האזור האישי - עריכה והדפסה

## מטרת המודול

האזור האישי נועד לאפשר למשתמש ליצור ולנהל אוספים מותאמים אישית של טקסטים מתוקנים, לערוך אותם בצורה מעמיקה ולהדפיס אותם בפורמטים שונים. זהו רכיב שהופך את האפליקציה מכלי צריכה פשוט לפלטפורמה שהמשתמש יכול ליצור בה תוכן ערך בעצמו.

## תכונות מרכזיות

### 1. ניהול תיקים (אוספים) אישיים
- **יצירת תיקים מותאמים אישית**: המשתמש יכול ליצור אוספים מאורגנים של טקסטים לפי נושאים או צרכים
- **סוגי תיקים**:
  - תיק תהילים (אוסף פרקים נבחרים)
  - תיק תפילות (אוסף תפילות ברוסית מתוקנות)
  - תיק מעורב (מגוון טקסטים)
  - תיק הקדשות (קריאות שהוקדשו למטרות מסוימות)
- **ארגון וניהול**: אפשרות לשנות את סדר הפריטים, למחוק או להוסיף פריטים, ולשנות את הקטגוריות

### 2. עריכה מתקדמת
- **עריכת טקסט מלאה**: יכולת לערוך כל טקסט ברוסית עם תמיכה מיוחדת בשם ה'
- **סגנונות שם ה'**: בחירה בין סגנונות שונים להצגת שם ה' (ה', י-ה-ו-ה, השם, יי, אדנ-י)
- **זיהוי אוטומטי**: המערכת תזהה באופן אוטומטי שמות ה' בטקסט שהמשתמש מזין
- **שמירת שכבות עריכה**: מעקב אחר העריכות השונות שבוצעו על הטקסט
- **הוספת הערות והסברים**: אפשרות להוסיף הערות שוליים והסברים לטקסטים

### 3. אפשרויות הדפסה ואפשרויות ייצוא
- **פורמטים שונים**:
  - ספר כיס (A6)
  - סידור רגיל (A5)
  - דף בודד (A4)
  - פורמט מותאם אישית
- **אפשרויות עיצוב**:
  - גודל גופן
  - סגנון שם ה'
  - ניקוד (כן/לא)
  - שפות להצגה (עברית/רוסית/שתיהן)
  - שוליים ופריסה
- **תוספות**:
  - שער מעוצב
  - הקדשה אישית
  - מספור עמודים
  - תוכן עניינים
- **ייצוא בפורמטים שונים**:
  - PDF להדפסה
  - אפשרות הדפסה ישירה
  - ייצוא לאימייל
  - שיתוף דרך רשתות חברתיות

### 4. אינטגרציה עם שאר חלקי האפליקציה
- **שילוב עם בוט התיקון**: תיקון אוטומטי של טקסטים בעת הוספתם לתיק
- **שילוב עם ספריית תהילים**: הוספה מהירה של פרקים מהספרייה הראשית
- **שילוב עם פרופיל אישי**: הצגת היסטוריית קריאה ועריכה
- **שילוב עם קהילה**: אפשרות לשתף תיקים עם אחרים או לקבל עזרה בעריכה

## מסכים עיקריים

### מסך רשימת התיקים
- תצוגת רשת של התיקים האישיים
- כל תיק מוצג עם אייקון, כותרת, ומספר הפריטים בו
- כפתור יצירת תיק חדש בולט
- פעילות אחרונה (תיקונים, קריאות, הדפסות)

### מסך עריכת תיק
- רשימת הפריטים בתיק עם אפשרות גרירה לסידור מחדש
- כלי עריכה מתקדמים לכל פריט:
  - עורך טקסט עם סרגל כלים להדגשת שם ה'
  - אפשרויות תצוגה (גודל, ניקוד)
  - כלי זיהוי והחלפה אוטומטיים
- תצוגה מקדימה של הטקסט המתוקן

### מסך הדפסה
- בחירת פורמט הדפסה עם תצוגה מקדימה
- הגדרות מפורטות לעיצוב ותוכן
- אפשרות להוספת הקדשה אישית
- כפתורי הורדה והדפסה ישירה
- בחירת הפריטים להדפסה מתוך התיק

## זרימת עבודה טיפוסית

1. המשתמש יוצר תיק חדש (למשל "תהילים יומי")
2. המשתמש מוסיף פרקים מספר התהילים לתיק
3. המשתמש עורך פריטים מסוימים לפי הצורך (שינוי סגנון של שם ה', הוספת הערות)
4. המשתמש בוחר את הגדרות ההדפסה המועדפות
5. המשתמש מייצא את התיק כקובץ PDF או מדפיס ישירות

## ממשק המשתמש (UI)

### אלמנטים מרכזיים
- **כרטיסיות תיקים**: תצוגת רשת עם אייקונים צבעוניים
- **עורך טקסט**: עורך רספונסיבי עם כלים להדגשת שם ה'
- **סרגל אפשרויות עריכה**: כלים לשינוי סגנון שם ה'
- **תצוגת קדם-הדפסה**: תצוגה מקדימה של המסמך המוכן להדפסה
- **אפשרויות פורמט**: כרטיסיות לבחירת גודל וסגנון הדפסה

### התאמה למובייל
- ניווט פשוט בין המסכים השונים
- כלי עריכה מותאמים למסך מגע
- תצוגות מוקטנות אך קריאות של אפשרויות הדפסה
- כפתורים גדולים לפעולות עיקריות

## יתרונות עסקיים

1. **הגדלת מעורבות ושימור משתמשים**: מושך משתמשים לחזור לאפליקציה באופן תדיר
2. **יצירת ערך מוסף**: מאפשר למשתמשים ליצור תוכן מותאם אישית שלא זמין במקום אחר
3. **אפשרויות מימון**:
   - תכונות פרימיום (עריכה מתקדמת, סגנונות הדפסה מיוחדים)
   - הדפסה מקצועית בתשלום (שליחת הזמנה להדפסת ספר אמיתי)
   - חבילות מוכנות מראש (אוסף תפילות מתוקנות בתשלום)
4. **גידול אורגני**: משתמשים ישתפו את היצירות שלהם עם אחרים

## מפרט טכני

### צד לקוח
- עורך טקסט מבוסס JavaScript עם תמיכה בזיהוי והחלפת שם ה'
- ספריית PDF.js או דומה ליצירת תצוגה מקדימה
- שמירת פרויקטים מקומית עם IndexedDB

### צד שרת
- שירות שמירה של תיקים ועריכות
- מנוע PDF לייצור קבצים להדפסה
- מערכת ניהול משתמשים עם פרופילים אישיים
- API לשיתוף תיקים בין משתמשים

### מערכת הדפסה
- יצירת PDF מהתוכן המעוצב
- תמיכה בשפות שונות (עברית, רוסית) וכיוון טקסט
- הטמעת גופנים מותאמים
- עבודה עם API של שירותי הדפסה (לפיתוח עתידי)

## פיתוח עתידי

### שלב 1 - בסיסי
- יצירה וניהול תיקים פשוטים
- עריכה בסיסית של שם ה'
- ייצוא ל-PDF בפורמט בסיסי

### שלב 2 - מתקדם
- עורך טקסט מלא עם כל האפשרויות
- פורמטים מרובים להדפסה
- שיתוף תיקים בין משתמשים

### שלב 3 - פרימיום
- הדפסה מקצועית בתשלום
- תבניות עיצוב מיוחדות
- אינטגרציה עם שירותי הפקת ספרים# אסטרטגיית שיווק וקהילה - תהילים בקדושה

## חזון השיווק
לבנות קהילה עולמית של דוברי רוסית המחויבים לקדושת שם ה׳, ולהפוך את אפליקציית "תהילים בקדושה" לפלטפורמה המובילה לקריאה ותיקון טקסטים דתיים ברוסית.

## קהל היעד

### קהל יעד ראשי
- **יהודים דוברי רוסית בישראל** - מהגרים ממדינות חבר העמים המתחזקים בדת
- **יהודים דוברי רוסית בחו"ל** - קהילות במדינות כמו רוסיה, אוקראינה, ארה"ב, גרמניה וקנדה
- **בעלי תשובה** - אנשים המתקרבים ליהדות וזקוקים לתכנים דתיים ברוסית
- **רבנים ומנהיגי קהילות** - שצריכים לספק חומרים מתוקנים לקהילותיהם

### קהל יעד משני
- **מתרגמים ועורכי טקסט** - העוסקים בתרגום וההנגשה של טקסטים יהודיים
- **ארגוני קירוב** - העוסקים בקירוב יהודים דוברי רוסית ליהדות
- **מחנכים** - מורים בבתי ספר יהודיים ומלמדים בישיבות/סמינרים לדוברי רוסית

## אסטרטגיות שיווק

### 1. בניית קהילה דיגיטלית
- **קבוצות טלגרם ייעודיות** - הקמת קבוצות בטלגרם (הפלטפורמה הפופולרית ביותר בקרב דוברי רוסית)
  - קבוצה ראשית: "שמירת קדושת שם ה׳"
  - קבוצה למתרגמים: "תיקון וניקיון טקסטים דתיים"
  - קבוצה יומית: "תהילים היומי - ברוסית מתוקנת"
- **סדרת שיעורים מקוונים** - שיעורים שבועיים בזום על חשיבות אמירת שם ה׳ בצורה נכונה
- **פורום שאלות ותשובות** - מענה לשאלות הלכתיות הקשורות לשמות ה׳ ולתרגומים

### 2. שיתופי פעולה עם מובילי דעה
- **רבנים דוברי רוסית** - לגייס תמיכה והמלצות מרבנים מוכרים בקהילה הרוסית
- **משפיעני רשת יהודיים** - לעבוד עם יוצרי תוכן ברוסית בנושאי יהדות
- **ארגוני קירוב** - שיתופי פעולה עם ארגונים כמו חב"ד והידברות ברוסית

### 3. אסטרטגיית תוכן ונוכחות דיגיטלית
- **יצירת בלוג מקצועי** - מאמרים שבועיים על נושאים כמו:
  - חשיבות שם ה׳ במסורת היהודית
  - אתגרי תרגום טקסטים יהודיים לרוסית
  - סיפורי הצלחה של תיקון טקסטים בקהילות
- **ערוץ יוטיוב** - סרטונים קצרים המסבירים את הצורך בתיקון טקסטים וכיצד האפליקציה עוזרת
- **רשתות חברתיות** - נוכחות פעילה בפלטפורמות פופולריות בקרב דוברי רוסית:
  - VK (VKontakte)
  - Odnoklassniki
  - Instagram

### 4. אירועים ופעילויות קהילתיות
- **מאסטר-קלאס למתרגמים** - סדנאות להכשרת מתרגמים בתיקון שם ה׳
- **האקאתון תיקוני טקסט** - אירוע מרוכז לתיקון טקסטים פופולריים ברוסית
- **מרתון תהילים קהילתי** - אירועי קריאת תהילים מהאפליקציה
- **כנסים שנתיים** - כנס שנתי לדוברי רוסית בנושא קדושת הטקסטים

### 5. תכנית הפניות (Referrals) וצמיחה אורגנית
- **מערכת תגמול** - משתמשים מקבלים נקודות/הטבות על הבאת משתמשים חדשים
- **שיתוף תיקים אישיים** - עידוד משתמשים לשתף את התיקים המותאמים אישית שיצרו
- **עדויות משתמשים** - איסוף וניהול עדויות מרבנים ומשתמשים שנעזרו באפליקציה

## יצירת מדדי הצלחה (KPIs)

### מדדי צמיחה
- **מספר התקנות** - יעד: 10,000 התקנות בשנה הראשונה
- **משתמשים פעילים חודשית (MAU)** - יעד: 5,000 MAU בסוף השנה הראשונה
- **שיעור שימור** - יעד: 40% לאחר 30 יום

### מדדי מעורבות
- **זמן שימוש ממוצע** - יעד: 15 דקות ליום למשתמש
- **מספר פרקים נקראים** - יעד: 30 פרקים בממוצע חודשי למשתמש פעיל
- **טקסטים מתוקנים** - יעד: 5,000 תיקונים חודשיים בכל המערכת

### מדדי קהילה
- **חברי קהילה** - יעד: 3,000 חברים פעילים בקבוצות הטלגרם
- **שאלות ותגובות** - יעד: 300 אינטראקציות שבועיות
- **שיתופי תיקים** - יעד: 500 שיתופים חודשיים של תיקים אישיים

## מודל הכנסות

### 1. מודל פרימיום
- **גרסה בסיסית חינמית**:
  - קריאת תהילים ותפילות בסיסיות
  - גישה לבוט תיקון בסיסי
  - הוספה לקהילה
- **חבילת פרימיום (מנוי חודשי/שנתי)**:
  - גישה לכל הטקסטים והתפילות
  - בוט תיקון מתקדם וללא הגבלות
  - אפשרויות עריכה והדפסה מתקדמות
  - תמיכה מועדפת

### 2. שירותי הדפסה בתשלום
- **הדפסת תפילונים מותאמים אישית** - הדפסה מקצועית של התיקים האישיים
- **סידורים מותאמים לקהילות** - הכנת סידורים מותאמים לבתי כנסת ואירועים
- **מוצרים פיזיים** - כרטיסי תפילה, פוסטרים, ומוצרים נוספים עם תפילות מתוקנות

### 3. שירותים מקצועיים
- **תיקון טקסטים בהיקף גדול** - שירות לארגונים וקהילות
- **ייעוץ לרבנים וארגונים** - עזרה בהטמעת סטנדרטים נכונים לכתיבת שם ה׳
- **הכשרת מתרגמים** - קורסים והסמכה למתרגמי טקסטים דתיים

### 4. תרומות וחסויות
- **תרומות מהקהילה** - אפשרות לתרום לפיתוח האפליקציה
- **חסויות מארגונים** - גיוס חסויות מארגונים יהודיים וקהילות
- **פרויקט "אמץ פרק"** - תורמים יכולים "לאמץ" פרק תהילים ולממן את תיקונו המלא

## אבני דרך לשיווק

### חודשים 1-3: השקה ראשונית
- הקמת נוכחות בסיסית ברשתות החברתיות
- יצירת 10 מאמרים בסיסיים לבלוג
- הקמת קבוצת טלגרם ראשית
- גיוס 5 רבנים דוברי רוסית כתומכים

### חודשים 4-6: בניית קהילה
- השקת סדרת שיעורים שבועית בזום
- קמפיין "30 יום של תהילים מתוקנים"
- השקת מערכת ההפניות
- גיוס 100 משתמשים ראשונים פעילים

### חודשים 7-9: הרחבה
- השקת ערוץ יוטיוב
- מאסטר-קלאס ראשון למתרגמים
- שיתופי פעולה עם 3 ארגוני קירוב
- השקת שירותי הדפסה ראשוניים

### חודשים 10-12: צמיחה
- האקאתון תיקוני טקסט ראשון
- השקת מודל הפרימיום
- קמפיין פרסום בקהילות הרוסיות בישראל
- דוח שנתי ראשון על השפעת הפרויקט

## יוזמות קהילתיות מיוחדות

### 1. "ספר תהילים קהילתי"
יוזמה לתיקון וחלוקה של ספרי תהילים ברוסית לקהילות נזקקות, כאשר כל משתמש תורם לתיקון פרק אחד.

### 2. "שגרירי קדושת השם"
תכנית להכשרת "שגרירים" בקהילות שונות ברחבי העולם, שיפיצו את השימוש באפליקציה ויסייעו בהטמעתה.

### 3. "מסע הניקיון הדיגיטלי"
מבצע שנתי לבדיקה ותיקון של אתרים ומקורות מידע פופולריים ברוסית, לוודא שהם משתמשים בצורה נכונה בשם ה׳.

### 4. "סידור לכל בית כנסת"
יוזמה לספק לכל בית כנסת דובר רוסית לפחות סידור אחד מתוקן, בשיתוף עם קהילות וארגונים.

## אסטרטגיית תקשורת וניהול מוניטין

### 1. ניהול משברים
- נוהל תגובה למקרה של ביקורת על התיקונים או על הגישה ההלכתית
- מערך תמיכה רבני למענה על שאלות הלכתיות מורכבות

### 2. סיפור המותג
- התמקדות בסיפור של "החזרת הקדושה" לטקסטים
- הדגשת החיבור בין מסורת ומודרניות, טכנולוגיה וקדושה

### 3. גישה לא-פוליטית
- שמירה על ניטרליות והתמקדות בנושא הליבה של קדושת השם
- מתן מענה לכל הזרמים ביהדות, בלי קשר לגישתם הפוליטית או דתית

## סיכום ומדדי הצלחה ארוכי טווח

### חזון ל-3 שנים
- **פלטפורמה בהיקף גדול**: 100,000+ משתמשים פעילים בחודש
- **תיקון מאסיבי**: 80% מהטקסטים הפופולריים ברוסית מתוקנים
- **קהילה חזקה**: קהילה של 20,000+ משתמשים פעילים
- **מודל עסקי בר-קיימא**: רווחיות מלאה דרך שירותי פרימיום והדפסה

### השפעה תרבותית
המטרה הסופית היא לא רק לבנות אפליקציה מצליחה, אלא לחולל שינוי תרבותי במודעות לחשיבות קדושת שם ה׳ בקהילות דוברות רוסית, ולהפוך את התיקון לסטנדרט מקובל בכל טקסט דתי.

### קריאה לפעולה
"תהילים בקדושה" היא יותר מסתם אפליקציה - זוהי תנועה לשיקום ושמירת קדושת שם ה׳ בעידן הדיגיטלי, ואנו מזמינים את כל מי שהנושא חשוב לו להצטרף למהפכה זו./**
 * פיצ'רים נוספים וקוד מתקדם - תהילים בקדושה
 * 
 * מסמך זה מציג תכונות מתקדמות שניתן להוסיף לאפליקציה
 * כולל דוגמאות קוד ליישום
 */

// ===================================================
// 1. מנוע זיהוי והמלצות מבוסס AI
// ===================================================

/**
 * מנוע זיהוי מתקדם של שם ה' בטקסטים רוסיים
 * שמשתמש בלמידת מכונה לזיהוי שמות גם בהקשרים מורכבים
 */
class DivineLearningModel {
  constructor() {
    this.model = null;
    this.vocabulary = new Set();
    this.threshold = 0.85; // סף ביטחון לזיהוי
  }
  
  /**
   * טעינת המודל המאומן
   */
  async loadModel() {
    try {
      // ביישום אמיתי: טעינה של מודל TensorFlow.js או שימוש בשירות API
      console.log('Loading divine name detection model...');
      this.model = {
        predict: (text) => this._mockPredict(text)
      };
      
      // טעינת אוצר המילים של שמות ה' וצורותיהם
      await this.loadVocabulary();
      
      return true;
    } catch (error) {
      console.error('Error loading model:', error);
      return false;
    }
  }
  
  /**
   * טעינת אוצר מילים מורחב של שמות ה' ומושגים קשורים
   */
  async loadVocabulary() {
    // בסיס שמות ה' ברוסית (גרסה פשוטה, בפועל יהיה הרבה יותר מורחב)
    const basicNames = [
      'Господь', 'Бог', 'Всевышний', 'Иегова', 'ЙХВХ', 'Яхве', 'Адонай',
      'Элохим', 'Саваоф', 'Шаддай', 'Вседержитель', 'Всемогущий', 'Творец'
    ];
    
    // הוספת הטיות שונות
    for (const name of basicNames) {
      this.vocabulary.add(name);
      this.vocabulary.add(name.toLowerCase());
      
      // הוספת הטיות נפוצות (במקרה אמיתי יהיה מורכב יותר)
      const inflections = [
        name + 'а', name + 'у', name + 'ом', name + 'е',   // הטיות רוסיות בסיסיות
        name + 'ом', name + 'ами', name + 'ах'            // יחסות נוספות
      ];
      
      inflections.forEach(word => this.vocabulary.add(word));
    }
    
    console.log(`Vocabulary loaded with ${this.vocabulary.size} terms`);
  }
  
  /**
   * זיהוי שמות ה' בטקסט
   * @param {string} text - הטקסט לניתוח
   * @returns {Array} מערך של שמות שזוהו עם מיקומים
   */
  async detectDivineNames(text) {
    if (!this.model) {
      await this.loadModel();
    }
    
    const results = [];
    
    // 1. זיהוי בסיסי מבוסס מילון
    const words = text.split(/\s+/);
    words.forEach((word, index) => {
      // ניקוי סימני פיסוק
      const cleanWord = word.replace(/[.,!?;:()"'-]/g, '');
      
      if (this.vocabulary.has(cleanWord)) {
        const start = text.indexOf(word);
        results.push({
          word: cleanWord,
          start,
          end: start + word.length,
          confidence: 1.0,
          method: 'vocabulary'
        });
      }
    });
    
    // 2. זיהוי מתקדם מבוסס מודל
    const modelPredictions = await this.model.predict(text);
    
    // סינון תוצאות לפי סף ביטחון ואיחוד עם תוצאות קודמות
    modelPredictions
      .filter(pred => pred.confidence >= this.threshold)
      .forEach(pred => {
        // הימנעות מכפילויות
        if (!results.some(r => Math.abs(r.start - pred.start) < 5)) {
          results.push({
            ...pred,
            method: 'model'
          });
        }
      });
    
    return results.sort((a, b) => a.start - b.start);
  }
  
  /**
   * פונקציית חיזוי בסיסית למטרות הדגמה
   * (במימוש אמיתי זה יהיה מודל מאומן אמיתי)
   */
  _mockPredict(text) {
    const results = [];
    
    // חיפוש דפוסים מורכבים יותר
    // לדוגמה: "Г-дь", "Г-сподь", "Б-г"
    const patterns = [
      { regex: /Г-дь/g, replacement: 'Господь' },
      { regex: /Г-сподь/g, replacement: 'Господь' },
      { regex: /Б-г/g, replacement: 'Бог' }
    ];
    
    patterns.forEach(pattern => {
      let match;
      while ((match = pattern.regex.exec(text)) !== null) {
        results.push({
          word: pattern.replacement,
          start: match.index,
          end: match.index + match[0].length,
          confidence: 0.95
        });
      }
    });
    
    // חיפוש מופעים בהקשר של פסוקים
    const contextPatterns = [
      'сказал', 'говорит', 'заповедал', 'благословил', 'повелел'
    ];
    
    contextPatterns.forEach(verb => {
      const regex = new RegExp(`(\\w+)\\s+${verb}`, 'g');
      let match;
      
      while ((match = regex.exec(text)) !== null) {
        const potentialName = match[1];
        
        // בדיקה שזה לא כבר שם מוכר וגם לא מילה שכיחה אחרת
        if (!this.vocabulary.has(potentialName) && 
            !['он', 'она', 'я', 'ты', 'мы', 'вы', 'они'].includes(potentialName.toLowerCase())) {
          
          results.push({
            word: potentialName,
            start: match.index,
            end: match.index + potentialName.length,
            confidence: 0.87,
            context: `${potentialName} ${verb}`
          });
        }
      }
    });
    
    return Promise.resolve(results);
  }
}

// ===================================================
// 2. מערכת המלצות אישית
// ===================================================

/**
 * מערכת המלצות לפרקי תהילים ותפילות רלוונטיות
 * בהתאם להיסטוריית הקריאה והעדפות המשתמש
 */
class RecommendationEngine {
  constructor(userManager, chapterManager) {
    this.userManager = userManager;
    this.chapterManager = chapterManager;
    this.userPreferences = new Map(); // מטמון העדפות משתמשים
    this.similarityMatrix = new Map(); // מטריצת דמיון בין פרקים
  }
  
  /**
   * אתחול מטריצת הדמיון בין פרקים
   * (ביישום אמיתי יהיה מורכב יותר ומבוסס למידת מכונה)
   */
  async initializeSimilarityMatrix() {
    // הגדרת קבוצות נושא
    const themeGroups = {
      'praise': [8, 19, 23, 33, 34, 92, 100, 103, 104, 145, 146, 147, 148, 149, 150],
      'distress': [3, 4, 5, 7, 10, 13, 17, 22, 25, 31, 40, 42, 43, 54, 56, 57, 69, 70, 71, 77],
      'trust': [11, 16, 23, 27, 62, 63, 91, 121, 125, 131],
      'wisdom': [1, 15, 19, 37, 49, 73, 111, 112, 119, 127, 128, 133],
      'kingship': [2, 18, 20, 21, 45, 72, 89, 101, 110, 132, 144],
      'history': [78, 105, 106, 135, 136],
      'penitential': [6, 32, 38, 51, 102, 130, 143]
    };
    
    // עבור כל פרק, חישוב הדמיון לפרקים אחרים
    for (let i = 1; i <= 150; i++) {
      const similarChapters = new Map();
      
      // חיפוש הנושאים שהפרק הנוכחי שייך אליהם
      const currentThemes = Object.entries(themeGroups)
        .filter(([theme, chapters]) => chapters.includes(i))
        .map(([theme]) => theme);
      
      // חישוב דמיון לפרקים אחרים לפי שיתוף נושאים
      for (let j = 1; j <= 150; j++) {
        if (i === j) continue;
        
        // הנושאים של הפרק השני
        const otherThemes = Object.entries(themeGroups)
          .filter(([theme, chapters]) => chapters.includes(j))
          .map(([theme]) => theme);
        
        // מספר הנושאים המשותפים
        const commonThemes = currentThemes.filter(theme => otherThemes.includes(theme));
        
        // חישוב דמיון כאחוז הנושאים המשותפים
        const similarity = commonThemes.length / 
          Math.max(1, Math.max(currentThemes.length, otherThemes.length));
        
        if (similarity > 0.2) { // שמירה רק של דמיון משמעותי
          similarChapters.set(j, similarity);
        }
      }
      
      // מיון לפי דמיון ושמירת 10 הדומים ביותר
      const sortedSimilar = [...similarChapters.entries()]
        .sort((a, b) => b[1] - a[1])
        .slice(0, 10);
      
      this.similarityMatrix.set(i, new Map(sortedSimilar));
    }
    
    console.log('Similarity matrix initialized');
  }
  
  /**
   * העדכון פרופיל העדפות משתמש
   * @param {string} userId - מזהה המשתמש
   */
  async updateUserPreferences(userId) {
    try {
      // טעינת היסטוריית הקריאה
      const readHistory = await this.userManager.getUserReadHistory(userId);
      
      // חישוב תדירות קריאה לפי נושאים
      const themeFrequency = {
        'praise': 0,
        'distress': 0,
        'trust': 0,
        'wisdom': 0,
        'kingship': 0,
        'history': 0,
        'penitential': 0
      };
      
      // הגדרה של פרק לנושאים
      const chapterToThemes = {
        1: ['wisdom'], 2: ['kingship'], 3: ['distress'], 
        // יותר מידי לפרט את כולם כאן, אך בפועל יהיה מיפוי מלא
        23: ['praise', 'trust'], 
        51: ['penitential'],
        119: ['wisdom'],
        150: ['praise']
      };
      
      // עדכון תדירות לפי היסטוריית קריאה
      readHistory.forEach(item => {
        const chapter = item.chapterId;
        const themes = chapterToThemes[chapter] || [];
        
        // הוספת משקל מבוסס זמן - קריאות אחרונות מקבלות משקל גבוה יותר
        const daysAgo = Math.floor((Date.now() - new Date(item.timestamp).getTime()) / (1000 * 60 * 60 * 24));
        const weight = Math.max(0.1, 1 - (daysAgo / 30)); // דעיכה על פני חודש
        
        themes.forEach(theme => {
          themeFrequency[theme] = (themeFrequency[theme] || 0) + weight;
        });
      });
      
      // נירמול לאחוזים
      const total = Object.values(themeFrequency).reduce((sum, val) => sum + val, 0);
      if (total > 0) {
        Object.keys(themeFrequency).forEach(theme => {
          themeFrequency[theme] /= total;
        });
      }
      
      // שמירת הפרופיל
      this.userPreferences.set(userId, {
        themePreferences: themeFrequency,
        lastUpdated: new Date(),
        readHistory: readHistory.map(item => item.chapterId)
      });
      
      return themeFrequency;
    } catch (error) {
      console.error(`Error updating user preferences for ${userId}:`, error);
      return null;
    }
  }
  
  /**
   * קבלת המלצות מותאמות אישית
   * @param {string} userId - מזהה המשתמש
   * @param {number} limit - מספר ההמלצות לקבל
   * @returns {Promise<Array>} רשימת המלצות
   */
  async getPersonalizedRecommendations(userId, limit = 5) {
    try {
      // וידוא שיש לנו העדפות מעודכנות
      if (!this.userPreferences.has(userId) || 
          Date.now() - this.userPreferences.get(userId).lastUpdated > 24 * 60 * 60 * 1000) {
        await this.updateUserPreferences(userId);
      }
      
      // בדיקה שמטריצת הדמיון טעונה
      if (this.similarityMatrix.size === 0) {
        await this.initializeSimilarityMatrix();
      }
      
      const userPrefs = this.userPreferences.get(userId);
      if (!userPrefs) {
        throw new Error(`No preferences found for user ${userId}`);
      }
      
      // הפרקים שכבר נקראו
      const readChapters = new Set(userPrefs.readHistory || []);
      
      // חישוב ציון לכל פרק על בסיס העדפות הנושא
      const chapterScores = new Map();
      
      // הגדרה של פרק לנושאים (חלקי, במימוש מלא יהיה מיפוי מלא)
      const chapterToThemes = {
        1: ['wisdom'], 2: ['kingship'], 3: ['distress'], 
        23: ['praise', 'trust'], 
        51: ['penitential'],
        119: ['wisdom'],
        150: ['praise']
        // וכו'
      };
      
      // חישוב ציון בסיסי לכל פרק לפי העדפות נושא
      for (let i = 1; i <= 150; i++) {
        if (readChapters.has(i)) continue; // דילוג על פרקים שכבר נקראו
        
        const themes = chapterToThemes[i] || [];
        let score = 0;
        
        // חישוב ציון לפי העדפות נושא
        themes.forEach(theme => {
          score += userPrefs.themePreferences[theme] || 0;
        });
        
        // חישוב המלצות גם לפי דמיון לפרקים אהובים
        const recentFavorites = userPrefs.readHistory.slice(-5);
        recentFavorites.forEach(favoriteChapter => {
          const similarityScore = this.similarityMatrix.get(favoriteChapter)?.get(i) || 0;
          score += similarityScore * 0.5; // משקל מופחת לדמיון
        });
        
        if (score > 0) {
          chapterScores.set(i, score);
        }
      }
      
      // מיון ובחירת ההמלצות הטובות ביותר
      const recommendations = [...chapterScores.entries()]
        .sort((a, b) => b[1] - a[1])
        .slice(0, limit)
        .map(([chapterId, score]) => ({ chapterId, score }));
      
      // טעינת פרטי הפרקים המומלצים
      const detailedRecommendations = await Promise.all(
        recommendations.map(async rec => {
          const chapter = await this.chapterManager.loadChapter(rec.chapterId);
          return {
            ...rec,
            title: chapter.title,
            verseCount: chapter.verses.length,
            themes: chapterToThemes[rec.chapterId] || []
          };
        })
      );
      
      return detailedRecommendations;
    } catch (error) {
      console.error(`Error getting recommendations for user ${userId}:`, error);
      
      // במקרה של שגיאה, החזרת המלצות ברירת מחדל
      return [
        { chapterId: 23, title: "מזמור לדוד" },
        { chapterId: 121, title: "שיר למעלות" },
        { chapterId: 150, title: "הללויה" }
      ];
    }
  }
}

// ===================================================
// 3. מנוע קריאה מתקדם עם ניקוד וטעמים
// ===================================================

/**
 * מנוע קריאה מתקדם עם תמיכה בניקוד וטעמים
 */
class AdvancedTextRenderer {
  constructor() {
    this.hebrewFontFamily = 'Frank Ruhl Libre, SBL Hebrew, serif';
    this.russianFontFamily = 'Times New Roman, serif';
    this.colorSchemes = {
      default: {
        text: '#212529',
        divineName: '#B45309',
        accent: '#4361EE',
        background: '#FFFFFF'
      },
      night: {
        text: '#E2E8F0',
        divineName: '#F6CF56',
        accent: '#93C5FD',
        background: '#1A202C'
      },
      sepia: {
        text: '#4B3621',
        divineName: '#8B4513',
        accent: '#654321',
        background: '#F5F0DC'
      }
    };
  }
  
  /**
   * הכנת טקסט עם ניקוד וטעמים לתצוגה
   * @param {string} text - הטקסט המקורי
   * @param {Object} options - אפשרויות עיצוב
   * @returns {string} קוד HTML לתצוגה
   */
  renderHebrewWithNikud(text, options = {}) {
    const {
      fontSize = 20,
      showNikud = true,
      showTaamim = false,
      colorScheme = 'default',
      divineNameStyle = 'ה׳',
      lineHeight = 1.8
    } = options;
    
    // בחירת סכמת צבעים
    const colors = this.colorSchemes[colorScheme] || this.colorSchemes.default;
    
    // עיבוד הטקסט והחלפת שם ה'
    let processedText = text;
    
    // החלפת שם ה' בסגנון הרצוי
    processedText = processedText.replace(/יהוה|ה\'|י-ה-ו-ה|השם|יי|אדנ-י/g, 
      `<span class="divine-name" style="color: ${colors.divineName}; font-weight: 700;">${divineNameStyle}</span>`);
    
    // הסתרת ניקוד וטעמים אם צריך
    if (!showNikud) {
      // הסרת כל הניקוד (Unicode range for Hebrew points)
      processedText = processedText.replace(/[\u05B0-\u05BC\u05C1-\u05C2\u05C4-\u05C7]/g, '');
    }
    
    if (!showTaamim) {
      // הסרת כל הטעמים (Unicode range for Hebrew cantillation marks)
      processedText = processedText.replace(/[\u0591-\u05AF]/g, '');
    }
    
    // יצירת סגנון CSS למכל
    const containerStyle = `
      font-family: ${this.hebrewFontFamily};
      font-size: ${fontSize}px;
      line-height: ${lineHeight};
      color: ${colors.text};
      background-color: ${colors.background};
      padding: 16px;
      border-radius: 8px;
      white-space: pre-wrap;
      direction: rtl;
      text-align: right;
    `;
    
    // יצירת HTML מוכן
    return `<div class="hebrew-text" style="${containerStyle}">${processedText}</div>`;
  }
  
  /**
   * הכנת טקסט רוסי עם שם ה' מתוקן לתצוגה
   * @param {string} text - הטקסט המקורי
   * @param {Object} options - אפשרויות עיצוב
   * @returns {string} קוד HTML לתצוגה
   */
  renderRussianWithDivineNames(text, options = {}) {
    const {
      fontSize = 18,
      colorScheme = 'default',
      divineNameStyle = 'ה׳',
      lineHeight = 1.6
    } = options;
    
    // בחירת סכמת צבעים
    const colors = this.colorSchemes[colorScheme] || this.colorSchemes.default;
    
    // החלפת שמות ה' ידועים
    const divineNameRegex = /Господь|Бог|Всевышний|Иегова|ЙХВХ|Яхве|Адонай|Элохим|Саваоф|Шаддай/g;
    const processedText = text.replace(divineNameRegex, 
      `<span class="divine-name" style="color: ${colors.divineName}; font-weight: 700;">${divineNameStyle}</span>`);
    
    // יצירת סגנון CSS למכל
    const containerStyle = `
      font-family: ${this.russianFontFamily};
      font-size: ${fontSize}px;
      line-height: ${lineHeight};
      color: ${colors.text};
      background-color: ${colors.background};
      padding: 16px;
      border-radius: 8px;
      white-space: pre-wrap;
      direction: ltr;
      text-align: left;
    `;
    
    // יצירת HTML מוכן
    return `<div class="russian-text" style="${containerStyle}">${processedText}</div>`;
  }
  
  /**
   * תצוגה דו-לשונית של פסוק
   * @param {Object} verse - אובייקט הפסוק עם טקסט עברי ורוסי
   * @param {Object} options - אפשרויות עיצוב
   * @returns {string} קוד HTML לתצוגה
   */
  renderBilingualVerse(verse, options = {}) {
    const {
      layout = 'stacked',  // 'stacked' או 'side-by-side'
      verseNumber = true,
      verseNumberStyle = 'circle' // 'circle', 'square', או 'simple'
    } = options;
    
    // רינדור הטקסטים
    const hebrewHtml = this.renderHebrewWithNikud(verse.hebrewText, options);
    const russianHtml = this.renderRussianWithDivineNames(verse.russianText, options);
    
    // סגנון למספר פסוק
    let verseNumberHtml = '';
    if (verseNumber) {
      const verseNumberClass = `verse-number ${verseNumberStyle}`;
      const colors = this.colorSchemes[options.colorScheme || 'default'];
      
      const verseNumberStyle = `
        display: inline-flex;
        align-items: center;
        justify-content: center;
        ${verseNumberStyle === 'circle' ? 'border-radius: 50%;' : 
          verseNumberStyle === 'square' ? 'border-radius: 4px;' : ''}
        background-color: ${colors.accent};
        color: white;
        font-weight: 700;
        width: 24px;
        height: 24px;
        font-size: 14px;
        margin: 0 0 0 8px;
      `;
      
      verseNumberHtml = `<span class="${verseNumberClass}" style="${verseNumberStyle}">${verse.number}</span>`;
    }
    
    // שילוב הכל ביחד לפי הלייאאוט
    if (layout === 'side-by-side') {
      return `
        <div class="bilingual-verse" style="display: flex; gap: 20px; margin-bottom: 20px;">
          <div class="verse-container" style="flex: 1;">${verseNumberHtml}${hebrewHtml}</div>
          <div class="verse-container" style="flex: 1;">${russianHtml}</div>
        </div>
      `;
    } else {
      return `
        <div class="bilingual-verse" style="margin-bottom: 20px;">
          <div class="verse-container">${verseNumberHtml}${hebrewHtml}</div>
          <div class="verse-container" style="margin-top: 8px;">${russianHtml}</div>
        </div>
      `;
    }
  }
}

// ===================================================
// 4. יכולות סנכרון וגיבוי
// ===================================================

/**
 * מערכת סנכרון וגיבוי נתוני משתמש
 */
class UserDataSync {
  constructor(dataService) {
    this.dataService = dataService;
    this.syncQueue = [];
    this.isSyncing = false;
    this.lastSyncTime = null;
    this.localStorageKey = 'tehilim_user_data';
  }
  
  /**
   * אתחול מערכת הסנכרון
   * @param {string} userId - מזהה המשתמש
   */
  async initialize(userId) {
    this.userId = userId;
    
    // טעינת היסטוריית סנכרון מקומית
    this.loadLocalSyncHistory();
    
    // הגדרת טיימר לסנכרון אוטומטי
    setInterval(() => this.performSync(), 5 * 60 * 1000); // כל 5 דקות
    
    // ניסיון ראשוני לסנכרון
    await this.performSync();
    
    // הקשבה לאירועי מקוון/לא מקוון
    window.addEventListener('online', () => this.handleOnlineStatus(true));
    window.addEventListener('offline', () => this.handleOnlineStatus(false));
    
    // הקשבה לסגירת החלון כדי לנסות סנכרון אחרון
    window.addEventListener('beforeunload', () => this.performSync());
    
    console.log('User data sync initialized for user', userId);
  }
  
  /**
   * הוספת פעולה לתור הסנכרון
   * @param {string} type - סוג הפעולה
   * @param {Object} data - נתוני הפעולה
   */
  queueAction(type, data) {
    const action = {
      id: this._generateId(),
      type,
      data,
      timestamp: new Date().toISOString(),
      userId: this.userId,
      status: 'pending'
    };
    
    this.syncQueue.push(action);
    this.saveLocalSyncQueue();
    
    // ניסimport React, { useState, useEffect } from 'react';

const TehilimViewer = () => {
  const [selectedPsalm, setSelectedPsalm] = useState(1);
  const [psalmText, setPsalmText] = useState({ hebrew: '', russian: '' });
  const [displayMode, setDisplayMode] = useState('dual'); // 'hebrew', 'russian', 'dual'
  const [fontSize, setFontSize] = useState('medium'); // 'small', 'medium', 'large'
  const [divineNameStyle, setDivineNameStyle] = useState('dash'); // 'dash', 'hebrew', 'hashem'
  const [isLoading, setIsLoading] = useState(true);
  const [favorites, setFavorites] = useState([]);
  const [showSettings, setShowSettings] = useState(false);

  // Sample psalm data (in a real app, this would come from an API or database)
  const psalms = {
    1: {
      hebrew: 'אַשְׁרֵי הָאִישׁ אֲשֶׁר לֹא הָלַךְ בַּעֲצַת רְשָׁעִים וּבְדֶרֶךְ חַטָּאִים לֹא עָמָד וּבְמוֹשַׁב לֵצִים לֹא יָשָׁב׃ כִּי אִם בְּתוֹרַת יְהוָה חֶפְצוֹ וּבְתוֹרָתוֹ יֶהְגֶּה יוֹמָם וָלָיְלָה׃ וְהָיָה כְּעֵץ שָׁתוּל עַל־פַּלְגֵי מָיִם אֲשֶׁר פִּרְיוֹ יִתֵּן בְּעִתּוֹ וְעָלֵהוּ לֹא־יִבּוֹל וְכֹל אֲשֶׁר־יַעֲשֶׂה יַצְלִיחַ׃',
      russian: 'Блажен муж, который не ходит на совет нечестивых, и не стоит на пути грешников, и не сидит в собрании развратителей. Но в законе Господа воля его, и о законе Его размышляет он день и ночь. И будет он как дерево, посаженное при потоках вод, которое приносит плод свой во время свое, и лист которого не вянет; и во всем, что он ни делает, успеет.'
    },
    2: {
      hebrew: 'לָמָּה רָגְשׁוּ גוֹיִם וּלְאֻמִּים יֶהְגּוּ־רִיק׃ יִתְיַצְּבוּ מַלְכֵי־אֶרֶץ וְרוֹזְנִים נוֹסְדוּ־יָחַד עַל־יְהוָה וְעַל־מְשִׁיחוֹ׃ נְנַתְּקָה אֶת־מוֹסְרוֹתֵימוֹ וְנַשְׁלִיכָה מִמֶּנּוּ עֲבֹתֵימוֹ׃',
      russian: 'Зачем мятутся народы, и племена замышляют тщетное? Восстают цари земли, и князья совещаются вместе против Господа и против Помазанника Его: «Расторгнем узы их, и свергнем с себя оковы их».'
    },
    3: {
      hebrew: 'מִזְמוֹר לְדָוִד בְּבָרְחוֹ מִפְּנֵי אַבְשָׁלוֹם בְּנוֹ׃ יְהוָה מָה־רַבּוּ צָרָי רַבִּים קָמִים עָלָי׃ רַבִּים אֹמְרִים לְנַפְשִׁי אֵין יְשׁוּעָתָה לּוֹ בֵאלֹהִים סֶלָה׃',
      russian: 'Псалом Давида, когда он бежал от Авессалома, сына своего. Господи! как умножились враги мои! Многие восстают на меня. Многие говорят душе моей: «нет ему спасения в Боге».'
    },
    4: {
      hebrew: 'לַמְנַצֵּחַ בִּנְגִינוֹת מִזְמוֹר לְדָוִד׃ בְּקָרְאִי עֲנֵנִי אֱלֹהֵי צִדְקִי בַּצָּר הִרְחַבְתָּ לִּי חָנֵּנִי וּשְׁמַע תְּפִלָּתִי׃',
      russian: 'Начальнику хора. На струнных орудиях. Псалом Давида. Когда я взываю, услышь меня, Боже правды моей! В тесноте Ты давал мне простор. Помилуй меня и услышь молитву мою.'
    },
    5: {
      hebrew: 'לַמְנַצֵּחַ אֶל־הַנְּחִילוֹת מִזְמוֹר לְדָוִד׃ אֲמָרַי הַאֲזִינָה יְהוָה בִּינָה הֲגִיגִי׃ הַקְשִׁיבָה לְקוֹל שַׁוְעִי מַלְכִּי וֵאלֹהָי כִּי־אֵלֶיךָ אֶתְפַּלָּל׃',
      russian: 'Начальнику хора. На духовых орудиях. Псалом Давида. Услышь, Господи, слова мои, уразумей помышления мои. Внемли гласу вопля моего, Царь мой и Бог мой! ибо я к Тебе молюсь.'
    }
  };

  // Format divine names in Russian text based on selected style
  const formatDivineNames = (text) => {
    if (!text) return '';
    
    const divineNameMappings = {
      'dash': {
        'Господь': 'Г-сподь',
        'Господа': 'Г-спода',
        'Господу': 'Г-споду',
        'Господом': 'Г-сподом',
        'Боже': 'Б-же',
        'Бог': 'Б-г',
        'Бога': 'Б-га',
        'Богу': 'Б-гу',
        'Богом': 'Б-гом',
        'Всевышний': 'Вс-вышний',
        'Всевышнего': 'Вс-вышнего',
        'Всевышнему': 'Вс-вышнему',
        'Всевышним': 'Вс-вышним'
      },
      'hebrew': {
        'Господь': 'ה׳',
        'Господа': 'ה׳',
        'Господу': 'ה׳',
        'Господом': 'ה׳',
        'Боже': 'ה׳',
        'Бог': 'ה׳',
        'Бога': 'ה׳',
        'Богу': 'ה׳',
        'Богом': 'ה׳',
        'Всевышний': 'ה׳',
        'Всевышнего': 'ה׳',
        'Всевышнему': 'ה׳',
        'Всевышним': 'ה׳'
      },
      'hashem': {
        'Господь': 'а-Шем',
        'Господа': 'а-Шема',
        'Господу': 'а-Шему',
        'Господом': 'а-Шемом',
        'Боже': 'Вс-вышний',
        'Бог': 'Вс-вышний',
        'Бога': 'Вс-вышнего',
        'Богу': 'Вс-вышнему',
        'Богом': 'Вс-вышним',
        'Всевышний': 'Вс-вышний',
        'Всевышнего': 'Вс-вышнего',
        'Всевышнему': 'Вс-вышнему',
        'Всевышним': 'Вс-вышним'
      }
    };
    
    // Replace divine names in text
    let formattedText = text;
    const names = divineNameMappings[divineNameStyle];
    
    Object.keys(names).forEach(name => {
      const regex = new RegExp(`\\b${name}\\b`, 'g');
      formattedText = formattedText.replace(regex, `<span class="divine-name">${names[name]}</span>`);
    });
    
    return formattedText;
  };
  
  // Format divine names in Hebrew text
  const formatHebrewDivineNames = (text) => {
    if (!text) return '';
    
    // Replace the Tetragrammaton with the appropriate format based on style
    const replacements = {
      'dash': 'י-ה-ו-ה',
      'hebrew': 'ה׳',
      'hashem': 'השם'
    };
    
    return text.replace(/יְהוָה/g, `<span class="divine-name-hebrew">${replacements[divineNameStyle]}</span>`);
  };

  // Load psalm when selectedPsalm changes
  useEffect(() => {
    setIsLoading(true);
    
    // Simulate API call delay
    setTimeout(() => {
      if (psalms[selectedPsalm]) {
        setPsalmText({
          hebrew: formatHebrewDivineNames(psalms[selectedPsalm].hebrew),
          russian: formatDivineNames(psalms[selectedPsalm].russian)
        });
      } else {
        setPsalmText({
          hebrew: 'פרק לא נמצא',
          russian: 'Псалом не найден'
        });
      }
      setIsLoading(false);
    }, 300);
  }, [selectedPsalm, divineNameStyle]);

  // Toggle favorites
  const toggleFavorite = () => {
    if (favorites.includes(selectedPsalm)) {
      setFavorites(favorites.filter(id => id !== selectedPsalm));
    } else {
      setFavorites([...favorites, selectedPsalm]);
    }
  };

  // Get font size class
  const getFontSizeClass = () => {
    switch (fontSize) {
      case 'small': return 'text-sm';
      case 'large': return 'text-xl';
      default: return 'text-base';
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 flex flex-col">
      {/* Header */}
      <header className="bg-blue-600 text-white p-4 shadow-md">
        <div className="container mx-auto flex justify-between items-center">
          <h1 className="text-xl font-bold">Тикун Ха-Шем — Техилим</h1>
          <button 
            onClick={() => setShowSettings(!showSettings)}
            className="p-2 rounded-full hover:bg-blue-500 transition-colors"
          >
            ⚙️
          </button>
        </div>
      </header>

      {/* Settings Panel */}
      {showSettings && (
        <div className="bg-white shadow-md p-4 border-b border-gray-200">
          <div className="container mx-auto">
            <h2 className="text-lg font-semibold mb-3">Настройки</h2>
            
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              {/* Display Mode */}
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Режим отображения</label>
                <select 
                  value={displayMode} 
                  onChange={(e) => setDisplayMode(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                >
                  <option value="dual">Иврит + Русский</option>
                  <option value="hebrew">Только Иврит</option>
                  <option value="russian">Только Русский</option>
                </select>
              </div>
              
              {/* Font Size */}
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Размер шрифта</label>
                <select 
                  value={fontSize} 
                  onChange={(e) => setFontSize(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                >
                  <option value="small">Маленький</option>
                  <option value="medium">Средний</option>
                  <option value="large">Крупный</option>
                </select>
              </div>
              
              {/* Divine Name Style */}
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Стиль имени Вс-вышнего</label>
                <select 
                  value={divineNameStyle} 
                  onChange={(e) => setDivineNameStyle(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                >
                  <option value="dash">С дефисом (Б-г)</option>
                  <option value="hebrew">Иврит (ה׳)</option>
                  <option value="hashem">Словом (а-Шем)</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      )}

      {/* Navigation */}
      <div className="bg-white shadow-sm border-b border-gray-200">
        <div className="container mx-auto p-4">
          <div className="flex items-center justify-between">
            <div className="flex items-center space-x-2">
              <button 
                onClick={() => setSelectedPsalm(prev => Math.max(1, prev - 1))}
                disabled={selectedPsalm === 1}
                className="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50"
              >
                ◀
              </button>
              
              <div className="relative w-24">
                <select 
                  value={selectedPsalm}
                  onChange={(e) => setSelectedPsalm(Number(e.target.value))}
                  className="block w-full pl-3 pr-10 py-2 text-center bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                >
                  {[...Array(150)].map((_, i) => (
                    <option key={i + 1} value={i + 1}>
                      {i + 1}
                    </option>
                  ))}
                </select>
              </div>
              
              <button 
                onClick={() => setSelectedPsalm(prev => Math.min(150, prev + 1))}
                disabled={selectedPsalm === 150}
                className="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50"
              >
                ▶
              </button>
            </div>
            
            <div className="flex items-center space-x-4">
              <button 
                onClick={toggleFavorite}
                className={`p-2 rounded-full ${favorites.includes(selectedPsalm) ? 'text-yellow-500' : 'text-gray-400'}`}
              >
                ★
              </button>
              
              <button className="p-2 rounded-full text-gray-500 hover:text-gray-700">
                🖨️
              </button>
              
              <button className="p-2 rounded-full text-gray-500 hover:text-gray-700">
                💾
              </button>
            </div>
          </div>
        </div>
      </div>

      {/* Main Content */}
      <main className="flex-grow container mx-auto p-4">
        {isLoading ? (
          <div className="flex justify-center items-center h-64">
            <div className="text-blue-500">Загрузка...</div>
          </div>
        ) : (
          <div className="bg-white rounded-lg shadow-md p-6">
            <h2 className="text-2xl font-bold mb-4 text-center text-blue-700">
              Псалом {selectedPsalm} / תהילים {selectedPsalm}
            </h2>
            
            <div className={`space-y-6 ${getFontSizeClass()}`}>
              {/* Hebrew Text */}
              {(displayMode === 'hebrew' || displayMode === 'dual') && (
                <div className="psalm-text hebrew">
                  <h3 className="text-lg font-semibold mb-2 text-gray-700">עברית</h3>
                  <div 
                    className="text-right font-serif leading-loose" 
                    dir="rtl"
                    dangerouslySetInnerHTML={{ __html: psalmText.hebrew }}
                  />
                </div>
              )}
              
              {/* Russian Text */}
              {(displayMode === 'russian' || displayMode === 'dual') && (
                <div className="psalm-text russian">
                  <h3 className="text-lg font-semibold mb-2 text-gray-700">Русский</h3>
                  <div 
                    className="leading-relaxed"
                    dangerouslySetInnerHTML={{ __html: psalmText.russian }}
                  />
                </div>
              )}
            </div>
          </div>
        )}
      </main>

      {/* Footer */}
      <footer className="bg-gray-800 text-gray-200 py-4">
        <div className="container mx-auto text-center">
          <p className="text-sm">Тикун Ха-Шем — Чтение псалмов и молитв на двух языках для возвышения души.</p>
          <p className="text-xs mt-2">© {new Date().getFullYear()} Все права защищены / כל הזכויות שמורות</p>
        </div>
      </footer>
      
      {/* CSS for divine names */}
      <style jsx global>{`
        .divine-name {
          color: #B45309;
          font-weight: bold;
        }
        
        .divine-name-hebrew {
          color: #B45309;
          font-weight: bold;
        }
      `}</style>
    </div>
  );
};

export default TehilimViewer;
